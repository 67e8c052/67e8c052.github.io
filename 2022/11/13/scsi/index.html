<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Device parameters MTBF Mean Time Between Failure  MTBF, however, can be subject to misinterpretation. For example, an HDD might carry a 1M-hour MTBF, causing some customers to erroneously assume that">
<meta property="og:type" content="article">
<meta property="og:title" content="SCSI">
<meta property="og:url" content="http://example.com/2022/11/13/scsi/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Device parameters MTBF Mean Time Between Failure  MTBF, however, can be subject to misinterpretation. For example, an HDD might carry a 1M-hour MTBF, causing some customers to erroneously assume that">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-11-13T13:55:37.000Z">
<meta property="article:modified_time" content="2022-11-14T14:07:48.623Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="scsi">
<meta property="article:tag" content="sas">
<meta property="article:tag" content="sata">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>SCSI</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2022/11/14/bios/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2022/11/13/nvme/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2022/11/13/scsi/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2022/11/13/scsi/&text=SCSI"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2022/11/13/scsi/&title=SCSI"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2022/11/13/scsi/&is_video=false&description=SCSI"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=SCSI&body=Check out this article: http://example.com/2022/11/13/scsi/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2022/11/13/scsi/&title=SCSI"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2022/11/13/scsi/&title=SCSI"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2022/11/13/scsi/&title=SCSI"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2022/11/13/scsi/&title=SCSI"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2022/11/13/scsi/&name=SCSI&description=&lt;h3 id=&#34;Device-parameters&#34;&gt;&lt;a href=&#34;#Device-parameters&#34; class=&#34;headerlink&#34; title=&#34;Device parameters&#34;&gt;&lt;/a&gt;&lt;a href=&#34;https://www.seagate.com/www-content/surveillance-center/files/Understanding-Reliability-Metrics.pdf&#34;&gt;Device parameters&lt;/a&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;MTBF Mean Time Between Failure&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MTBF, however, can be subject to misinterpretation. For example, an HDD might carry a 1M-hour MTBF, causing some customers to erroneously assume that the drive should be able to run 24 hours a day for a century or more. Obviously, this is theoretical.&lt;/li&gt;
&lt;li&gt;MTBF is actually reached by dividing the total time a population of samples is under observation by the number of failures. If you have 1000 drives running for 1000 hours each, and five of them fail (1000×1000&amp;#x2F;5 ), you’ve then derived a 200K-hour MTBF. Because MTBF is typically calculated during an HDD’s useful life, consider a graph of failure rate over time, starting when a population of HDDs rolls off of the manufacturing line.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;AFR Annualized Failure Rate &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Recently, Seagate began offering AFR specs on some drives in addition to conventional MTBF ratings. Although the two metrics are similar, AFR is a percentage estimate of the products that will likely fail due to a defect over a 1-year period. The subtle distinction lies in a switch from averages to percentages. MTBF is based on probabilities; AFR relies on HDD return numbers and analyses for its estimates. AFRs don’t include HDDs returned without issues, those subjected to excessive shock or HDDs that were mishandled. Seagate expects AFR to help facilitate better service plans and spare unit strategies.&lt;ul&gt;
&lt;li&gt;Remember: AFR, as with any reliability metric, makes specific assumptions about how many hours an HDD is running per year, endured motor start&amp;#x2F;stop cycles, and internal temperature, all of which affect reliability. But AFR doesn’t necessarily help you get to the bottom of which HDD is right for your application. Enter the annualized workload rate (WRL).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;WRL Workload Rate Limit&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Seagate specifies a WRL—that is, the maximum read&amp;#x2F;write workload (also in terabytes per year) a given HDD is designed to accommodate. Enterprise-class drives feature a WRL of 300TB to 550TB&amp;#x2F;year. Specialty-tuned drives, including NAS, archive, video and surveillance families, are rated for 180TB&amp;#x2F;year; Seagate’s client portfolio (desktop and laptop HDDs) has a workload rate limit of 55TB&amp;#x2F;year, which is still a formidable amount of data within the client market segment.   &lt;/li&gt;
&lt;li&gt;Consider environmental conditions in your reliability projections. An insufficiently-cooled storage device, even operating under its WRL, will experience a higher failure rate than those at or under manufacturer specifications. Similarly, using a desktop HDD in a highly active chassis with significant vibration levels can also take a toll on the performance and reliability of the drive.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://blocksandfiles.com/2021/01/04/incremental-storage-media-density-magic-meant-flash-chipped-away-at-disk-in-2020/&#34;&gt;areal density&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;LTO-9 tape has 12 Gb&amp;#x2F;in2 areal density. An 18TB disk drive has 1022 Gb&amp;#x2F;in2. That means LTO-9 tape can achieve the same 18TB capacity with only 1&amp;#x2F;85th of the areal density than that of an 18TB disk. No wonder tape’s area density has such a large development head room.&lt;/li&gt;
&lt;li&gt;Many ssd areal density is the xx Gb&amp;#x2F;mm2 , search “Gb&amp;#x2F;inch2 to Gb&amp;#x2F;mm2” in google.&lt;/li&gt;
&lt;li&gt;1 Gigabit&amp;#x2F;square inch &amp;#x3D; 0.00155 Gigabit&amp;#x2F;square millimeter&lt;/li&gt;
&lt;li&gt;20TB HDD (1200 Gb&amp;#x2F;in2 &amp;#x3D; 1.86 Gb&amp;#x2F;mm2), &lt;a href=&#34;https://www.anandtech.com/show/16491/flash-memory-at-isscc-2021&#34;&gt;In 2021, 3d TLC top Density &amp;#x3D; 8.5 Gb&amp;#x2F;mm2 , 3d QLC top density &amp;#x3D; 13.8 Gb&amp;#x2F;mm2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://www.seagate.com/support/kb/annualized-workload-rate-005902en/&#34;&gt;Annualized Workload Rate&lt;/a&gt; &amp;#x3D; (Lifetime Writes + Lifetime Reads) * (8760 &amp;#x2F; Lifetime Power On Hours)  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;8760 are the number of hours in a year.  The Workload Rate becomes an annualized average expressed as TB&amp;#x2F;year.   &lt;ul&gt;
&lt;li&gt;Enterprise                300~550TB&amp;#x2F;year   &lt;/li&gt;
&lt;li&gt;NAS&amp;#x2F;archive&amp;#x2F;surveillance  180TB&amp;#x2F;year  &lt;/li&gt;
&lt;li&gt;desktop&amp;#x2F;laptop            55TB&amp;#x2F;year&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;How-many-devices-can-you-connect&#34;&gt;&lt;a href=&#34;#How-many-devices-can-you-connect&#34; class=&#34;headerlink&#34; title=&#34;How many devices can you connect?&#34;&gt;&lt;/a&gt;&lt;a href=&#34;https://www.microsemi.com/document-portal/doc_download/136098-university-training-what-is-sas&#34;&gt;How many devices can you connect?&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Individual SAS RAID adapters can typically support up to 128 end devices with the use of SAS expanders, and can communicate with both SAS and SATA devices.&lt;/p&gt;
&lt;p&gt;Note: Although you can use both SAS and SATA disk drives in the same SAS domain (see page 93), we recommend that you not combine SAS and SATA disk drives within the same array or logical&lt;br&gt;drive. The difference in performance between the two types of disk drives may adversely affect the performance of the array.&lt;/p&gt;
&lt;p&gt;However, as you read in the previous section, with the use of fanout and edge expanders, a single SAS domain can comprise up to 16,384 SAS ports.&lt;/p&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2022/11/13/scsi/&t=SCSI"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Device-parameters"><span class="toc-number">1.</span> <span class="toc-text">Device parameters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#How-many-devices-can-you-connect"><span class="toc-number">2.</span> <span class="toc-text">How many devices can you connect?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Does-the-SAS-support-the-full-duplex"><span class="toc-number">3.</span> <span class="toc-text">Does the SAS support the full-duplex ?</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#set-parameter-for-storage-system"><span class="toc-number">3.1.</span> <span class="toc-text">set parameter for storage system</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SCSI-command"><span class="toc-number">3.2.</span> <span class="toc-text">SCSI command</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#view-pages-from-the-enclosure"><span class="toc-number">3.2.1.</span> <span class="toc-text">view pages from the enclosure</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Avoid-multiple-JBOD-devs-across-in-single-raidz-script-flag"><span class="toc-number">3.2.2.</span> <span class="toc-text">Avoid multiple JBOD devs across in single raidz script_flag</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#map-element-index-and-sas-addr-script-flag"><span class="toc-number">3.2.3.</span> <span class="toc-text">map element index and sas addr script_flag</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#sg-modes-at-the-next"><span class="toc-number">3.2.4.</span> <span class="toc-text">sg_modes at the next</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Enable-SATA-TLER-x2F-ERC-x2F-CCTL"><span class="toc-number">3.3.</span> <span class="toc-text">Enable SATA TLER&#x2F;ERC&#x2F;CCTL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Get-hide-area-from-SATA-SSD"><span class="toc-number">3.4.</span> <span class="toc-text">Get hide area from SATA SSD</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Enable-SAS-x2F-SATA-dev-cache"><span class="toc-number">3.5.</span> <span class="toc-text">Enable SAS&#x2F;SATA dev cache</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#SAS-cache"><span class="toc-number">3.5.1.</span> <span class="toc-text">SAS cache</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SATA-cache"><span class="toc-number">3.6.</span> <span class="toc-text">SATA cache</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sector-size"><span class="toc-number">3.7.</span> <span class="toc-text">sector size</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#512e-SATA"><span class="toc-number">3.7.1.</span> <span class="toc-text">512e SATA</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4KN"><span class="toc-number">3.7.2.</span> <span class="toc-text">4KN</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Nominal-media-rotation-rate"><span class="toc-number">3.7.3.</span> <span class="toc-text">Nominal media rotation rate</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Does-devices-support-the-scsi-Persistent-Reservation"><span class="toc-number">3.8.</span> <span class="toc-text">Does devices support the scsi-Persistent-Reservation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#multipath"><span class="toc-number">3.9.</span> <span class="toc-text">multipath</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sg-read"><span class="toc-number">3.10.</span> <span class="toc-text">sg_read</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sg-readcap"><span class="toc-number">3.11.</span> <span class="toc-text">sg_readcap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sginfo"><span class="toc-number">3.12.</span> <span class="toc-text">sginfo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sg-logs"><span class="toc-number">3.13.</span> <span class="toc-text">sg_logs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sg-reassign"><span class="toc-number">3.14.</span> <span class="toc-text">sg_reassign</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SATA-reassign"><span class="toc-number">3.15.</span> <span class="toc-text">SATA reassign</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sg-senddiag"><span class="toc-number">3.16.</span> <span class="toc-text">sg_senddiag</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sg-inq"><span class="toc-number">3.17.</span> <span class="toc-text">sg_inq</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sg-vpd"><span class="toc-number">3.18.</span> <span class="toc-text">sg_vpd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SAS-2-Support-multiple-STP-affiliations"><span class="toc-number">3.19.</span> <span class="toc-text">SAS-2 Support multiple STP affiliations</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#disable-background-scans"><span class="toc-number">3.20.</span> <span class="toc-text">disable background scans</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sdparm-set-the-power-status-of-device"><span class="toc-number">3.21.</span> <span class="toc-text">sdparm set the power status of device</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Disable-SATA-power-save"><span class="toc-number">3.22.</span> <span class="toc-text">Disable SATA power save</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SAS-Link-layer-2-has-the-flow-control"><span class="toc-number">3.23.</span> <span class="toc-text">SAS Link layer 2 has the flow control</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux-mpt3sas-SCSI-error-handler"><span class="toc-number">3.24.</span> <span class="toc-text">Linux mpt3sas SCSI error handler</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#driver-mapping-page"><span class="toc-number">3.25.</span> <span class="toc-text">driver mapping page</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#list-of-T10-Additional-Sense-Codes"><span class="toc-number">3.26.</span> <span class="toc-text">list of T10 Additional Sense Codes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SAS-connection"><span class="toc-number">3.27.</span> <span class="toc-text">SAS connection</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Sense-Keys-x2F-ASC-and-ASCQ-codes"><span class="toc-number">3.28.</span> <span class="toc-text">Sense Keys&#x2F;ASC and ASCQ codes</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#CDB"><span class="toc-number">3.28.1.</span> <span class="toc-text">CDB</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sg-opcodes"><span class="toc-number">3.29.</span> <span class="toc-text">sg_opcodes</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WRITE-SAME-failed-Manually-zeroing"><span class="toc-number">4.</span> <span class="toc-text">WRITE SAME failed. Manually zeroing</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        SCSI
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">John Doe</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2022-11-13T13:55:37.000Z" itemprop="datePublished">2022-11-13</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/Storage/">Storage</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/sas/" rel="tag">sas</a>, <a class="tag-link-link" href="/tags/sata/" rel="tag">sata</a>, <a class="tag-link-link" href="/tags/scsi/" rel="tag">scsi</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h3 id="Device-parameters"><a href="#Device-parameters" class="headerlink" title="Device parameters"></a><a target="_blank" rel="noopener" href="https://www.seagate.com/www-content/surveillance-center/files/Understanding-Reliability-Metrics.pdf">Device parameters</a></h3><ul>
<li><p>MTBF Mean Time Between Failure</p>
<ul>
<li>MTBF, however, can be subject to misinterpretation. For example, an HDD might carry a 1M-hour MTBF, causing some customers to erroneously assume that the drive should be able to run 24 hours a day for a century or more. Obviously, this is theoretical.</li>
<li>MTBF is actually reached by dividing the total time a population of samples is under observation by the number of failures. If you have 1000 drives running for 1000 hours each, and five of them fail (1000×1000&#x2F;5 ), you’ve then derived a 200K-hour MTBF. Because MTBF is typically calculated during an HDD’s useful life, consider a graph of failure rate over time, starting when a population of HDDs rolls off of the manufacturing line.</li>
</ul>
</li>
<li><p>AFR Annualized Failure Rate </p>
<ul>
<li>Recently, Seagate began offering AFR specs on some drives in addition to conventional MTBF ratings. Although the two metrics are similar, AFR is a percentage estimate of the products that will likely fail due to a defect over a 1-year period. The subtle distinction lies in a switch from averages to percentages. MTBF is based on probabilities; AFR relies on HDD return numbers and analyses for its estimates. AFRs don’t include HDDs returned without issues, those subjected to excessive shock or HDDs that were mishandled. Seagate expects AFR to help facilitate better service plans and spare unit strategies.<ul>
<li>Remember: AFR, as with any reliability metric, makes specific assumptions about how many hours an HDD is running per year, endured motor start&#x2F;stop cycles, and internal temperature, all of which affect reliability. But AFR doesn’t necessarily help you get to the bottom of which HDD is right for your application. Enter the annualized workload rate (WRL).</li>
</ul>
</li>
</ul>
</li>
<li><p>WRL Workload Rate Limit</p>
<ul>
<li>Seagate specifies a WRL—that is, the maximum read&#x2F;write workload (also in terabytes per year) a given HDD is designed to accommodate. Enterprise-class drives feature a WRL of 300TB to 550TB&#x2F;year. Specialty-tuned drives, including NAS, archive, video and surveillance families, are rated for 180TB&#x2F;year; Seagate’s client portfolio (desktop and laptop HDDs) has a workload rate limit of 55TB&#x2F;year, which is still a formidable amount of data within the client market segment.   </li>
<li>Consider environmental conditions in your reliability projections. An insufficiently-cooled storage device, even operating under its WRL, will experience a higher failure rate than those at or under manufacturer specifications. Similarly, using a desktop HDD in a highly active chassis with significant vibration levels can also take a toll on the performance and reliability of the drive.</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blocksandfiles.com/2021/01/04/incremental-storage-media-density-magic-meant-flash-chipped-away-at-disk-in-2020/">areal density</a></p>
<ul>
<li>LTO-9 tape has 12 Gb&#x2F;in2 areal density. An 18TB disk drive has 1022 Gb&#x2F;in2. That means LTO-9 tape can achieve the same 18TB capacity with only 1&#x2F;85th of the areal density than that of an 18TB disk. No wonder tape’s area density has such a large development head room.</li>
<li>Many ssd areal density is the xx Gb&#x2F;mm2 , search “Gb&#x2F;inch2 to Gb&#x2F;mm2” in google.</li>
<li>1 Gigabit&#x2F;square inch &#x3D; 0.00155 Gigabit&#x2F;square millimeter</li>
<li>20TB HDD (1200 Gb&#x2F;in2 &#x3D; 1.86 Gb&#x2F;mm2), <a target="_blank" rel="noopener" href="https://www.anandtech.com/show/16491/flash-memory-at-isscc-2021">In 2021, 3d TLC top Density &#x3D; 8.5 Gb&#x2F;mm2 , 3d QLC top density &#x3D; 13.8 Gb&#x2F;mm2</a></li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.seagate.com/support/kb/annualized-workload-rate-005902en/">Annualized Workload Rate</a> &#x3D; (Lifetime Writes + Lifetime Reads) * (8760 &#x2F; Lifetime Power On Hours)  </p>
<ul>
<li>8760 are the number of hours in a year.  The Workload Rate becomes an annualized average expressed as TB&#x2F;year.   <ul>
<li>Enterprise                300~550TB&#x2F;year   </li>
<li>NAS&#x2F;archive&#x2F;surveillance  180TB&#x2F;year  </li>
<li>desktop&#x2F;laptop            55TB&#x2F;year</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="How-many-devices-can-you-connect"><a href="#How-many-devices-can-you-connect" class="headerlink" title="How many devices can you connect?"></a><a target="_blank" rel="noopener" href="https://www.microsemi.com/document-portal/doc_download/136098-university-training-what-is-sas">How many devices can you connect?</a></h3><p>Individual SAS RAID adapters can typically support up to 128 end devices with the use of SAS expanders, and can communicate with both SAS and SATA devices.</p>
<p>Note: Although you can use both SAS and SATA disk drives in the same SAS domain (see page 93), we recommend that you not combine SAS and SATA disk drives within the same array or logical<br>drive. The difference in performance between the two types of disk drives may adversely affect the performance of the array.</p>
<p>However, as you read in the previous section, with the use of fanout and edge expanders, a single SAS domain can comprise up to 16,384 SAS ports.</p>
<span id="more"></span>


<h3 id="Does-the-SAS-support-the-full-duplex"><a href="#Does-the-SAS-support-the-full-duplex" class="headerlink" title="Does the SAS support the full-duplex ?"></a><a target="_blank" rel="noopener" href="https://docs.broadcom.com/doc/12352168">Does the SAS support the full-duplex ?</a></h3><ul>
<li>LSI 9200-16e<ul>
<li>External Four x4 Mini-SAS SFF8088</li>
<li>PCI Data Burst Transfer Rates Half Duplex<ul>
<li>X8 PCIe 4000 MB&#x2F;s</li>
</ul>
</li>
<li>Full Duplex<ul>
<li>X8 PCIe 8000 MB&#x2F;s</li>
</ul>
</li>
<li>SAS Bandwidth<ul>
<li>Half Duplex<ul>
<li>Single Lane – 600MB&#x2F;s</li>
<li>Wide port (2 lanes) – 1200MB&#x2F;s</li>
<li>Wide port (3 lanes) – 1800MB&#x2F;s</li>
<li>Wide port (4 lanes) – 2400MB&#x2F;s</li>
<li>Wide port (2x4) – 4800MB&#x2F;s (dual phy port)</li>
</ul>
</li>
<li>Full Duplex<ul>
<li>Single lane – 1200MB&#x2F;s</li>
<li>Wide port (2 lanes) – 2400MB&#x2F;s</li>
<li>Wide port (4 lanes) – 4800MB&#x2F;s</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>LSI 9300-16e (only support half duplex)<ul>
<li>Four (x4) mini-SAS HD external connector (SFF8644)</li>
<li>PCI Data Burst Transfer Rate<ul>
<li>Half Duplex, x8, PCIe, 8000 MB&#x2F;s</li>
</ul>
</li>
<li>Port Configurations<ul>
<li>16 ea, x1 ports (individual drives)</li>
<li>4 ea, x4 wide ports</li>
<li>2ea , x8 wide ports</li>
</ul>
</li>
<li>Half Duplex (x4 wide bus) 4800 MB&#x2F;s<ul>
<li>Dual phy port 9600 MB&#x2F;s (8e)</li>
</ul>
</li>
</ul>
</li>
<li>LSI 9400-16e<ul>
<li>PCIe 3.1 Host Interface<ul>
<li>Supports x8, x4, x2, x1 PCIe lanes at a transfer rate up to 8.0 GT&#x2F;s per lane, full duplex</li>
</ul>
</li>
</ul>
</li>
<li>LSI 9500-16e<ul>
<li>PCIe 4.0 full duplex</li>
</ul>
</li>
</ul>
<h4 id="set-parameter-for-storage-system"><a href="#set-parameter-for-storage-system" class="headerlink" title="set parameter for storage system"></a>set parameter for storage system</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ find /sys -iname  rq_affinity ! -name <span class="string">&#x27;*irq*&#x27;</span> | <span class="keyword">while</span> <span class="built_in">read</span> line; <span class="keyword">do</span> <span class="built_in">echo</span> 2 &gt; <span class="variable">$line</span> ; <span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>If this option is ‘1’, the block layer will migrate request completions to the cpu “group” that originally submitted the request. For some workloads this provides a significant reduction in CPU cycles due to caching effects.    </p>
<p>For storage configurations that need to maximize distribution of completion processing setting this option to ‘2’ forces the completion to run on the requesting cpu (bypassing the “group” aggregation logic).     </p>
<h4 id="SCSI-command"><a href="#SCSI-command" class="headerlink" title="SCSI command"></a>SCSI command</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># looks like solt number could be map</span></span><br><span class="line"></span><br><span class="line">$ sas3ircu 0 display | grep c3b1 -A 5 -B 3</span><br><span class="line"></span><br><span class="line">Device is a Hard disk</span><br><span class="line">  Enclosure <span class="comment">#                             : 2</span></span><br><span class="line">  Slot <span class="comment">#                                  : 49</span></span><br><span class="line">  SAS Address                             : 5000cca-2-6b90-c3b1</span><br><span class="line">  State                                   : Ready (RDY)</span><br><span class="line">  Size (<span class="keyword">in</span> MB)/(<span class="keyword">in</span> sectors)               : 9537535/19532873727</span><br><span class="line">  Manufacturer                            : HGST</span><br><span class="line">  Model Number                            : HUH721010AL5200</span><br><span class="line">  Firmware Revision                       : A384</span><br><span class="line"></span><br><span class="line">$ sg_ses /dev/sg52 -p0x2 -j | grep c3b1  -i -A 8</span><br><span class="line">join_work: oi=0, ei=9, eiioe=1 not <span class="keyword">in</span> join_arr</span><br><span class="line">Drive Slot <span class="comment">#50_5000CCA26B90C3B1 [0,49]  Element type: Array device slot</span></span><br><span class="line">  Enclosure Status:</span><br><span class="line">    Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">    OK=0, Reserved device=0, Hot spare=0, Cons check=0</span><br><span class="line">    In crit array=0, In failed array=0, Rebuild/remap=0, R/R abort=0</span><br><span class="line">    App client bypass A=0, Do not remove=0, Enc bypass A=0, Enc bypass B=0</span><br><span class="line">    Ready to insert=0, RMV=0, Ident=0, Report=0                           <span class="comment"># here is the device status</span></span><br><span class="line">    App client bypass B=0, Fault sensed=0, Fault reqstd=0, Device off=0</span><br><span class="line">    Bypassed A=0, Bypassed B=0, Dev bypassed A=0, Dev bypassed B=0</span><br><span class="line"></span><br><span class="line">$ $ lsscsi -git</span><br><span class="line">[0:0:0:0]    disk    sas:0x500056b3787358c0          /dev/sda   -  /dev/sg0</span><br><span class="line">[0:0:1:0]    disk    sas:0x500056b3787358c1          /dev/sdb   -  /dev/sg1</span><br><span class="line">[0:0:2:0]    disk    sas:0x500056b3787358c2          /dev/sdc   -  /dev/sg2</span><br><span class="line">[0:0:3:0]    disk    sas:0x500056b3787358c3          /dev/sdd   -  /dev/sg3</span><br><span class="line">[0:0:4:0]    disk    sas:0x500056b3787358c4          /dev/sde   -  /dev/sg4</span><br><span class="line">[0:0:5:0]    disk    sas:0x500056b3787358c5          /dev/sdf   -  /dev/sg5</span><br><span class="line">[0:0:6:0]    disk    sas:0x500056b3787358c6          /dev/sdg   -  /dev/sg6</span><br><span class="line">[0:0:7:0]    disk    sas:0x500056b3787358c7          /dev/sdh   -  /dev/sg7</span><br><span class="line">[0:0:8:0]    disk    sas:0x500056b3787358c8          /dev/sdi   -  /dev/sg8</span><br><span class="line">[0:0:9:0]    disk    sas:0x500056b3787358c9          /dev/sdj   -  /dev/sg9</span><br><span class="line">[0:0:10:0]   disk    sas:0x500056b3787358ca          /dev/sdk   -  /dev/sg10</span><br><span class="line">[0:0:11:0]   disk    sas:0x500056b3787358cb          /dev/sdl   -  /dev/sg11</span><br><span class="line">[0:0:12:0]   enclosu sas:0x500056b3787358fd          -          -  /dev/sg12</span><br><span class="line">[15:0:0:0]   disk    sata:                           /dev/sdm   -  /dev/sg13</span><br><span class="line">[17:0:0:0]   process sata:                           -          -  /dev/sg14</span><br><span class="line"></span><br><span class="line">$ sg_ses -p 0xa /dev/sg12 |grep -E <span class="string">&#x27;Element|slot&#x27;</span></span><br><span class="line">    &lt;&lt;&lt;<span class="string">additional: response too short&gt;&gt;&gt;</span></span><br><span class="line"><span class="string">    Element type: Array device slot, subenclosure id: 0 [ti=0]</span></span><br><span class="line"><span class="string">      Element index: 0  eiioe=0</span></span><br><span class="line"><span class="string">        number of phys: 2, not all phys: 0, device slot number: 0</span></span><br><span class="line"><span class="string">      Element index: 1  eiioe=0</span></span><br><span class="line"><span class="string">        number of phys: 2, not all phys: 0, device slot number: 1</span></span><br><span class="line"><span class="string">      Element index: 2  eiioe=0</span></span><br><span class="line"><span class="string">        number of phys: 2, not all phys: 0, device slot number: 2</span></span><br><span class="line"><span class="string">      Element index: 3  eiioe=0</span></span><br><span class="line"><span class="string">        number of phys: 2, not all phys: 0, device slot number: 3</span></span><br><span class="line"><span class="string">      Element index: 4  eiioe=0</span></span><br><span class="line"><span class="string">        number of phys: 2, not all phys: 0, device slot number: 4</span></span><br><span class="line"><span class="string">      Element index: 5  eiioe=0</span></span><br><span class="line"><span class="string">        number of phys: 2, not all phys: 0, device slot number: 5</span></span><br><span class="line"><span class="string">      Element index: 6  eiioe=0</span></span><br><span class="line"><span class="string">        number of phys: 2, not all phys: 0, device slot number: 6</span></span><br><span class="line"><span class="string">      Element index: 7  eiioe=0</span></span><br><span class="line"><span class="string">        number of phys: 2, not all phys: 0, device slot number: 7</span></span><br><span class="line"><span class="string">      Element index: 8  eiioe=0</span></span><br><span class="line"><span class="string">        number of phys: 2, not all phys: 0, device slot number: 8</span></span><br><span class="line"><span class="string">      Element index: 9  eiioe=0</span></span><br><span class="line"><span class="string">        number of phys: 2, not all phys: 0, device slot number: 9</span></span><br><span class="line"><span class="string">      Element index: 10  eiioe=0</span></span><br><span class="line"><span class="string">        number of phys: 2, not all phys: 0, device slot number: 10</span></span><br><span class="line"><span class="string">      Element index: 11  eiioe=0</span></span><br><span class="line"><span class="string">        number of phys: 2, not all phys: 0, device slot number: 11</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># the light color depends hardware vendor</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">--clear, --get, --set acronyms for Enclosure Status/Control [&#x27;es&#x27; or &#x27;ec&#x27;] page:</span></span><br><span class="line"><span class="string">    active  [Device slot] [2:7:1]</span></span><br><span class="line"><span class="string">    active  [Array device slot] [2:7:1]</span></span><br><span class="line"><span class="string">    disable  [*] [0:5:1]</span></span><br><span class="line"><span class="string">    devoff  [Device slot] [3:4:1]</span></span><br><span class="line"><span class="string">    devoff  [Array device slot] [3:4:1]</span></span><br><span class="line"><span class="string">    dnr  [Device slot] [2:6:1]</span></span><br><span class="line"><span class="string">    dnr  [Array device slot] [2:6:1]</span></span><br><span class="line"><span class="string">    fault  [Device slot] [3:5:1]</span></span><br><span class="line"><span class="string">    fault  [Array device slot] [3:5:1]</span></span><br><span class="line"><span class="string">    ident  [Device slot] [2:1:1]</span></span><br><span class="line"><span class="string">    ident  [Array device slot] [2:1:1]</span></span><br><span class="line"><span class="string">    ident  [Power supply] [1:7:1]</span></span><br><span class="line"><span class="string">    ident  [Cooling] [1:7:1]</span></span><br><span class="line"><span class="string">    ident  [Enclosure] [1:7:1]</span></span><br><span class="line"><span class="string">    insert  [Device slot] [2:3:1]</span></span><br><span class="line"><span class="string">    insert  [Array device slot] [2:3:1]</span></span><br><span class="line"><span class="string">    locate  [Device slot] [2:1:1]</span></span><br><span class="line"><span class="string">    locate  [Array device slot] [2:1:1]</span></span><br><span class="line"><span class="string">    locate  [Power supply] [1:7:1]</span></span><br><span class="line"><span class="string">    locate  [Cooling] [1:7:1]</span></span><br><span class="line"><span class="string">    locate  [Enclosure] [1:7:1]</span></span><br><span class="line"><span class="string">    missing  [Device slot] [2:4:1]</span></span><br><span class="line"><span class="string">    missing  [Array device slot] [2:4:1]</span></span><br><span class="line"><span class="string">    locate  [Device slot] [2:1:1]</span></span><br><span class="line"><span class="string">    locate  [Array device slot] [2:1:1]</span></span><br><span class="line"><span class="string">    prdfail  [*] [0:6:1]</span></span><br><span class="line"><span class="string">    remove  [Device slot] [2:2:1]</span></span><br><span class="line"><span class="string">    remove  [Array device slot] [2:2:1]</span></span><br><span class="line"><span class="string">    speed_act  [Cooling] [2:7:8]</span></span><br><span class="line"><span class="string">    speed_code  [Cooling] [3:2:3]</span></span><br><span class="line"><span class="string">    swap  [*] [0:4:1]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">--clear, --get, --set acronyms for Threshold In/Out [&#x27;th&#x27;] page:</span></span><br><span class="line"><span class="string">    high_crit  [*] [0:7:8]</span></span><br><span class="line"><span class="string">    high_warn  [*] [1:7:8]</span></span><br><span class="line"><span class="string">    low_crit  [*] [2:7:8]</span></span><br><span class="line"><span class="string">    low_warn  [*] [3:7:8]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">--get acronyms for Additional Element Status [&#x27;aes&#x27;] page (SAS EIP=1):</span></span><br><span class="line"><span class="string">    at_sas_addr  [*] [20:7:64]</span></span><br><span class="line"><span class="string">    dev_type  [*] [8:6:3]</span></span><br><span class="line"><span class="string">    phy_id  [*] [28:7:8]</span></span><br><span class="line"><span class="string">    sas_addr  [*] [12:7:64]</span></span><br><span class="line"><span class="string">    sata_dev  [*] [11:0:1]</span></span><br><span class="line"><span class="string">    sata_port_sel  [*] [11:7:1]</span></span><br><span class="line"><span class="string">    smp_init  [*] [10:1:1]</span></span><br><span class="line"><span class="string">    smp_targ  [*] [11:1:1]</span></span><br><span class="line"><span class="string">    ssp_init  [*] [10:3:1]</span></span><br><span class="line"><span class="string">    ssp_targ  [*] [11:3:1]</span></span><br><span class="line"><span class="string">    stp_init  [*] [10:2:1]</span></span><br><span class="line"><span class="string">    stp_targ  [*] [11:2:1]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">$ sg_ses --index=7 --set=ident /dev/sg12</span></span><br><span class="line"><span class="string">### rebuild , green led blink</span></span><br><span class="line"><span class="string">$ sg_ses --index=7 --set=1:1:1 /dev/sg12</span></span><br><span class="line"><span class="string">$ sg_ses --index=7 --set=1:1:1 /dev/sg12</span></span><br><span class="line"><span class="string">### fault , red led blink</span></span><br><span class="line"><span class="string">$ sg_ses --index=7 --set=fault /dev/sg12</span></span><br><span class="line"><span class="string">$ sg_ses --index=7 --clear=fault /dev/sg12</span></span><br><span class="line"><span class="string">### prdfail, orange and green blink by turn</span></span><br><span class="line"><span class="string">$ sg_ses --index=7 --set=prdfail /dev/sg12</span></span><br><span class="line"><span class="string">$ sg_ses --index=7 --clear=prdfail /dev/sg12</span></span><br><span class="line"><span class="string">### locate not work</span></span><br><span class="line"><span class="string">$ sg_ses --index=7 --set=2:1:1 /dev/sg12</span></span><br><span class="line"><span class="string">$ sg_ses --index=7 --clear=2:1:1 /dev/sg12</span></span><br></pre></td></tr></table></figure>
<p>Element Customization<br>Array device slot control element</p>
<table>
<thead>
<tr>
<th>Byte Bit</th>
<th align="center">7</th>
<th align="right">6</th>
<th align="right">5</th>
<th align="right">4</th>
<th align="right">3</th>
<th align="right">2</th>
<th align="right">1</th>
<th align="right">0</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td align="center">select</td>
<td align="right">PRDFAIL</td>
<td align="right">DISABLED</td>
<td align="right">RST SWAP</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
</tr>
<tr>
<td>1</td>
<td align="center">RQST OK</td>
<td align="right">RQSD RSVE DEV</td>
<td align="right">RQST HOT SPA</td>
<td align="right">RQST CONS CHK</td>
<td align="right">RQST IN CRIT ARR</td>
<td align="right">RQST IN FAILED ARR</td>
<td align="right">RQST REBUILD&#x2F;REMAP</td>
<td align="right">RQST R&#x2F;R ABORT</td>
</tr>
<tr>
<td>2</td>
<td align="center">RQST active</td>
<td align="right">DO NOT REMOVE</td>
<td align="right">RESERVED</td>
<td align="right">RQST MISSING</td>
<td align="right">RQST REMOVE</td>
<td align="right">RQST REMOVE</td>
<td align="right">RQST IDENT</td>
<td align="right">RESERVED</td>
</tr>
<tr>
<td>3</td>
<td align="center">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">RQST FAULT</td>
<td align="right">DEVICE OFF</td>
<td align="right">ENABLE BYP B</td>
<td align="right">ENABLE BYP B</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
</tr>
</tbody></table>
<h5 id="view-pages-from-the-enclosure"><a href="#view-pages-from-the-enclosure" class="headerlink" title="view pages from the enclosure"></a>view pages from the enclosure</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br></pre></td><td class="code"><pre><span class="line">$ sg_ses -p 0 /dev/sg103</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ lsscsi -git</span><br><span class="line">[15:0:50:0]  enclosu sas:0x5000ccab0202777d          -          -  /dev/sg103</span><br><span class="line"></span><br><span class="line">$ sg_ses -p 2 /dev/sg103</span><br><span class="line"></span><br><span class="line">....</span><br><span class="line">        Actual speed=0 rpm, Fan stopped</span><br><span class="line">        Actual speed=4100 rpm, Fan at lowest speed</span><br><span class="line">        Actual speed=4100 rpm, Fan at lowest speed</span><br><span class="line">        Actual speed=4100 rpm, Fan at lowest speed</span><br><span class="line">        Actual speed=4100 rpm, Fan at lowest speed</span><br><span class="line">        Actual speed=4100 rpm, Fan at lowest speed</span><br><span class="line">        Actual speed=4100 rpm, Fan at lowest speed</span><br><span class="line"></span><br><span class="line">.....</span><br><span class="line">    Element <span class="built_in">type</span>: Temperature sensor, subenclosure <span class="built_in">id</span>: 0 [ti=3]</span><br><span class="line">        Temperature: &lt;reserved&gt;</span><br><span class="line">        Temperature=32 C</span><br><span class="line">        Temperature=30 C</span><br><span class="line">        Temperature=37 C</span><br><span class="line">        Temperature=59 C</span><br><span class="line">        Temperature=31 C</span><br><span class="line">        Temperature=32 C</span><br><span class="line">        Temperature=32 C</span><br><span class="line">        Temperature=57 C</span><br><span class="line">        Temperature=21 C</span><br><span class="line">        Temperature=21 C</span><br><span class="line">        Temperature=45 C</span><br><span class="line">        Temperature=29 C</span><br><span class="line">        Temperature=35 C</span><br><span class="line">        Temperature=47 C</span><br><span class="line">        Temperature=31 C</span><br><span class="line">        Temperature=36 C</span><br><span class="line"></span><br><span class="line">$  sg_ses -p 2 /dev/sg103 -r</span><br><span class="line">        00 00 00 00 05 00 00 00  01 00 00 00 01 00 00 00</span><br><span class="line">        01 00 00 00 01 00 00 00  01 00 00 00 01 00 00 00</span><br><span class="line">        01 00 00 00 01 00 00 00  01 00 00 00 01 00 00 00</span><br><span class="line">        01 00 00 00 01 00 00 00  01 00 00 00 01 00 00 00</span><br><span class="line">        01 00 00 00 01 00 00 00  01 00 00 00 01 00 00 00</span><br><span class="line">        01 00 00 00 01 00 00 00  01 00 00 00 01 00 00 00</span><br><span class="line">        01 00 00 00 01 00 00 00  01 00 00 00 01 00 00 00</span><br><span class="line">        01 00 00 00 01 00 00 00  01 00 00 00 01 00 00 00</span><br><span class="line">        01 00 00 00 01 00 00 00  01 00 00 00 01 00 00 00</span><br><span class="line">        01 00 00 00 01 00 00 00  01 00 00 00 01 00 00 00</span><br><span class="line">        01 00 00 00 01 00 00 00  01 00 00 00 01 00 00 00</span><br><span class="line">        01 00 00 00 01 00 00 00  01 00 00 00 01 00 00 00</span><br><span class="line">        01 00 00 00 01 00 00 00  01 00 00 00 01 00 00 00</span><br><span class="line">        05 00 00 00 05 00 00 00  05 00 00 00 05 00 00 00</span><br><span class="line">        05 00 00 00 05 00 00 00  05 00 00 00 05 00 00 00</span><br><span class="line">        05 00 00 00 05 00 00 00  01 00 00 00 01 00 00 00</span><br><span class="line">        01 00 00 00 01 00 00 00  01 01 9a 01 01 01 95 01</span><br><span class="line">        01 01 9a 01 01 01 9a 01  01 01 9a 01 01 01 9a 01</span><br><span class="line">        01 00 00 00 01 00 34 00  01 00 32 00 01 00 39 00</span><br><span class="line">        01 00 50 00 01 00 33 00  01 00 34 00 01 00 34 00</span><br><span class="line">        01 00 4e 00 01 00 29 00  01 00 29 00 01 00 41 00</span><br><span class="line">        01 00 31 00 01 00 37 00  01 00 43 00 01 00 33 00</span><br><span class="line">        01 00 38 00 01 00 00 00  01 00 01 80 01 00 01 80</span><br><span class="line">        01 00 00 00 01 00 00 00  01 00 00 00 01 00 00 5f</span><br><span class="line">        01 00 00 64 01 00 00 b6  01 00 01 4c 01 00 00 5c</span><br><span class="line">        01 00 00 63 01 00 00 b4  01 00 01 46 01 00 04 bf</span><br><span class="line">        01 00 04 bf 01 00 00 00  01 00 00 00 01 00 00 00</span><br><span class="line">        01 00 00 00 01 03 ff 00  01 03 ff 00 01 03 ff 00</span><br><span class="line">        01 03 ff 00</span><br><span class="line"></span><br><span class="line">$ sg_ses /dev/sg129 -p0x2 -I2,1 -j</span><br><span class="line">first 2 menas Fan,1 is power,3 is temperature</span><br><span class="line">-I2,0 means the first Fan, -I 2,1 means second fan</span><br><span class="line"></span><br><span class="line"><span class="comment"># how to make sure the ti number ?</span></span><br><span class="line">    Element <span class="built_in">type</span>: Temperature sensor, subenclosure <span class="built_in">id</span>: 0 [ti=0]</span><br><span class="line">      Overall descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0, OT failure=0, OT warning=0, UT failure=0</span><br><span class="line">        UT warning=0</span><br><span class="line">        Temperature: &lt;reserved&gt;</span><br><span class="line">      Element 0 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0, OT failure=0, OT warning=0, UT failure=0</span><br><span class="line">        UT warning=0</span><br><span class="line">        Temperature=61 C</span><br><span class="line">      Element 1 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0, OT failure=0, OT warning=0, UT failure=0</span><br><span class="line">        UT warning=0</span><br><span class="line">        Temperature=34 C</span><br><span class="line"></span><br><span class="line">    <span class="comment">#Element type: Power supply, subenclosure id: 0 [ti=5], diff vendor, diff define</span></span><br><span class="line">    Element <span class="built_in">type</span>: Power supply, subenclosure <span class="built_in">id</span>: 0 [ti=2]</span><br><span class="line">      Overall descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Do not remove=0, DC overvoltage=0, DC undervoltage=0</span><br><span class="line">        DC overcurrent=0, Hot swap=0, Fail=0, Requested on=0, Off=0</span><br><span class="line">        Overtmp fail=0, Temperature warn=0, AC fail=0, DC fail=0</span><br><span class="line">      Element 0 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Do not remove=0, DC overvoltage=0, DC undervoltage=0</span><br><span class="line">        DC overcurrent=0, Hot swap=0, Fail=0, Requested on=0, Off=0</span><br><span class="line">        Overtmp fail=0, Temperature warn=0, AC fail=0, DC fail=0</span><br><span class="line">      Element 1 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Do not remove=0, DC overvoltage=0, DC undervoltage=0</span><br><span class="line">        DC overcurrent=0, Hot swap=0, Fail=0, Requested on=0, Off=0</span><br><span class="line">        Overtmp fail=0, Temperature warn=0, AC fail=0, DC fail=0</span><br><span class="line">    Element <span class="built_in">type</span>: Voltage sensor, subenclosure <span class="built_in">id</span>: 0 [ti=4]</span><br><span class="line">      Overall descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0,  Warn Over=0, Warn Under=0, Crit Over=0</span><br><span class="line">        Crit Under=0</span><br><span class="line">        Voltage: 0.00 volts</span><br><span class="line">      Element 0 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0,  Warn Over=0, Warn Under=0, Crit Over=0</span><br><span class="line">        Crit Under=0</span><br><span class="line">        Voltage: 11.82 volts</span><br><span class="line">      Element 1 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0,  Warn Over=0, Warn Under=0, Crit Over=0</span><br><span class="line">        Crit Under=0</span><br><span class="line">        Voltage: 11.64 volts</span><br><span class="line">      Element 2 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0,  Warn Over=0, Warn Under=0, Crit Over=0</span><br><span class="line">        Crit Under=0</span><br><span class="line">        Voltage: 3.40 volts</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    Element <span class="built_in">type</span>: Cooling, subenclosure <span class="built_in">id</span>: 0 [ti=4] <span class="comment">#diff vendor, diff define</span></span><br><span class="line">    Element <span class="built_in">type</span>: Cooling, subenclosure <span class="built_in">id</span>: 0 [ti=1]</span><br><span class="line">      Overall descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Do not remove=0, Hot swap=0, Fail=0, Requested on=0</span><br><span class="line">        Off=0, Actual speed=0 rpm, Fan stopped</span><br><span class="line">      Element 0 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Do not remove=0, Hot swap=0, Fail=0, Requested on=0</span><br><span class="line">        Off=0, Actual speed=4200 rpm, Fan at lowest speed</span><br><span class="line">      Element 1 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Do not remove=0, Hot swap=0, Fail=0, Requested on=0</span><br><span class="line">        Off=0, Actual speed=4200 rpm, Fan at lowest speed</span><br><span class="line">      Element 2 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Do not remove=0, Hot swap=0, Fail=0, Requested on=0</span><br><span class="line">        Off=0, Actual speed=4200 rpm, Fan at lowest speed</span><br><span class="line"></span><br><span class="line"><span class="comment">#another one</span></span><br><span class="line">   Element <span class="built_in">type</span>: Door, subenclosure <span class="built_in">id</span>: 0 [ti=4]</span><br><span class="line">      Overall descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: Unsupported</span><br><span class="line">        Ident=0, Fail=0, Open=0, Unlock=0</span><br><span class="line">      Element 0 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0, Open=0, Unlock=0</span><br><span class="line"></span><br><span class="line">    Element <span class="built_in">type</span>: Audible alarm, subenclosure <span class="built_in">id</span>: 0 [ti=5]</span><br><span class="line">      Overall descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: Unsupported</span><br><span class="line">        Ident=0, Fail=0, Request mute=0, Mute=0, Remind=0</span><br><span class="line">        Tone indicator: Info=0, Non-crit=0, Crit=0, Unrecov=0</span><br><span class="line">      Element 0 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0, Request mute=0, Mute=0, Remind=1</span><br><span class="line">        Tone indicator: Info=0, Non-crit=0, Crit=0, Unrecov=0</span><br><span class="line"></span><br><span class="line">    Element <span class="built_in">type</span>: Enclosure services controller electronics, subenclosure <span class="built_in">id</span>: 0 [ti=6]</span><br><span class="line">      Overall descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: Unsupported</span><br><span class="line">        Ident=0, Fail=0, Report=0, Hot swap=0</span><br><span class="line">      Element 0 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0, Report=1, Hot swap=1</span><br><span class="line"></span><br><span class="line">    Element <span class="built_in">type</span>: Enclosure, subenclosure <span class="built_in">id</span>: 0 [ti=7]</span><br><span class="line">      Overall descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: Unsupported</span><br><span class="line">        Ident=0, Time until power cycle=0, Failure indication=0</span><br><span class="line">        Warning indication=0, Requested power off duration=0</span><br><span class="line">        Failure requested=0, Warning requested=0</span><br><span class="line">      Element 0 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Time until power cycle=0, Failure indication=0</span><br><span class="line">        Warning indication=0, Requested power off duration=0</span><br><span class="line">        Failure requested=0, Warning requested=0</span><br><span class="line"></span><br><span class="line">$ sg_ses -p 0 /dev/sg343</span><br><span class="line">  SMC946    R39                 1C</span><br><span class="line">Supported diagnostic pages:</span><br><span class="line">  Supported Diagnostic Pages [sdp] [0x0]</span><br><span class="line">  Configuration (SES) [cf] [0x1]</span><br><span class="line">  Enclosure Status/Control (SES) [ec,es] [0x2]</span><br><span class="line">  String In/Out (SES) [str] [0x4]</span><br><span class="line">  Threshold In/Out (SES) [th] [0x5]</span><br><span class="line">  Element Descriptor (SES) [ed] [0x7]</span><br><span class="line">  Additional Element Status (SES-2) [aes] [0xa]</span><br><span class="line">  Supported SES Diagnostic Pages (SES-2) [ssp] [0xd]</span><br><span class="line">  Download Microcode (SES-2) [dm] [0xe]</span><br><span class="line">  Subenclosure Nickname (SES-2) [snic] [0xf]</span><br><span class="line"></span><br><span class="line">$ sg_ses -p 0 /dev/sg103</span><br><span class="line">  HGST      4U60_STOR_ENCL    0210</span><br><span class="line">Supported diagnostic pages:</span><br><span class="line">  Supported Diagnostic Pages [sdp] [0x0]</span><br><span class="line">  Configuration (SES) [cf] [0x1]</span><br><span class="line">  Enclosure Status/Control (SES) [ec,es] [0x2]</span><br><span class="line">  String In/Out (SES) [str] [0x4]</span><br><span class="line">  Threshold In/Out (SES) [th] [0x5]</span><br><span class="line">  Element Descriptor (SES) [ed] [0x7]</span><br><span class="line">  Additional Element Status (SES-2) [aes] [0xa]</span><br><span class="line">  Download Microcode (SES-2) [dm] [0xe]</span><br><span class="line">  &lt;unknown&gt; [0x10]</span><br><span class="line">  &lt;unknown&gt; [0x11]</span><br><span class="line">  &lt;unknown&gt; [0x12]</span><br><span class="line">  &lt;unknown&gt; [0x13]</span><br><span class="line">  &lt;unknown&gt; [0x14]</span><br><span class="line">  &lt;unknown&gt; [0x15]</span><br><span class="line">  &lt;unknown&gt; [0x16]</span><br><span class="line">$ sg_ses -p 0 /dev/sg91</span><br><span class="line">  DELL      EN-8435A-E6EBD    3535</span><br><span class="line">Supported diagnostic pages:</span><br><span class="line">  Supported Diagnostic Pages [sdp] [0x0]</span><br><span class="line">  Configuration (SES) [cf] [0x1]</span><br><span class="line">  Enclosure Status/Control (SES) [ec,es] [0x2]</span><br><span class="line">  Threshold In/Out (SES) [th] [0x5]</span><br><span class="line">  Element Descriptor (SES) [ed] [0x7]</span><br><span class="line">  Additional Element Status (SES-2) [aes] [0xa]</span><br><span class="line">  Download Microcode (SES-2) [dm] [0xe]</span><br><span class="line">  &lt;unknown&gt; [0x84]</span><br><span class="line">  &lt;unknown&gt; [0x85]</span><br><span class="line">  &lt;unknown&gt; [0x90]</span><br><span class="line">  &lt;unknown&gt; [0x91]</span><br><span class="line">  &lt;unknown&gt; [0x92]</span><br><span class="line">  &lt;unknown&gt; [0x93]</span><br><span class="line">$ sg_ses -p 0 /dev/sg335</span><br><span class="line">  HPE       D6020             1.63</span><br><span class="line">Supported diagnostic pages:</span><br><span class="line">  Supported Diagnostic Pages [sdp] [0x0]</span><br><span class="line">  Configuration (SES) [cf] [0x1]</span><br><span class="line">  Enclosure Status/Control (SES) [ec,es] [0x2]</span><br><span class="line">  Help Text (SES) [ht] [0x3]</span><br><span class="line">  Element Descriptor (SES) [ed] [0x7]</span><br><span class="line">  Additional Element Status (SES-2) [aes] [0xa]</span><br><span class="line">  &lt;unknown&gt; [0x10]</span><br><span class="line">  &lt;unknown&gt; [0x14]</span><br><span class="line"></span><br><span class="line">sg_ses -ee /dev/sg291</span><br><span class="line">&gt;&gt;&gt; DEVICE /dev/sg291 ignored when --enumerate option given.</span><br><span class="line">--clear, --get, --<span class="built_in">set</span> acronyms <span class="keyword">for</span> Enclosure Status/Control [<span class="string">&#x27;es&#x27;</span> or <span class="string">&#x27;ec&#x27;</span>] page:</span><br><span class="line">    active  [Device slot] [2:7:1]</span><br><span class="line">    active  [Array device slot] [2:7:1]</span><br><span class="line">    <span class="built_in">disable</span>  [*] [0:5:1]</span><br><span class="line">    devoff  [Device slot] [3:4:1]</span><br><span class="line">    devoff  [Array device slot] [3:4:1]</span><br><span class="line">    dnr  [Device slot] [2:6:1]</span><br><span class="line">    dnr  [Array device slot] [2:6:1]</span><br><span class="line">    fault  [Device slot] [3:5:1]</span><br><span class="line">    fault  [Array device slot] [3:5:1]</span><br><span class="line">    ident  [Device slot] [2:1:1]</span><br><span class="line">    ident  [Array device slot] [2:1:1]</span><br><span class="line">    ident  [Power supply] [1:7:1]</span><br><span class="line">    ident  [Cooling] [1:7:1]</span><br><span class="line">    ident  [Enclosure] [1:7:1]</span><br><span class="line">    insert  [Device slot] [2:3:1]</span><br><span class="line">    insert  [Array device slot] [2:3:1]</span><br><span class="line">    locate  [Device slot] [2:1:1]</span><br><span class="line">    locate  [Array device slot] [2:1:1]</span><br><span class="line">    locate  [Power supply] [1:7:1]</span><br><span class="line">    locate  [Cooling] [1:7:1]</span><br><span class="line">    locate  [Enclosure] [1:7:1]</span><br><span class="line">    missing  [Device slot] [2:4:1]</span><br><span class="line">    missing  [Array device slot] [2:4:1]</span><br><span class="line">    locate  [Device slot] [2:1:1]</span><br><span class="line">    locate  [Array device slot] [2:1:1]</span><br><span class="line">    prdfail  [*] [0:6:1]</span><br><span class="line">    remove  [Device slot] [2:2:1]</span><br><span class="line">    remove  [Array device slot] [2:2:1]</span><br><span class="line">    speed_act  [Cooling] [2:7:8]</span><br><span class="line">    speed_code  [Cooling] [3:2:3]</span><br><span class="line">    swap  [*] [0:4:1]</span><br><span class="line"></span><br><span class="line">--clear, --get, --<span class="built_in">set</span> acronyms <span class="keyword">for</span> Threshold In/Out [<span class="string">&#x27;th&#x27;</span>] page:</span><br><span class="line">    high_crit  [*] [0:7:8]</span><br><span class="line">    high_warn  [*] [1:7:8]</span><br><span class="line">    low_crit  [*] [2:7:8]</span><br><span class="line">    low_warn  [*] [3:7:8]</span><br><span class="line"></span><br><span class="line">--get acronyms <span class="keyword">for</span> Additional Element Status [<span class="string">&#x27;aes&#x27;</span>] page (SAS EIP=1):</span><br><span class="line">    at_sas_addr  [*] [20:7:64]</span><br><span class="line">    dev_type  [*] [8:6:3]</span><br><span class="line">    phy_id  [*] [28:7:8]</span><br><span class="line">    sas_addr  [*] [12:7:64]</span><br><span class="line">    sata_dev  [*] [11:0:1]</span><br><span class="line">    sata_port_sel  [*] [11:7:1]</span><br><span class="line">    smp_init  [*] [10:1:1]</span><br><span class="line">    smp_targ  [*] [11:1:1]</span><br><span class="line">    ssp_init  [*] [10:3:1]</span><br><span class="line">    ssp_targ  [*] [11:3:1]</span><br><span class="line">    stp_init  [*] [10:2:1]</span><br><span class="line">    stp_targ  [*] [11:2:1]</span><br><span class="line"></span><br><span class="line">$ sg_ses -es /dev/sg291</span><br><span class="line">&gt;&gt;&gt; DEVICE /dev/sg291 ignored when --enumerate option given.</span><br><span class="line">Diagnostic pages, followed by abbreviation(s) <span class="keyword">then</span> page code:</span><br><span class="line">    Supported Diagnostic Pages  [sdp] [0x0]</span><br><span class="line">    Configuration (SES)  [cf] [0x1]</span><br><span class="line">    Enclosure Status/Control (SES)  [ec,es] [0x2]</span><br><span class="line">    Help Text (SES)  [ht] [0x3]</span><br><span class="line">    String In/Out (SES)  [str] [0x4]</span><br><span class="line">    Threshold In/Out (SES)  [th] [0x5]</span><br><span class="line">    Array Status/Control (SES, obsolete)  [ac,as] [0x6]</span><br><span class="line">    Element Descriptor (SES)  [ed] [0x7]</span><br><span class="line">    Short Enclosure Status (SES)  [ses] [0x8]</span><br><span class="line">    Enclosure Busy (SES-2)  [eb] [0x9]</span><br><span class="line">    Additional Element Status (SES-2)  [aes] [0xa]</span><br><span class="line">    Subenclosure Help Text (SES-2)  [sht] [0xb]</span><br><span class="line">    Subenclosure String In/Out (SES-2)  [sstr] [0xc]</span><br><span class="line">    Supported SES Diagnostic Pages (SES-2)  [ssp] [0xd]</span><br><span class="line">    Download Microcode (SES-2)  [dm] [0xe]</span><br><span class="line">    Subenclosure Nickname (SES-2)  [snic] [0xf]</span><br><span class="line">    Protocol Specific (SAS transport)  [] [0x3f]</span><br><span class="line">    Translate Address (SBC)  [] [0x40]</span><br><span class="line">    Device Status (SBC)  [] [0x41]</span><br><span class="line">    Rebuild Assist (SBC)  [] [0x42]</span><br><span class="line"></span><br><span class="line">SES element <span class="built_in">type</span> names, followed by abbreviation and element <span class="built_in">type</span> code:</span><br><span class="line">    Unspecified  [un] [0x0]</span><br><span class="line">    Device slot  [dev] [0x1]</span><br><span class="line">    Power supply  [ps] [0x2]</span><br><span class="line">    Cooling  [coo] [0x3]</span><br><span class="line">    Temperature sensor  [ts] [0x4]</span><br><span class="line">    Door  [<span class="keyword">do</span>] [0x5]</span><br><span class="line">    Audible alarm  [aa] [0x6]</span><br><span class="line">    Enclosure services controller electronics  [esc] [0x7]</span><br><span class="line">    SCC controller electronics  [sce] [0x8]</span><br><span class="line">    Nonvolatile cache  [nc] [0x9]</span><br><span class="line">    Invalid operation reason  [ior] [0xa]</span><br><span class="line">    Uninterruptible power supply  [ups] [0xb]</span><br><span class="line">    Display  [dis] [0xc]</span><br><span class="line">    Key pad entry  [kpe] [0xd]</span><br><span class="line">    Enclosure  [enc] [0xe]</span><br><span class="line">    SCSI port/transceiver  [sp] [0xf]</span><br><span class="line">    Language  [lan] [0x10]</span><br><span class="line">    Communication port  [<span class="built_in">cp</span>] [0x11]</span><br><span class="line">    Voltage sensor  [vs] [0x12]</span><br><span class="line">    Current sensor  [cs] [0x13]</span><br><span class="line">    SCSI target port  [stp] [0x14]</span><br><span class="line">    SCSI initiator port  [sip] [0x15]</span><br><span class="line">    Simple subenclosure  [ss] [0x16]</span><br><span class="line">    Array device slot  [arr] [0x17]</span><br><span class="line">    SAS expander  [sse] [0x18]</span><br><span class="line">    SAS connector  [ssc] [0x19]</span><br><span class="line"></span><br><span class="line">[13:0:90:0]  disk    HGST     HUH721010AL5200  A21D  /dev/sdji  35000cca251ae9e94  /dev/sg278  10.0TB</span><br><span class="line">[13:0:91:0]  disk    HGST     HUH721010AL5200  A21D  /dev/sdmv  35000cca251ac584c  /dev/sg372  10.0TB</span><br><span class="line">[13:0:92:0]  disk    HGST     HUH721010AL5200  A21D  /dev/sdmw  35000cca251aca1b4  /dev/sg373  10.0TB</span><br><span class="line">[14:0:0:0]   disk    HGST     HUH721010AL5200  A21D  /dev/sdjj  35000cca251b137a0  /dev/sg279  10.0TB</span><br><span class="line">[14:0:1:0]   disk    HGST     HUH721010AL5200  A21D  /dev/sdjk  35000cca251b29994  /dev/sg280  10.0TB</span><br><span class="line">[14:0:2:0]   disk    HGST     HUH721010AL5200  A21D  /dev/sdjl  35000cca251ab4d30  /dev/sg281  10.0TB</span><br><span class="line">[14:0:3:0]   disk    HGST     HUH721010AL5200  A21D  /dev/sdjm  35000cca25198c678  /dev/sg282  10.0TB</span><br><span class="line">[14:0:4:0]   disk    HGST     HUH721010AL5200  A21D  /dev/sdjn  35000cca251b12a14  /dev/sg283  10.0TB</span><br><span class="line">[14:0:5:0]   disk    HGST     HUH721010AL5200  A21D  /dev/sdjo  35000cca251ac5a14  /dev/sg284  10.0TB</span><br><span class="line">[14:0:6:0]   disk    HGST     HUH721010AL5200  A21D  /dev/sdjp  35000cca251b21390  /dev/sg285  10.0TB</span><br><span class="line">[14:0:7:0]   disk    HGST     HUH721010AL5200  A21D  /dev/sdjq  35000cca251b25234  /dev/sg286  10.0TB</span><br><span class="line">[14:0:8:0]   disk    HGST     HUH721010AL5200  A21D  /dev/sdjr  35000cca251b2f228  /dev/sg287  10.0TB</span><br><span class="line">[14:0:9:0]   disk    HGST     HUH721010AL5200  A21D  /dev/sdjs  35000cca251b380d8  /dev/sg288  10.0TB</span><br><span class="line">[14:0:10:0]  disk    HGST     HUH721010AL5200  A21D  /dev/sdjt  35000cca251b272ec  /dev/sg289  10.0TB</span><br><span class="line">[14:0:11:0]  disk    HGST     HUH721010AL5200  A21D  /dev/sdju  35000cca251b13860  /dev/sg290  10.0TB</span><br><span class="line">[14:0:12:0]  enclosu SMC946   12                 1C  -          -  /dev/sg291</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get all descriptor</span></span><br><span class="line">$ sg_ses -p 0x7 /dev/sg291</span><br><span class="line">  SMC946    12                  1C</span><br><span class="line">  Primary enclosure logical identifier (hex): 5003048009281a3f</span><br><span class="line">Element Descriptor In diagnostic page:</span><br><span class="line">  generation code: 0x0</span><br><span class="line">  element descriptor by <span class="built_in">type</span> list</span><br><span class="line">    Element <span class="built_in">type</span>: Array device slot, subenclosure <span class="built_in">id</span>: 0 [ti=0]</span><br><span class="line">      Overall descriptor: ArrayDevicesInSubEnclsr0</span><br><span class="line">      Element 0 descriptor: Slot00</span><br><span class="line">      Element 1 descriptor: Slot01</span><br><span class="line">      Element 2 descriptor: Slot02</span><br><span class="line">      Element 3 descriptor: Slot03</span><br><span class="line">      Element 4 descriptor: Slot04</span><br><span class="line">      Element 5 descriptor: Slot05</span><br><span class="line">      Element 6 descriptor: Slot06</span><br><span class="line">      Element 7 descriptor: Slot07</span><br><span class="line">      Element 8 descriptor: Slot08</span><br><span class="line">      Element 9 descriptor: Slot09</span><br><span class="line">      Element 10 descriptor: Slot10</span><br><span class="line">      Element 11 descriptor: Slot11</span><br><span class="line">    Element <span class="built_in">type</span>: SAS expander, subenclosure <span class="built_in">id</span>: 0 [ti=1]</span><br><span class="line">      Overall descriptor: SAS Expander</span><br><span class="line">      Element 0 descriptor: Expander0</span><br><span class="line">    Element <span class="built_in">type</span>: SAS connector, subenclosure <span class="built_in">id</span>: 0 [ti=2]</span><br><span class="line">      Overall descriptor: SAS Connectors</span><br><span class="line">      Element 0 descriptor: ConnectorA</span><br><span class="line">      Element 1 descriptor: ConnectorB</span><br><span class="line">      Element 2 descriptor: ConnectorC</span><br><span class="line">      Element 3 descriptor: ConnectorD</span><br><span class="line">      Element 4 descriptor: Drive Connector 00</span><br><span class="line">      Element 5 descriptor: Drive Connector 01</span><br><span class="line">      Element 6 descriptor: Drive Connector 02</span><br><span class="line">      Element 7 descriptor: Drive Connector 03</span><br><span class="line">      Element 8 descriptor: Drive Connector 04</span><br><span class="line">      Element 9 descriptor: Drive Connector 05</span><br><span class="line">      Element 10 descriptor: Drive Connector 06</span><br><span class="line">      Element 11 descriptor: Drive Connector 07</span><br><span class="line">      Element 12 descriptor: Drive Connector 08</span><br><span class="line">      Element 13 descriptor: Drive Connector 09</span><br><span class="line">      Element 14 descriptor: Drive Connector 10</span><br><span class="line">      Element 15 descriptor: Drive Connector 11</span><br><span class="line">    Element <span class="built_in">type</span>: Enclosure, subenclosure <span class="built_in">id</span>: 0 [ti=3]</span><br><span class="line">      Overall descriptor: EnclosureElementInSubEnclsr0</span><br><span class="line">      Element 0 descriptor: RD-BHE-000-02343</span><br><span class="line">    Element <span class="built_in">type</span>: Temperature sensor, subenclosure <span class="built_in">id</span>: 0 [ti=4]</span><br><span class="line">      Overall descriptor: TempSensorsInSubEnclsr0</span><br><span class="line">      Element 0 descriptor: ChipDie</span><br><span class="line">      Element 1 descriptor: VRM1</span><br><span class="line">      Element 2 descriptor: VRM2</span><br><span class="line">      Element 3 descriptor: SYSTemp</span><br><span class="line">      Element 4 descriptor: HDDBPN</span><br><span class="line">    Element <span class="built_in">type</span>: Voltage sensor, subenclosure <span class="built_in">id</span>: 0 [ti=5]</span><br><span class="line">      Overall descriptor: VoltageSensorsInSubEnclsr0</span><br><span class="line">      Element 0 descriptor: 12VSB</span><br><span class="line">      Element 1 descriptor: 3P3VSB</span><br><span class="line">      Element 2 descriptor: 1P2BMC</span><br><span class="line">      Element 3 descriptor: 1P5BMC</span><br><span class="line">      Element 4 descriptor: VBAT</span><br><span class="line">      Element 5 descriptor: 12VCC</span><br><span class="line">      Element 6 descriptor: 3P3VCC</span><br><span class="line">      Element 7 descriptor: 1P8VEXP1</span><br><span class="line">      Element 8 descriptor: 0P9VEXP1</span><br><span class="line">      Element 9 descriptor: 0P9VREXP1</span><br><span class="line">      Element 10 descriptor: 1P8VEXP2</span><br><span class="line">      Element 11 descriptor: 0P9VEXP2</span><br><span class="line">      Element 12 descriptor: 0P9VREXP2</span><br><span class="line">      Element 13 descriptor: 1P8VEXP3</span><br><span class="line">      Element 14 descriptor: 0P9VEXP3</span><br><span class="line">      Element 15 descriptor: 0P9VREXP3</span><br><span class="line">    Element <span class="built_in">type</span>: Cooling, subenclosure <span class="built_in">id</span>: 0 [ti=6]</span><br><span class="line">      Overall descriptor: CoolingElementInSubEnclsr0</span><br><span class="line">      Element 0 descriptor: Fan1</span><br><span class="line">      Element 1 descriptor: Fan2</span><br><span class="line">      Element 2 descriptor: Fan3</span><br><span class="line">      Element 3 descriptor: Fan4</span><br><span class="line">      Element 4 descriptor: Fan5</span><br><span class="line">      Element 5 descriptor: Fan1C</span><br><span class="line">      Element 6 descriptor: Fan2C</span><br><span class="line">      Element 7 descriptor: Fan3C</span><br><span class="line">      Element 8 descriptor: Fan4C</span><br><span class="line">      Element 9 descriptor: Fan5C</span><br><span class="line">    Element <span class="built_in">type</span>: Power supply, subenclosure <span class="built_in">id</span>: 0 [ti=7]</span><br><span class="line">      Overall descriptor: PowerSupplyStatus</span><br><span class="line">      Element 0 descriptor: PWS1</span><br><span class="line">      Element 1 descriptor: PWS2</span><br><span class="line">      Element 2 descriptor: PWS3</span><br><span class="line">      Element 3 descriptor: PWS4</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$  sg_ses -p 0x2 /dev/sg291</span><br><span class="line">  SMC946    12                  1C</span><br><span class="line">  Primary enclosure logical identifier (hex): 5003048009281a3f</span><br><span class="line">Enclosure Status diagnostic page:</span><br><span class="line">  INVOP=0, INFO=0, NON-CRIT=0, CRIT=1, UNRECOV=0</span><br><span class="line">  generation code: 0x0</span><br><span class="line">  status descriptor list</span><br><span class="line">    Element <span class="built_in">type</span>: Array device slot, subenclosure <span class="built_in">id</span>: 0 [ti=0]</span><br><span class="line">      Overall descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: Unsupported</span><br><span class="line">        OK=0, Reserved device=0, Hot spare=0, Cons check=0</span><br><span class="line">        In crit array=0, In failed array=0, Rebuild/remap=0, R/R abort=0</span><br><span class="line">        App client bypass A=0, Do not remove=0, Enc bypass A=0, Enc bypass B=0</span><br><span class="line">        Ready to insert=0, RMV=0, Ident=0, Report=0</span><br><span class="line">        App client bypass B=0, Fault sensed=0, Fault reqstd=0, Device off=0</span><br><span class="line">        Bypassed A=0, Bypassed B=0, Dev bypassed A=0, Dev bypassed B=0</span><br><span class="line">      Element 0 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        OK=0, Reserved device=0, Hot spare=0, Cons check=0</span><br><span class="line">        In crit array=0, In failed array=0, Rebuild/remap=0, R/R abort=0</span><br><span class="line">        App client bypass A=0, Do not remove=0, Enc bypass A=0, Enc bypass B=0</span><br><span class="line">        Ready to insert=0, RMV=0, Ident=0, Report=0</span><br><span class="line">        App client bypass B=0, Fault sensed=0, Fault reqstd=0, Device off=0</span><br><span class="line">        Bypassed A=0, Bypassed B=0, Dev bypassed A=0, Dev bypassed B=0</span><br><span class="line">      Element 1 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        OK=0, Reserved device=0, Hot spare=0, Cons check=0</span><br><span class="line">        In crit array=0, In failed array=0, Rebuild/remap=0, R/R abort=0</span><br><span class="line">        App client bypass A=0, Do not remove=0, Enc bypass A=0, Enc bypass B=0</span><br><span class="line">        Ready to insert=0, RMV=0, Ident=0, Report=0</span><br><span class="line">        App client bypass B=0, Fault sensed=0, Fault reqstd=0, Device off=0</span><br><span class="line">        Bypassed A=0, Bypassed B=0, Dev bypassed A=0, Dev bypassed B=0</span><br><span class="line">      Element 2 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        OK=0, Reserved device=0, Hot spare=0, Cons check=0</span><br><span class="line">        In crit array=0, In failed array=0, Rebuild/remap=0, R/R abort=0</span><br><span class="line">        App client bypass A=0, Do not remove=0, Enc bypass A=0, Enc bypass B=0</span><br><span class="line">        Ready to insert=0, RMV=0, Ident=0, Report=0</span><br><span class="line">        App client bypass B=0, Fault sensed=0, Fault reqstd=0, Device off=0</span><br><span class="line">        Bypassed A=0, Bypassed B=0, Dev bypassed A=0, Dev bypassed B=0</span><br><span class="line">      Element 3 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        OK=0, Reserved device=0, Hot spare=0, Cons check=0</span><br><span class="line">        In crit array=0, In failed array=0, Rebuild/remap=0, R/R abort=0</span><br><span class="line">        App client bypass A=0, Do not remove=0, Enc bypass A=0, Enc bypass B=0</span><br><span class="line">        Ready to insert=0, RMV=0, Ident=0, Report=0</span><br><span class="line">        App client bypass B=0, Fault sensed=0, Fault reqstd=0, Device off=0</span><br><span class="line">        Bypassed A=0, Bypassed B=0, Dev bypassed A=0, Dev bypassed B=0</span><br><span class="line">......</span><br><span class="line">      Element 11 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        OK=0, Reserved device=0, Hot spare=0, Cons check=0</span><br><span class="line">        In crit array=0, In failed array=0, Rebuild/remap=0, R/R abort=0</span><br><span class="line">        App client bypass A=0, Do not remove=0, Enc bypass A=0, Enc bypass B=0</span><br><span class="line">        Ready to insert=0, RMV=0, Ident=0, Report=0</span><br><span class="line">        App client bypass B=0, Fault sensed=0, Fault reqstd=0, Device off=0</span><br><span class="line">        Bypassed A=0, Bypassed B=0, Dev bypassed A=0, Dev bypassed B=0</span><br><span class="line">    Element <span class="built_in">type</span>: SAS expander, subenclosure <span class="built_in">id</span>: 0 [ti=1]</span><br><span class="line">      Overall descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: Unsupported</span><br><span class="line">        Ident=0, Fail=0</span><br><span class="line">      Element 0 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0</span><br><span class="line">    Element <span class="built_in">type</span>: SAS connector, subenclosure <span class="built_in">id</span>: 0 [ti=2]</span><br><span class="line">      Overall descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: Unsupported</span><br><span class="line">        Ident=0, No information</span><br><span class="line">        Connector physical <span class="built_in">link</span>=0x0, Fail=0</span><br><span class="line">      Element 0 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Mini SAS HD 4i receptacle (SFF-8643) [max 4 phys]</span><br><span class="line">        Connector physical <span class="built_in">link</span>=0x0, Fail=0</span><br><span class="line">      Element 1 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Mini SAS HD 4i receptacle (SFF-8643) [max 4 phys]</span><br><span class="line">        Connector physical <span class="built_in">link</span>=0x0, Fail=0</span><br><span class="line">      Element 2 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Mini SAS HD 4i receptacle (SFF-8643) [max 4 phys]</span><br><span class="line">        Connector physical <span class="built_in">link</span>=0x0, Fail=0</span><br><span class="line">      Element 3 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Mini SAS HD 4i receptacle (SFF-8643) [max 4 phys]</span><br><span class="line">        Connector physical <span class="built_in">link</span>=0x0, Fail=0</span><br><span class="line">      Element 4 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, SAS Drive backplane receptacle (SFF-8482) [max 2 phys]</span><br><span class="line">        Connector physical <span class="built_in">link</span>=0x0, Fail=0</span><br><span class="line">      Element 5 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, SAS Drive backplane receptacle (SFF-8482) [max 2 phys]</span><br><span class="line">        Connector physical <span class="built_in">link</span>=0x0, Fail=0</span><br><span class="line">.......</span><br><span class="line">    Element <span class="built_in">type</span>: Voltage sensor, subenclosure <span class="built_in">id</span>: 0 [ti=5]</span><br><span class="line">      Overall descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: Unsupported</span><br><span class="line">        Ident=0, Fail=0,  Warn Over=0, Warn Under=0, Crit Over=0</span><br><span class="line">        Crit Under=0</span><br><span class="line">        Voltage: 0.00 volts</span><br><span class="line">      Element 0 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0,  Warn Over=0, Warn Under=0, Crit Over=0</span><br><span class="line">        Crit Under=0</span><br><span class="line">        Voltage: 12.20 volts</span><br><span class="line">      Element 1 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0,  Warn Over=0, Warn Under=0, Crit Over=0</span><br><span class="line">        Crit Under=0</span><br><span class="line">        Voltage: 3.20 volts</span><br><span class="line">      Element 2 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0,  Warn Over=0, Warn Under=0, Crit Over=0</span><br><span class="line">        Crit Under=0</span><br><span class="line">        Voltage: 1.20 volts</span><br><span class="line">      Element 3 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0,  Warn Over=0, Warn Under=0, Crit Over=0</span><br><span class="line">        Crit Under=0</span><br><span class="line">        Voltage: 1.50 volts</span><br><span class="line">      Element 4 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0,  Warn Over=0, Warn Under=0, Crit Over=0</span><br><span class="line">        Crit Under=0</span><br><span class="line">        Voltage: 3.20 volts</span><br><span class="line">      Element 5 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0,  Warn Over=0, Warn Under=0, Crit Over=0</span><br><span class="line">        Crit Under=0</span><br><span class="line">        Voltage: 11.90 volts</span><br><span class="line">      Element 6 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Fail=0,  Warn Over=0, Warn Under=0, Crit Over=0</span><br><span class="line">        Crit Under=0</span><br><span class="line">        Voltage: 3.20 volts</span><br><span class="line">......</span><br><span class="line">    Element <span class="built_in">type</span>: Cooling, subenclosure <span class="built_in">id</span>: 0 [ti=6]</span><br><span class="line">      Overall descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: Unsupported</span><br><span class="line">        Ident=0, Hot swap=0, Fail=0, Requested on=0, Off=0</span><br><span class="line">        Actual speed=0 rpm, Fan stopped</span><br><span class="line">      Element 0 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Hot swap=1, Fail=0, Requested on=0, Off=0</span><br><span class="line">        Actual speed=12000 rpm, Fan stopped</span><br><span class="line">      Element 1 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Hot swap=1, Fail=0, Requested on=0, Off=0</span><br><span class="line">        Actual speed=11700 rpm, Fan stopped</span><br><span class="line">      Element 2 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Hot swap=1, Fail=0, Requested on=0, Off=0</span><br><span class="line">        Actual speed=11100 rpm, Fan stopped</span><br><span class="line">      Element 3 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Hot swap=1, Fail=0, Requested on=0, Off=0</span><br><span class="line">        Actual speed=11700 rpm, Fan stopped</span><br><span class="line">      Element 4 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Hot swap=1, Fail=0, Requested on=0, Off=0</span><br><span class="line">        Actual speed=11800 rpm, Fan stopped</span><br><span class="line">      Element 5 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Hot swap=1, Fail=0, Requested on=0, Off=0</span><br><span class="line">        Actual speed=11000 rpm, Fan stopped</span><br><span class="line">      Element 6 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Hot swap=1, Fail=0, Requested on=0, Off=0</span><br><span class="line">        Actual speed=10900 rpm, Fan stopped</span><br><span class="line">      Element 7 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=0, Hot swap=1, Fail=0, Requested on=0, Off=0</span><br><span class="line">        Actual speed=11900 rpm, Fan stopped</span><br><span class="line">......</span><br><span class="line">    Element <span class="built_in">type</span>: Power supply, subenclosure <span class="built_in">id</span>: 0 [ti=7]</span><br><span class="line">      Overall descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: Unsupported</span><br><span class="line">        Ident=0, DC overvoltage=0, DC undervoltage=0, DC overcurrent=0</span><br><span class="line">        Hot swap=0, Fail=0, Requested on=0, Off=0, Overtmp fail=0</span><br><span class="line">        Temperature warn=0, AC fail=0, DC fail=0</span><br><span class="line">      Element 0 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=1, DC overvoltage=0, DC undervoltage=0, DC overcurrent=0</span><br><span class="line">        Hot swap=1, Fail=0, Requested on=1, Off=0, Overtmp fail=0</span><br><span class="line">        Temperature warn=0, AC fail=0, DC fail=0</span><br><span class="line">      Element 1 descriptor:</span><br><span class="line">        Predicted failure=1, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=1, DC overvoltage=0, DC undervoltage=0, DC overcurrent=0</span><br><span class="line">        Hot swap=1, Fail=0, Requested on=1, Off=0, Overtmp fail=0</span><br><span class="line">        Temperature warn=0, AC fail=0, DC fail=0</span><br><span class="line">      Element 2 descriptor:</span><br><span class="line">        Predicted failure=1, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=1, DC overvoltage=0, DC undervoltage=0, DC overcurrent=0</span><br><span class="line">        Hot swap=1, Fail=0, Requested on=1, Off=0, Overtmp fail=0</span><br><span class="line">        Temperature warn=0, AC fail=0, DC fail=0</span><br><span class="line">      Element 3 descriptor:</span><br><span class="line">        Predicted failure=0, Disabled=0, Swap=0, status: OK</span><br><span class="line">        Ident=1, DC overvoltage=0, DC undervoltage=0, DC overcurrent=0</span><br><span class="line">        Hot swap=1, Fail=0, Requested on=1, Off=0, Overtmp fail=0</span><br><span class="line">        Temperature warn=0, AC fail=0, DC fail=0</span><br><span class="line"></span><br><span class="line">[0:0:9:0]    disk    HGST     HUH721010AL5200  LS14  /dev/sdj   35000cca26c1b8630  /dev/sg9   10.0TB</span><br><span class="line"></span><br><span class="line">Element 9 descriptor: Drive Slot 9</span><br><span class="line"></span><br><span class="line">      Element index: 9  eiioe=0</span><br><span class="line">        Transport protocol: SAS</span><br><span class="line">        number of phys: 2, not all phys: 0, device slot number: 9</span><br><span class="line">        phy index: 0</span><br><span class="line">          SAS device <span class="built_in">type</span>: end device</span><br><span class="line">          initiator port <span class="keyword">for</span>:</span><br><span class="line">          target port <span class="keyword">for</span>: SSP</span><br><span class="line">          attached SAS address: 0x500056b3787358ff</span><br><span class="line">          SAS address: 0x5000cca26c1b8631</span><br><span class="line">          phy identifier: 0x0</span><br></pre></td></tr></table></figure>
<p>JBOD power status    </p>
<ul>
<li>The IDENT (identify) bit is set to one to indicate that the RQST IDENT control bit has been set and that the element is providing a visual indication of its location. The IDENT bit is set to zero when the RQST IDENT control bit is set to zero or not implemented</li>
<li>(SES-2) 53 The DC UNDERVOLTAGE bit is set to one to indicate an undervoltage condition has been detected at the power supply output. The DC UNDERVOLTAGE bit is set to zero by setting and clearing the RQST FAIL control bit or by a power on reset</li>
<li>The DC OVERCURRENT bit is set to one to indicate an overcurrent condition has been detected at the power supply output. The DC OVERCURRENT bit is set to zero by setting and clearing the RQST FAIL control bit or by a power on reset.</li>
<li>The FAIL bit is set to one to indicate that the failure indication is on or has been set on. If there are no additional failures detected by the enclosure, clearing the RQST FAIL control bit shall clear the FAIL bit</li>
<li>The RQSTED ON (requested on) bit is set to one to indicate that the power supply has been manually turned on or has been requested to turn on by setting the RQST ON control bit. The RQSTED ON bit is set to zero when the RQST ON control bit is set to zero</li>
<li>The OFF bit is set to one to indicate the power supply is not providing power. The OFF bit shall be set if the RQST ON control bit is set to zero to request the power supply be turned off. The OFF bit shall be set if the power supply is turned off manually. The OFF bit shall be set if a failure has caused the power supply to stop providing power. The OFF bit shall be cleared when the power supply is providing its specified output.</li>
<li>The OVERTMP FAIL (overtemperature failure) bit is set to one to indicate the power supply has detected a temperature higher than a safe operating temperature. The power supply may shut down. The OVERTMP FAIL bit is set to zero by setting and clearing the RQST FAIL control bit or by a power on reset.</li>
<li>The TEMP WARN (overtemperature warning) bit is set to one to indicate the power supply has detected a temperature that is safe, but higher than normal operating temperature. The TEMP WARN bit is set to zero when normal operating temperature is again detected.</li>
<li>The AC FAIL bit is set to one to indicate that the power supply is not receiving the specified AC power. The AC FAIL bit is set to zero when normal AC power is being received.</li>
<li>The DC FAIL bit is set to one to indicate that the power supply is unable to supply the specified DC power. The DC FAIL bit is set to zero when normal DC power is being provided</li>
</ul>
<p>Turn off the device slot power   </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sg_ses --descriptor=<span class="string">&quot;Drive Slot 9&quot;</span> --<span class="built_in">set</span>=3:4:1 /dev/sg12</span><br><span class="line"></span><br><span class="line">$ sg_ses --descriptor=<span class="string">&quot;Drive Slot 9&quot;</span> --get=3:4:1 /dev/sg12</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<p>Turn on the device slot power  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sg_ses --descriptor=<span class="string">&quot;Drive Slot 9&quot;</span> --clear=3:4:1 /dev/sg12</span><br></pre></td></tr></table></figure>


<p>Power off&#x2F;on</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Element type: Power supply, subenclosure id: 0 [ti=7]</span><br><span class="line">  Overall descriptor: PowerSupplyStatus</span><br><span class="line">  Element 0 descriptor: PWS1</span><br><span class="line">  Element 1 descriptor: PWS2</span><br><span class="line">  Element 2 descriptor: PWS3</span><br><span class="line">  Element 3 descriptor: PWS4</span><br></pre></td></tr></table></figure>
<p>Turn off PWS1 led</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sg_ses --discriptor=&quot;PWS1&quot; --clear=3:5:1 /dev/sg291</span><br></pre></td></tr></table></figure>

<p>light the PWS1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sg_ses --discriptor=&quot;PWS1&quot; --set=3:5:1 /dev/sg291</span><br></pre></td></tr></table></figure>

<p>Fan</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Element type: Cooling, subenclosure id: 0 [ti=6]</span><br><span class="line">  Overall descriptor: CoolingElementInSubEnclsr0</span><br><span class="line">  Element 0 descriptor: Fan1</span><br><span class="line">  Element 1 descriptor: Fan2</span><br><span class="line">  Element 2 descriptor: Fan3</span><br><span class="line">  Element 3 descriptor: Fan4</span><br><span class="line">  Element 4 descriptor: Fan5</span><br><span class="line">  Element 5 descriptor: Fan1C</span><br><span class="line">  Element 6 descriptor: Fan2C</span><br><span class="line">  Element 7 descriptor: Fan3C</span><br><span class="line">  Element 8 descriptor: Fan4C</span><br><span class="line">  Element 9 descriptor: Fan5C</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Light the FAN led    </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sg_ses --descriptor=Fan1C --set=1:7:1 /dev/sg291</span><br></pre></td></tr></table></figure>


<p>set the Fan mode</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#REQUESTED SPEED MODE  PWM</span><br><span class="line">7 Full speed</span><br><span class="line">6 Second highest</span><br><span class="line">5 third highest</span><br><span class="line">4 Intermediate</span><br><span class="line">3 Third Loweest</span><br><span class="line">2 Second lowest</span><br><span class="line">1 Lowest speed</span><br><span class="line">0 Leave at current speed</span><br><span class="line"></span><br><span class="line">$ sg_ses --descriptor=Fan1C --set=3:2:3=7 /dev/sg291</span><br><span class="line">$ sg_ses --descriptor=Fan1C --set=3:2:3=5 /dev/sg291</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>Byte Bit</th>
<th align="center">7</th>
<th align="right">6</th>
<th align="right">5</th>
<th align="right">4</th>
<th align="right">3</th>
<th align="right">2</th>
<th align="right">1</th>
<th align="right">0</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td align="center">select</td>
<td align="right">PRDFAIL</td>
<td align="right">DISABLED</td>
<td align="right">RST SWAP</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
</tr>
<tr>
<td>1</td>
<td align="center">RQST IDENT</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
</tr>
<tr>
<td>2</td>
<td align="center">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
</tr>
<tr>
<td>3</td>
<td align="center">RESERVED</td>
<td align="right">RQST FAIL</td>
<td align="right">RQST ON</td>
<td align="right">RESERVED</td>
<td align="right">RESERVED</td>
<td align="right">REQUESTED SPEED CODE</td>
<td align="right">REQUESTED SPEED CODE</td>
<td align="right">REQUESTED SPEED CODE</td>
</tr>
</tbody></table>
<h5 id="Avoid-multiple-JBOD-devs-across-in-single-raidz-script-flag"><a href="#Avoid-multiple-JBOD-devs-across-in-single-raidz-script-flag" class="headerlink" title="Avoid multiple JBOD devs across in single raidz script_flag"></a>Avoid multiple JBOD devs across in single raidz script_flag</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tempdir=/tmp;</span><br><span class="line">lsscsi -tiv  | sed -z <span class="string">&#x27;s/\n  dir:/ /g&#x27;</span> | awk -v tempdir=<span class="string">&quot;<span class="variable">$tempdir</span>&quot;</span> -F <span class="string">&#x27;[:\\[/ ]+&#x27;</span> <span class="string">&#x27;$10!~/-/ &amp;&amp; $0~/disk/ &amp;&amp; $7~/sas/ &#123;print &quot;/dev/disk/by-id/scsi-&quot;$11,$2 &gt; tempdir&quot;/&quot;$30&quot;_&quot;$31&quot;_&quot;$32&quot;_&quot;$33&quot;_&quot;$34&#125;&#x27;</span></span><br></pre></td></tr></table></figure>


<h5 id="map-element-index-and-sas-addr-script-flag"><a href="#map-element-index-and-sas-addr-script-flag" class="headerlink" title="map element index and sas addr script_flag"></a>map element index and sas addr script_flag</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[0:0:12:0]   enclosu DP       BP14G+EXP        2.25  -          -  /dev/sg12</span><br><span class="line"></span><br><span class="line">$ sg_ses -p 0xa /dev/sg12 | awk <span class="string">&#x27;&#123;if($0!~/0x0000000000000000/ &amp;&amp; $0!~/attached SAS address/) &#123;if ($0~/Element index/) &#123;printf &quot;Element_index &quot;$3&quot; &quot;&#125;; if ($0~/number of phys/) &#123;printf &quot;slot &quot;$NF&quot; &quot;&#125;; if ($0~/SAS address/) &#123;print &quot;sasaddr &quot;$NF&#125; &#125;&#125;&#x27;</span></span><br><span class="line">Element_index 0 slot 0 sasaddr 0x500056b3787358c0</span><br><span class="line">Element_index 1 slot 1 sasaddr 0x500056b3787358c1</span><br><span class="line">Element_index 2 slot 2 sasaddr 0x500056b3787358c2</span><br><span class="line">Element_index 3 slot 3 sasaddr 0x500056b3787358c3</span><br><span class="line">Element_index 4 slot 4 sasaddr 0x500056b3787358c4</span><br><span class="line">Element_index 5 slot 5 sasaddr 0x500056b3787358c5</span><br><span class="line">Element_index 6 slot 6 sasaddr 0x500056b3787358c6</span><br><span class="line">Element_index 7 slot 7 sasaddr 0x500056b3787358c7</span><br><span class="line">Element_index 8 slot 8 sasaddr 0x500056b3787358c8</span><br><span class="line">Element_index 9 slot 9 sasaddr 0x500056b3787358c9</span><br><span class="line">Element_index 10 slot 10 sasaddr 0x500056b3787358ca</span><br></pre></td></tr></table></figure>
<h5 id="sg-modes-at-the-next"><a href="#sg-modes-at-the-next" class="headerlink" title="sg_modes at the next"></a>sg_modes at the next</h5><h4 id="Enable-SATA-TLER-x2F-ERC-x2F-CCTL"><a href="#Enable-SATA-TLER-x2F-ERC-x2F-CCTL" class="headerlink" title="Enable SATA TLER&#x2F;ERC&#x2F;CCTL"></a>Enable SATA TLER&#x2F;ERC&#x2F;CCTL</h4><p>Western Digital&#x2F;HGST TLER - Time-Limited Error Recovery<br>Seagate ERC- Error Recovery Control<br>Hitachi&#x2F;Samsung CCTL - Command Completion Time Limit</p>
<p>Streaming Commands<br>When the device is in standby mode, Streaming Commands can’t be completed<br>while waiting for the spindle to reach operating speed even if execution time<br>exceeds specified CCTL(Command Completion Time Limit). The minimum CCTL<br>is 50ms.CCTL is set to 50ms when the specified value is shorter than 50ms.</p>
<p>SCT<br>When the device is in standby mode, any command where error recovery time<br>limit is specified can’t be completed while waiting for the spindle to reach operating<br>speed even if execution time exceeds specified recovery time limit. The minimum<br>time limit is 6.5 second. When the specified time limit is shorter than 6.5 second,<br>the issued command is aborted.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ lsscsi -gi | grep sdy</span><br><span class="line">[1:0:18:0]   disk    ATA      HGST HUH721212AL T3D0  /dev/sdy   -  /dev/sg25</span><br><span class="line"></span><br><span class="line">$ smartctl -l scterc,70,70 /dev/sdy</span><br><span class="line">smartctl 6.5 2016-05-07 r4318 [x86_64-linux-3.10.0-957.el7_lustre.x86_64] (<span class="built_in">local</span> build)</span><br><span class="line">Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org</span><br><span class="line"></span><br><span class="line">SCT Error Recovery Control <span class="built_in">set</span> to:</span><br><span class="line">           Read:     70 (7.0 seconds)</span><br><span class="line">          Write:     70 (7.0 seconds)</span><br><span class="line"></span><br><span class="line">$ smartctl -l scterc /dev/sdy</span><br><span class="line">martctl 6.5 2016-05-07 r4318 [x86_64-linux-3.10.0-957.el7_lustre.x86_64] (<span class="built_in">local</span> build)</span><br><span class="line">Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org</span><br><span class="line"></span><br><span class="line">SCT Error Recovery Control:</span><br><span class="line">           Read:     70 (7.0 seconds)</span><br></pre></td></tr></table></figure>

<h4 id="Get-hide-area-from-SATA-SSD"><a href="#Get-hide-area-from-SATA-SSD" class="headerlink" title="Get hide area from SATA SSD"></a><a target="_blank" rel="noopener" href="https://tinyapps.org/docs/wipe_drives_hdparm.html">Get hide area from SATA SSD</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">$ hdparm -I /dev/sdx</span><br><span class="line">....</span><br><span class="line">Security:</span><br><span class="line">        Master password revision code = 65534</span><br><span class="line">                supported</span><br><span class="line">        not     enabled</span><br><span class="line">        not     locked</span><br><span class="line">        not     frozen</span><br><span class="line">        not     expired: security count</span><br><span class="line">                supported: enhanced erase</span><br><span class="line">        4min for SECURITY ERASE UNIT. 4min for ENHANCED SECURITY ERASE UNIT.</span><br><span class="line"></span><br><span class="line"># set password</span><br><span class="line">$ hdparm --user-master u --security-set-pass p /dev/sdx</span><br><span class="line"></span><br><span class="line"># Erase the dev</span><br><span class="line">$ hdparm --user-master u --security-erase p /dev/sdx</span><br><span class="line"># if you dev support security-erase-enhanced, you could use security-erase-enhanced</span><br><span class="line">Secure erase overwrites all user data areas with binary zeroes. Enhanced secure erase writes predetermined data patterns (set by the manufacturer) to all user data areas, including sectors that are no longer in use due to reallocation. ***NOTE: the enhanced secure erase option is not supported by all ATA drives.</span><br><span class="line"></span><br><span class="line">$ after security-erase</span><br><span class="line">$ dd if=/dev/sdx bs=8192 status=progress | hexdump</span><br><span class="line">0000000 0000 0000 0000 0000 0000 0000 0000 0000</span><br><span class="line"></span><br><span class="line"># if your dev has locked</span><br><span class="line">    locked</span><br><span class="line"></span><br><span class="line">#unlock</span><br><span class="line">$ hdparm --user-master u --security-unlock p /dev/sdx</span><br><span class="line"></span><br><span class="line">#disable security</span><br><span class="line">$ hdparm --user-master u --security-disable p /dev/sdx</span><br><span class="line"></span><br><span class="line">$ hdparm -I /dev/sdx</span><br><span class="line">not     enabled</span><br><span class="line">not     locked</span><br><span class="line"></span><br><span class="line">## hide Areas</span><br><span class="line">$ hdparm -N /dev/sda</span><br><span class="line"></span><br><span class="line">/dev/sda:</span><br><span class="line"> READ_NATIVE_MAX_ADDRESS_EXT failed: Input/output error</span><br><span class="line"></span><br><span class="line">$ hdparm -N /dev/sdd</span><br><span class="line"></span><br><span class="line">/dev/sdd:</span><br><span class="line"> max sectors   = 3907029168/3907029168, HPA is disabled</span><br><span class="line"></span><br><span class="line">##</span><br><span class="line"></span><br><span class="line">$ hdparm -N /dev/sdx</span><br><span class="line"></span><br><span class="line">/dev/sdx:</span><br><span class="line">max sectors   = 78125000/78165360, HPA is enabled</span><br><span class="line"></span><br><span class="line">$ hdparm -N p78165360 /dev/sdx</span><br><span class="line"></span><br><span class="line">/dev/sdx:</span><br><span class="line">setting max visible sectors to 78165360 (permanent)</span><br><span class="line">max sectors   = 78165360/78165360, HPA is disabled</span><br><span class="line"></span><br><span class="line">$ hdparm --dco-identify /dev/sdx</span><br><span class="line"></span><br><span class="line">/dev/sdx:</span><br><span class="line">DCO Revision: 0x0001</span><br><span class="line">The following features can be selectively disabled via DCO:</span><br><span class="line">       Transfer modes:</span><br><span class="line">                udma0 udma1 udma2 udma3 udma4 udma5</span><br><span class="line">       Real max sectors: 78165360</span><br><span class="line">       ATA command/feature sets:</span><br><span class="line">                AAM HPA</span><br><span class="line"></span><br><span class="line">$ hdparm --dco-restore /dev/sdx</span><br><span class="line"></span><br><span class="line">/dev/sdx:</span><br><span class="line">Use of --dco-restore is VERY DANGEROUS.</span><br><span class="line">You are trying to deliberately reset your drive configuration back to</span><br><span class="line">the factory defaults.</span><br><span class="line">This may change the apparent capacity and feature set of the drive,</span><br><span class="line">making all data on it inaccessible.</span><br><span class="line">You could lose *everything*.</span><br><span class="line">Please supply the --yes-i-know-what-i-am-doing flag if you really want this.</span><br><span class="line">Program aborted.</span><br><span class="line"></span><br><span class="line">$ hdparm --yes-i-know-what-i-am-doing --dco-restore /dev/sdx</span><br><span class="line"></span><br><span class="line">/dev/sdx:</span><br><span class="line">issuing DCO restore command</span><br></pre></td></tr></table></figure>
<h4 id="Enable-SAS-x2F-SATA-dev-cache"><a href="#Enable-SAS-x2F-SATA-dev-cache" class="headerlink" title="Enable SAS&#x2F;SATA dev cache"></a>Enable SAS&#x2F;SATA dev cache</h4><h5 id="SAS-cache"><a href="#SAS-cache" class="headerlink" title="SAS cache"></a>SAS cache</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">#simple way</span><br><span class="line">$ sdparm -s WCE=1,RCD=0 /dev/sdX</span><br><span class="line"></span><br><span class="line">Byte  7   6    5   4    3   2   1   0               Default</span><br><span class="line">0    ps 0  page code=08h                             88h</span><br><span class="line">1    page length = 12h                               12h</span><br><span class="line">2    ic ABPF CAP DISC SIZE WCE MF RCD                04h</span><br><span class="line"></span><br><span class="line">#show detail</span><br><span class="line">$ sg_wr_mode -p 0x8 /dev/sda</span><br><span class="line">&gt;&gt;&gt; No contents given, so show current mode page data:</span><br><span class="line">  header:</span><br><span class="line">00 22 00 10 00 00 00 08</span><br><span class="line">  block descriptor(s):</span><br><span class="line">ff ff ff ff 00 00 02 00</span><br><span class="line">  mode page:</span><br><span class="line">88 12 00 00 ff ff 00 00  ff ff ff ff 00 08 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line"></span><br><span class="line">#Enable read and write cache</span><br><span class="line">$ sg_wr_mode -p 0x8 /dev/sda</span><br><span class="line">&gt;&gt;&gt; No contents given, so show current mode page data:</span><br><span class="line">  header:</span><br><span class="line">00 22 00 10 00 00 00 08</span><br><span class="line">  block descriptor(s):</span><br><span class="line">ff ff ff ff 00 00 02 00</span><br><span class="line">  mode page:</span><br><span class="line">88 12 04 00 ff ff 00 00  ff ff ff ff 00 08 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line"></span><br><span class="line">#Disable all</span><br><span class="line">$ sg_wr_mode -p 0x8 /dev/sda</span><br><span class="line">&gt;&gt;&gt; No contents given, so show current mode page data:</span><br><span class="line">  header:</span><br><span class="line">00 22 00 10 00 00 00 08</span><br><span class="line">  block descriptor(s):</span><br><span class="line">ff ff ff ff 00 00 02 00</span><br><span class="line">  mode page:</span><br><span class="line">88 12 05 00 ff ff 00 00  ff ff ff ff 00 08 00 00</span><br><span class="line">00 00 00 00</span><br></pre></td></tr></table></figure>

<h4 id="SATA-cache"><a href="#SATA-cache" class="headerlink" title="SATA cache"></a>SATA cache</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">#simple way</span><br><span class="line">$ hdparm -W1 /dev/sdc</span><br><span class="line"></span><br><span class="line">#show detail</span><br><span class="line">$ sg_sat_set_features --feature=2h -v /dev/sdc #Enable write cache</span><br><span class="line">    ATA pass-through(16) cdb: 85 06 0c 00 02 00 00 00 00 00 00 00 00 00 ef 00</span><br><span class="line">    85      -     0x7429   Commands and feature sets supported or enabled</span><br><span class="line">   255      -     0xe0a5   Integrity word</span><br><span class="line">   255     15:8     0xe0   Checksum</span><br><span class="line">0x7429=111,0100,0010,1001</span><br><span class="line"></span><br><span class="line">$ sg_sat_set_features --feature=AAh -v /dev/sdc #after enable write cache, continue to enabel read cahe</span><br><span class="line">    ATA pass-through(16) cdb: 85 06 0c 00 aa 00 00 00 00 00 00 00 00 00 ef 00</span><br><span class="line">    85      -     0x7469   Commands and feature sets supported or enabled</span><br><span class="line">   255      -     0xa0a5   Integrity word</span><br><span class="line">   255     15:8     0xa0   Checksum</span><br><span class="line">0x7469=111,0100,0110,1001</span><br><span class="line"></span><br><span class="line">$ sg_sat_set_features --feature=55h -v /dev/sdc #disable read cache</span><br><span class="line">    ATA pass-through(16) cdb: 85 06 0c 00 55 00 00 00 00 00 00 00 00 00 ef 00</span><br><span class="line">    85      -     0x7429   Commands and feature sets supported or enabled</span><br><span class="line">    85      5          1   Write cache enabled  ## Here will auto add a new line</span><br><span class="line">   255      -     0xe0a5   Integrity word</span><br><span class="line">   255     15:8     0xe0   Checksum</span><br><span class="line">0x7429=111,0100,0010,1001</span><br><span class="line"></span><br><span class="line">$ sg_sat_set_features --feature=82h -v /dev/sdc #after disable read cache, continue to disable write cache</span><br><span class="line">    ATA pass-through(16) cdb: 85 06 0c 00 82 00 00 00 00 00 00 00 00 00 ef 00</span><br><span class="line">    85      -     0x7409   Commands and feature sets supported or enabled</span><br><span class="line">   255      -     0x00a5   Integrity word</span><br><span class="line">0x7409=111,0100,0000,1001</span><br></pre></td></tr></table></figure>

<p>Set Features (EFh)</p>
<table>
<thead>
<tr>
<th align="center">FUNCTION</th>
<th align="center">FEATURES REGISTER</th>
<th align="center">SECTOR COUNTREGISTER</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Enable read cache1</td>
<td align="center">AAh</td>
<td align="center">Don’t care</td>
</tr>
<tr>
<td align="center">Disable read cache1</td>
<td align="center">55h</td>
<td align="center">Don’t care</td>
</tr>
<tr>
<td align="center">Enable write cache1</td>
<td align="center">02h</td>
<td align="center">Don’t care</td>
</tr>
<tr>
<td align="center">Disable write cache1</td>
<td align="center">82h</td>
<td align="center">Don’t care</td>
</tr>
<tr>
<td align="center">Set Transfer Mode</td>
<td align="center">03h</td>
<td align="center">Don’t care</td>
</tr>
<tr>
<td align="center">Enable use of Serial ATA Feature</td>
<td align="center">10h</td>
<td align="center">02h-DMA Setup FIS Auto-Activate optimization 06h-Software Settings</td>
</tr>
<tr>
<td align="center">Disable use of Serial ATA Feature</td>
<td align="center">90h</td>
<td align="center">02h-DMA Setup FIS Auto-Activate optimization 06h-Software Settings</td>
</tr>
</tbody></table>
<p>Note: Changes are only valid while power remains applied to the drive. After power is cycled, the drive reverts to the<br>default settings.</p>
<p>Sends an ATA SET FEATURES command via a SAT pass through.<br>Primary feature code is placed in ‘–feature&#x3D;FEA’ with ‘–count&#x3D;CO’ and ‘–lba&#x3D;LBA’ being auxiliaries for some features.  The arguments CO, FEA and LBA are decimal unless prefixed by ‘0x’ or have a trailing ‘h’.</p>
<h4 id="sector-size"><a href="#sector-size" class="headerlink" title="sector size"></a><a target="_blank" rel="noopener" href="http://people.redhat.com/msnitzer/docs/linux-advanced-storage-6.1.pdf">sector size</a></h4><h5 id="512e-SATA"><a href="#512e-SATA" class="headerlink" title="512e SATA"></a>512e SATA</h5><p>the first logical block does begin on a boundary aligned to the physical block size</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"> 106      -     0x6003   Physical sector size / logical sector size</span><br><span class="line"> 106     15:14     0x1   Must be <span class="built_in">set</span> to 0x1</span><br><span class="line"> 106     13          1   Multiple logical sectors per physical sector</span><br><span class="line"> 106      3:0      0x3   2^X logical sectors per physical sector</span><br><span class="line">...</span><br><span class="line"> 209      -     0x4000   Alignment of logical sectors</span><br><span class="line"> 209     15:14     0x1   Must be <span class="built_in">set</span> to 0x1</span><br><span class="line"></span><br><span class="line">$ dc -e <span class="string">&#x27;16i2o0x6003p&#x27;</span></span><br><span class="line">110000000000011</span><br><span class="line">110,0000,0000,0011 &lt;- 2^3=8, 512 Bytes x 8 = 4096 Bytes (phy)</span><br><span class="line"> ^</span><br><span class="line"> |</span><br><span class="line"><span class="comment">#Word 106 bit 15 must be 0 and bit 14 must be 1. This signals that word 106 is valid. Bit 13 must be set to indicate that bits 3:0 are valid and that word 209 is specified.</span></span><br><span class="line">first 110, I guess 0 means 3:0 are valid  and that word 209 is specified</span><br><span class="line"></span><br><span class="line"><span class="comment">#Bits 3:0 indicate the physical block size exponent. I.e. 2n logical blocks/physical block. For a drive with 4096-byte physical blocks and 512-byte logical blocks, a value of 3 is reported in bits 3:0 (23 = 8).</span></span><br><span class="line"></span><br><span class="line">$ dc -e <span class="string">&#x27;16i2o0x4000p&#x27;</span></span><br><span class="line">100000000000000</span><br><span class="line">100,0000,0000,0000</span><br></pre></td></tr></table></figure>

<p>If the first logical block does <code>not</code> begin on a boundary aligned to the physical block size<br>word 209 should be reported by the device. Bit 15 must be zero, bit 14 must be 1. Bits 13:0 indicate the logical sector offset within the first physical sector where the first logical sector is placed.<br>For compatibility with legacy operating systems some vendors may align the blocks so that LBA 63 falls on a physical block boundary. In that case an alignment of 1 should be reported.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### I have not reproduce this case</span></span><br><span class="line">IDENTIFY DEVICE 106 0110 0000 0000 0011 0x6003</span><br><span class="line">IDENTIFY DEVICE 209 0100 0000 0000 0001 0x4001</span><br></pre></td></tr></table></figure>

<h5 id="4KN"><a href="#4KN" class="headerlink" title="4KN"></a>4KN</h5><p>If a drive uses 4KiB logical and physical blocks, IDENTIFY DEVICE words 106, 117, and 118 must be specified.<br>Word 106 bit 15 must be 0 and bit 14 must be 1. This signals that word 106 is valid. Bit 12 must be set to indicate that words 117 and 118 are specified.<br>Word 117 (LSB) and 118 (MSB) specify the logical block size in words.</p>
<p>I.e. for a 4KiB drive that would be 2048.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IDENTIFY DEVICE 106 0101 0000 0000 0000 0x5000</span><br><span class="line">IDENTIFY DEVICE 117 0000 1000 0000 0000 0x0800 <span class="comment"># 2^11=2048=0x0800</span></span><br><span class="line">IDENTIFY DEVICE 118 0000 0000 0000 0000 0x0000</span><br></pre></td></tr></table></figure>

<h5 id="Nominal-media-rotation-rate"><a href="#Nominal-media-rotation-rate" class="headerlink" title="Nominal media rotation rate"></a>Nominal media rotation rate</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">217      -     0x1c20   Nominal media rotation rate</span><br><span class="line">$ dc -e <span class="string">&#x27;16i2o0x1c20p&#x27;</span></span><br><span class="line">100000</span><br><span class="line">10,0000</span><br><span class="line"><span class="comment"># why dell SATA HDD not be 0x1.</span></span><br><span class="line">IDENTIFY DEVICE 217 0000 0000 0000 0001 0x0001</span><br></pre></td></tr></table></figure>
<p>If the storage device is non-rotational (i.e. SSD or array) word 217 of IDENTIFY DEVICE should be set to one. The I&#x2F;O scheduler may then be less agressive in terms of seek avoidance. Any other value reported in 217 will be ignored.   </p>
<h4 id="Does-devices-support-the-scsi-Persistent-Reservation"><a href="#Does-devices-support-the-scsi-Persistent-Reservation" class="headerlink" title="Does devices support the scsi-Persistent-Reservation"></a>Does devices support the scsi-Persistent-Reservation</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">$ sg_persist -c /dev/sdi</span><br><span class="line">  ATA       HGST HUH721010AL  LT14</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">PR <span class="keyword">in</span> (Report capabilities): <span class="built_in">command</span> not supported</span><br><span class="line">sg_persist failed: Illegal request, Invalid opcode</span><br><span class="line"></span><br><span class="line">$ sg_persist -c /dev/sdj</span><br><span class="line">  HGST      HUH721010AL5200   LS14</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">Report capabilities response:</span><br><span class="line">  Replace Lost Reservation Capable(RLR_C): 0</span><br><span class="line">  Compatible Reservation Handling(CRH): 0</span><br><span class="line">  Specify Initiator Ports Capable(SIP_C): 1</span><br><span class="line">  All Target Ports Capable(ATP_C): 1</span><br><span class="line">  Persist Through Power Loss Capable(PTPL_C): 1</span><br><span class="line">  Type Mask Valid(TMV): 1</span><br><span class="line">  Allow Commands: 0</span><br><span class="line">  Persist Through Power Loss Active(PTPL_A): 0</span><br><span class="line">    Support indicated <span class="keyword">in</span> Type mask:</span><br><span class="line">      Write Exclusive, all registrants: 0</span><br><span class="line">      Exclusive Access, registrants only: 1</span><br><span class="line">      Write Exclusive, registrants only: 1</span><br><span class="line">      Exclusive Access: 1</span><br><span class="line">      Write Exclusive: 1</span><br><span class="line">      Exclusive Access, all registrants: 0</span><br><span class="line"></span><br><span class="line">A: [1:0:14:0]   disk    HP       MK0800JVYPQ      HPD6  /dev/sdo   35001173d028c863c  /dev/sg16</span><br><span class="line">B: [1:0:14:0]   disk    HP       MK0800JVYPQ      HPD6  /dev/sdo   35001173d028c863c  /dev/sg16</span><br><span class="line"></span><br><span class="line">$ sg_persist --read-keys /dev/sdo</span><br><span class="line">  HP        MK0800JVYPQ       HPD6</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0x0, there are NO registered reservation keys</span><br><span class="line">$ sg_persist --read-reservation /dev/sdo</span><br><span class="line">  HP        MK0800JVYPQ       HPD6</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0x0, there is NO reservation held</span><br><span class="line">$ sg_persist /dev/sdo</span><br><span class="line">&gt;&gt; No service action given; assume Persistent Reserve In <span class="built_in">command</span></span><br><span class="line">&gt;&gt; with Read Keys service action</span><br><span class="line">  HP        MK0800JVYPQ       HPD6</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0x0, there are NO registered reservation keys</span><br><span class="line">$ sg_persist -n -i -r -d /dev/sdo</span><br><span class="line">  PR generation=0x0, there is NO reservation held</span><br></pre></td></tr></table></figure>
<p>register -&gt; reserve -&gt; preempt-abort -&gt; re-register another node    </p>
<p>Register   </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># register</span></span><br><span class="line">A $ openssl rand -hex 4</span><br><span class="line">f089a155</span><br><span class="line">A $ sg_persist --out --register --param-sark=f089a155 -d /dev/sdo</span><br><span class="line">  HP        MK0800JVYPQ       HPD6</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">A $ sg_persist --read-keys /dev/sdo</span><br><span class="line">  HP        MK0800JVYPQ       HPD6</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0x7, 1 registered reservation key follows:</span><br><span class="line">    0xf089a155</span><br></pre></td></tr></table></figure>
<p>Reserve   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">A $ sg_persist --out --reserve --param-rk=f089a155 --prout-type=1 /dev/sdo</span><br><span class="line">  HP        MK0800JVYPQ       HPD6</span><br><span class="line">  Peripheral device type: disk</span><br><span class="line"></span><br><span class="line">B $ sg_persist --read-keys /dev/sdo</span><br><span class="line">  HP        MK0800JVYPQ       HPD6</span><br><span class="line">  Peripheral device type: disk</span><br><span class="line">  PR generation=0xd, 1 registered reservation key follows:</span><br><span class="line">    0xf089a155</span><br><span class="line"></span><br><span class="line">B $ sg_persist --read-reservation /dev/sdo</span><br><span class="line">  HP        MK0800JVYPQ       HPD6</span><br><span class="line">  Peripheral device type: disk</span><br><span class="line">  PR generation=0xd, Reservation follows:</span><br><span class="line">    Key=0xf089a155</span><br><span class="line">    scope: LU_SCOPE,  type: Write Exclusive</span><br><span class="line"></span><br><span class="line">A $ dd if=/dev/zero of=/dev/sdo bs=1M count=10 oflag=sync</span><br><span class="line">10+0 records in</span><br><span class="line">10+0 records out</span><br><span class="line">10485760 bytes (10 MB) copied, 0.0191827 s, 547 MB/s</span><br><span class="line"></span><br><span class="line">B $ dd if=/dev/zero of=/dev/mapper/35000cca2515f34c4 bs=1M count=10 oflag=sync</span><br><span class="line">dd: error writing ‘/dev/sdo’: Input/output error</span><br><span class="line">1+0 records in</span><br><span class="line">0+0 records out</span><br><span class="line">0 bytes (0 B) copied, 0.618006 s, 0.0 kB/s</span><br></pre></td></tr></table></figure>
<p>Server B preempt the reservation  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">B $ openssl rand -hex 4</span><br><span class="line">f7ec3033</span><br><span class="line">B $ sg_persist --read-keys /dev/sdo</span><br><span class="line">  HP        MK0800JVYPQ       HPD6</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0x1, 1 registered reservation key follows:</span><br><span class="line">    0xf089a155</span><br><span class="line"></span><br><span class="line">B $ sg_persist --out --register --param-sark=f7ec3033 -d /dev/sdo</span><br><span class="line">B $ sg_persist --read-keys /dev/sdo</span><br><span class="line">  HP        MK0800JVYPQ       HPD6</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0xa, 2 registered reservation keys follow:</span><br><span class="line">    0xf089a155</span><br><span class="line">    0xf7ec3033</span><br><span class="line"></span><br><span class="line">B $ sg_persist --read-reservation /dev/sdo</span><br><span class="line">  HP        MK0800JVYPQ       HPD6</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0xa, Reservation follows:</span><br><span class="line">    Key=0xf089a155</span><br><span class="line">    scope: LU_SCOPE,  <span class="built_in">type</span>: Write Exclusive</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">B $ sg_persist -n -o -A -K f7ec3033 -S f089a155  -T 1 -v -d /dev/sdo</span><br><span class="line">    Persistent Reservation Out cmd: 5f 05 01 00 00 00 00 00 18 00</span><br><span class="line">PR out: <span class="built_in">command</span> (Preempt and abort) successful</span><br><span class="line"></span><br><span class="line">B $ sg_persist --read-reservation -d /dev/sdo<span class="string">&quot;</span></span><br><span class="line"><span class="string">  HP        MK0800JVYPQ       HPD6</span></span><br><span class="line"><span class="string">  Peripheral device type: disk</span></span><br><span class="line"><span class="string">  PR generation=0xf, Reservation follows:</span></span><br><span class="line"><span class="string">    Key=0xf7ec3033</span></span><br><span class="line"><span class="string">    scope: LU_SCOPE,  type: Write Exclusive</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">A $ dd if=/dev/zero of=/dev/sdo bs=1M count=10 oflag=sync</span></span><br><span class="line"><span class="string">dd: error writing ‘/dev/sdo’: Input/output error</span></span><br><span class="line"><span class="string">1+0 records in</span></span><br><span class="line"><span class="string">0+0 records out</span></span><br><span class="line"><span class="string">0 bytes (0 B) copied, 0.617521 s, 0.0 kB/s</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">B $ dd if=/dev/zero of=/dev/sdo bs=1M count=10 oflag=sync</span></span><br><span class="line"><span class="string">10+0 records in</span></span><br><span class="line"><span class="string">10+0 records out</span></span><br><span class="line"><span class="string">10485760 bytes (10 MB) copied, 0.0212361 s, 494 MB/s</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#if you input wrong -K and -S value, it will return error</span></span><br><span class="line"><span class="string">B $ sg_persist -n -o -A -d /dev/sdo -K f7ec3zzz -S f08fsd55  -T 1 -v</span></span><br><span class="line"><span class="string">    Persistent Reservation Out cmd: 5f 05 01 00 00 00 00 00 18 00</span></span><br><span class="line"><span class="string">    persistent reserve out: scsi status: Reservation Conflict</span></span><br><span class="line"><span class="string">    PR out: command failed</span></span><br></pre></td></tr></table></figure>
<p>After preempt-abort, Server A preempt the reservation<br>Need to be register again</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">A $ sg_persist --read-keys /dev/sdo<span class="string">&quot;</span></span><br><span class="line"><span class="string">  HP        MK0800JVYPQ       HPD6</span></span><br><span class="line"><span class="string">  Peripheral device type: disk</span></span><br><span class="line"><span class="string">  PR generation=0xf, 1 registered reservation key follows:</span></span><br><span class="line"><span class="string">    0xf7ec3033</span></span><br><span class="line"><span class="string">A $ sg_persist --out --register --param-sark=f089a155 -d /dev/sdo</span></span><br><span class="line"><span class="string">  HP        MK0800JVYPQ       HPD6</span></span><br><span class="line"><span class="string">  Peripheral device type: disk</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">A $ sg_persist --read-keys /dev/sdo</span></span><br><span class="line"><span class="string">  HP        MK0800JVYPQ       HPD6</span></span><br><span class="line"><span class="string">  Peripheral device type: disk</span></span><br><span class="line"><span class="string">  PR generation=0x10, 2 registered reservation keys follow:</span></span><br><span class="line"><span class="string">    0xf089a155</span></span><br><span class="line"><span class="string">    0xf7ec3033</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">A $ sg_persist -n -o -A -K f089a155 -S f7ec3033  -T 1 -v -d /dev/sdo</span></span><br><span class="line"><span class="string">    Persistent Reservation Out cmd: 5f 05 01 00 00 00 00 00 18 00</span></span><br><span class="line"><span class="string">PR out: command (Preempt and abort) successful</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">A $ sg_persist --read-reservation /dev/sdo</span></span><br><span class="line"><span class="string">  HP        MK0800JVYPQ       HPD6</span></span><br><span class="line"><span class="string">  Peripheral device type: disk</span></span><br><span class="line"><span class="string">  PR generation=0x11, Reservation follows:</span></span><br><span class="line"><span class="string">    Key=0xf089a155</span></span><br><span class="line"><span class="string">    scope: LU_SCOPE,  type: Write Exclusive</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">A $ dd if=/dev/zero of=/dev/sdo bs=1M count=10 oflag=sync</span></span><br><span class="line"><span class="string">10+0 records in</span></span><br><span class="line"><span class="string">10+0 records out</span></span><br><span class="line"><span class="string">10485760 bytes (10 MB) copied, 0.0188563 s, 556 MB/s</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">B $ dd if=/dev/zero of=/dev/sdo bs=1M count=10 oflag=sync&quot;</span></span><br><span class="line"><span class="built_in">dd</span>: error writing ‘/dev/sdo’: Input/output error</span><br><span class="line">1+0 records <span class="keyword">in</span></span><br><span class="line">0+0 records out</span><br><span class="line">0 bytes (0 B) copied, 0.744081 s, 0.0 kB/s</span><br></pre></td></tr></table></figure>
<p>finished  </p>
<p>Try another type<br><a target="_blank" rel="noopener" href="http://www.gonzoleeman.net/scsi-3-pgr-tutorial-v1.0">Prout-type</a>     </p>
<ul>
<li>1-&gt; write exclusive<ul>
<li>don’t let anybody else use my disc at all, and don’t let anybody take my reservation</li>
</ul>
</li>
<li>3-&gt; exclusive access<ul>
<li>don’t let anybody else write to my disc, and don’t let anybody take my reservation</li>
</ul>
</li>
<li>5-&gt; write exclusive - registrants only<ul>
<li>Don’t let anybody but my group of friends use the disc, and don’t let anybody take my reservation</li>
</ul>
</li>
<li>6-&gt; exclusive access - registrants only<ul>
<li>Don’t let anybody but my group of friends write to the the disc, and don’t let anybody take my reservation.</li>
</ul>
</li>
<li>7-&gt; write exclusive - all registrants<ul>
<li>Don’t let anybody but my group of friends use the disc, and share my reservation with all of them as well</li>
</ul>
</li>
<li>8-&gt; exclusive access - all registrants<ul>
<li>Don’t let anybody but my group of friends write to the disc, and share my reservation with all of them as well<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">$ sg_persist -c /dev/disk/by-id/scsi-35000c500cadd3097 -vvv</span><br><span class="line"></span><br><span class="line">open /dev/disk/by-id/scsi-35000c500cadd3097 with flags=0x800</span><br><span class="line">    inquiry cdb: [12 00 00 00 24 00]</span><br><span class="line">      duration=5 ms</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">open /dev/disk/by-id/scsi-35000c500cadd3097 with flags=0x802</span><br><span class="line">    Persistent reservation <span class="keyword">in</span> cdb: [5e 02 00 00 00 00 00 20 00 00]</span><br><span class="line">      duration=0 ms</span><br><span class="line">    Persistent reservation <span class="keyword">in</span>: pass-through requested 8192 bytes (data-in), got  got 8 bytes</span><br><span class="line">    Persistent reservation <span class="keyword">in</span>: response:</span><br><span class="line">00 08 0d 80 ea 01 00 00</span><br><span class="line">Report capabilities response:</span><br><span class="line">  Replace Lost Reservation Capable(RLR_C): 0</span><br><span class="line">  Compatible Reservation Handling(CRH): 0</span><br><span class="line">  Specify Initiator Ports Capable(SIP_C): 1</span><br><span class="line">  All Target Ports Capable(ATP_C): 1</span><br><span class="line">  Persist Through Power Loss Capable(PTPL_C): 1</span><br><span class="line">  Type Mask Valid(TMV): 1</span><br><span class="line">  Allow Commands: 0</span><br><span class="line">  Persist Through Power Loss Active(PTPL_A): 0</span><br><span class="line">    Support indicated <span class="keyword">in</span> Type mask:</span><br><span class="line">      Write Exclusive, all registrants: 1</span><br><span class="line">      Exclusive Access, registrants only: 1</span><br><span class="line">      Write Exclusive, registrants only: 1</span><br><span class="line">      Exclusive Access: 1</span><br><span class="line">      Write Exclusive: 1</span><br><span class="line">      Exclusive Access, all registrants: 1</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p>Release reservation   </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ sg_persist --out --release -K f089a155 --prout-type=1 /dev/sdo</span><br><span class="line">  HP        MK0800JVYPQ       HPD6</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line"></span><br><span class="line">$ sg_persist --<span class="keyword">in</span> -r --no-inquiry -d /dev/sdo</span><br><span class="line">  PR generation=0x5f, there is NO reservation held</span><br><span class="line"></span><br><span class="line">$ sg_persist --read-reservation /dev/sdo</span><br><span class="line">  HP        MK0800JVYPQ       HPD6</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0x11, there is NO reservation held</span><br></pre></td></tr></table></figure>
<p>Unregister key   </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A $ sg_persist --out --register -K f089a155 -d /dev/sdo</span><br><span class="line">  HGST      HUH721010AL5200   A21D</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">A $ sg_persist --<span class="keyword">in</span> -k --no-inquiry -d /dev/sdo</span><br><span class="line">  PR generation=0x60, there are NO registered reservation keys</span><br></pre></td></tr></table></figure>
<p>Force mode<br>It releases the persistent reservation (if any) and clears all registrations from the device</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">                                    --- key of this node</span><br><span class="line">                                    |</span><br><span class="line">A $ sg_persist --out --clear -K f089a155 /dev/sdo</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">After A and B reboot, the reservation worked  </span><br><span class="line">Plugin it to another JBOD, all key, reservation will missing    </span><br><span class="line">       -Z, --param-aptpl</span><br><span class="line">              <span class="built_in">set</span>  the <span class="string">&#x27;activate persist through power loss&#x27;</span> (APTPL) flag <span class="keyword">in</span> the parameter block of the PROUT <span class="built_in">command</span>. Relevant <span class="keyword">for</span> <span class="string">&#x27;regis‐</span></span><br><span class="line"><span class="string">              ter&#x27;</span>, <span class="string">&#x27;register and ignore existing key&#x27;</span> and <span class="string">&#x27;register and move&#x27;</span> sub-commands.</span><br></pre></td></tr></table></figure>
<p>another test    </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br></pre></td><td class="code"><pre><span class="line">$ sg_persist -c /dev/disk/by-id/scsi-35000c500cadd3097 -vvv</span><br><span class="line"></span><br><span class="line">open /dev/disk/by-id/scsi-35000c500cadd3097 with flags=0x800</span><br><span class="line">    inquiry cdb: [12 00 00 00 24 00]</span><br><span class="line">      duration=5 ms</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">open /dev/disk/by-id/scsi-35000c500cadd3097 with flags=0x802</span><br><span class="line">    Persistent reservation <span class="keyword">in</span> cdb: [5e 02 00 00 00 00 00 20 00 00]</span><br><span class="line">      duration=0 ms</span><br><span class="line">    Persistent reservation <span class="keyword">in</span>: pass-through requested 8192 bytes (data-in), got  got 8 bytes</span><br><span class="line">    Persistent reservation <span class="keyword">in</span>: response:</span><br><span class="line">00 08 0d 80 ea 01 00 00</span><br><span class="line">Report capabilities response:</span><br><span class="line">  Replace Lost Reservation Capable(RLR_C): 0</span><br><span class="line">  Compatible Reservation Handling(CRH): 0</span><br><span class="line">  Specify Initiator Ports Capable(SIP_C): 1</span><br><span class="line">  All Target Ports Capable(ATP_C): 1</span><br><span class="line">  Persist Through Power Loss Capable(PTPL_C): 1</span><br><span class="line">  Type Mask Valid(TMV): 1</span><br><span class="line">  Allow Commands: 0</span><br><span class="line">  Persist Through Power Loss Active(PTPL_A): 0</span><br><span class="line">    Support indicated <span class="keyword">in</span> Type mask:</span><br><span class="line">      Write Exclusive, all registrants: 1</span><br><span class="line">      Exclusive Access, registrants only: 1</span><br><span class="line">      Write Exclusive, registrants only: 1</span><br><span class="line">      Exclusive Access: 1</span><br><span class="line">      Write Exclusive: 1</span><br><span class="line">      Exclusive Access, all registrants: 1</span><br><span class="line"></span><br><span class="line">$ sg_persist -k /dev/disk/by-id/scsi-35000c500cadd3097 -vvv</span><br><span class="line">open /dev/disk/by-id/scsi-35000c500cadd3097 with flags=0x800</span><br><span class="line">    inquiry cdb: [12 00 00 00 24 00]</span><br><span class="line">      duration=1 ms</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">open /dev/disk/by-id/scsi-35000c500cadd3097 with flags=0x802</span><br><span class="line">    Persistent reservation <span class="keyword">in</span> cdb: [5e 00 00 00 00 00 00 20 00 00]</span><br><span class="line">      duration=1 ms</span><br><span class="line">    Persistent reservation <span class="keyword">in</span>: pass-through requested 8192 bytes (data-in), got  got 8 bytes</span><br><span class="line">    Persistent reservation <span class="keyword">in</span>: response:</span><br><span class="line">00 00 00 00 00 00 00 00</span><br><span class="line">  PR generation=0x0, there are NO registered reservation keys</span><br><span class="line"></span><br><span class="line">$ sg_persist -r /dev/disk/by-id/scsi-35000c500cadd3097 -vvv</span><br><span class="line">open /dev/disk/by-id/scsi-35000c500cadd3097 with flags=0x800</span><br><span class="line">    inquiry cdb: [12 00 00 00 24 00]</span><br><span class="line">      duration=1 ms</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">open /dev/disk/by-id/scsi-35000c500cadd3097 with flags=0x802</span><br><span class="line">    Persistent reservation <span class="keyword">in</span> cdb: [5e 01 00 00 00 00 00 20 00 00]</span><br><span class="line">      duration=0 ms</span><br><span class="line">    Persistent reservation <span class="keyword">in</span>: pass-through requested 8192 bytes (data-in), got  got 8 bytes</span><br><span class="line">    Persistent reservation <span class="keyword">in</span>: response:</span><br><span class="line">00 00 00 00 00 00 00 00</span><br><span class="line">  PR generation=0x0, there is NO reservation held</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">A $ sg_persist --out --register --param-sark=abc /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line"></span><br><span class="line">A $ sg_persist /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line">&gt;&gt; No service action given; assume Persistent Reserve In <span class="built_in">command</span></span><br><span class="line">&gt;&gt; with Read Keys service action</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0x1, 1 registered reservation key follows:</span><br><span class="line">    0xabc</span><br><span class="line"></span><br><span class="line">B $ sg_persist --out --register --param-sark=123 /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line"></span><br><span class="line">B $ sg_persist /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line">&gt;&gt; No service action given; assume Persistent Reserve In <span class="built_in">command</span></span><br><span class="line">&gt;&gt; with Read Keys service action</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0x2, 2 registered reservation keys follow:</span><br><span class="line">    0xabc</span><br><span class="line">    0x123</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">A $ sg_persist --out --reserve --prout-type=3 --param-rk=abc /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">A $ sg_persist -r /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0x2, Reservation follows:</span><br><span class="line">    Key=0xabc</span><br><span class="line">    scope: LU_SCOPE,  <span class="built_in">type</span>: Exclusive Access</span><br><span class="line"></span><br><span class="line"><span class="comment"># 读写的数据保存在用户分配的 buffer 中，需要一次拷贝</span></span><br><span class="line"><span class="comment"># mmap 读写的数据保存在驱动分配的一块内存中，不需要额外的拷贝数据</span></span><br><span class="line">A $ <span class="built_in">dd</span> <span class="keyword">if</span>=/dev/disk/by-id/scsi-35000c500cadd3097 of=/dev/null bs=512 count=1 iflag=direct</span><br><span class="line">1+0 records <span class="keyword">in</span></span><br><span class="line">1+0 records out</span><br><span class="line">512 bytes (512 B) copied, 0.00043228 s, 1.2 MB/s</span><br><span class="line"></span><br><span class="line">B $ <span class="built_in">dd</span> <span class="keyword">if</span>=/dev/disk/by-id/scsi-35000c500cadd3097 of=/dev/null bs=512 count=1 iflag=direct</span><br><span class="line"><span class="built_in">dd</span>: error reading ‘/dev/disk/by-id/scsi-35000c500cadd3097’: Input/output error</span><br><span class="line">0+0 records <span class="keyword">in</span></span><br><span class="line">0+0 records out</span><br><span class="line">0 bytes (0 B) copied, 0.00370736 s, 0.0 kB/s</span><br><span class="line"></span><br><span class="line">B $ dmesg -T</span><br><span class="line">[90066.169329] sd 0:0:86:0: reservation conflict</span><br><span class="line">[90066.170117] sd 0:0:86:0: [sdch] tag<span class="comment">#46 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_OK cmd_age=0s</span></span><br><span class="line">[90066.170771] sd 0:0:86:0: [sdch] tag<span class="comment">#46 CDB: Read(16) 88 00 00 00 00 00 00 00 00 00 00 00 00 01 00 00</span></span><br><span class="line">[90066.171395] blk_update_request: critical nexus error, dev sdch, sector 0</span><br><span class="line"></span><br><span class="line"><span class="comment">#released</span></span><br><span class="line">A $ sg_persist --out --release --prout-type=3 --param-rk=abc /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line"></span><br><span class="line">A $ sg_persist -k  /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0x2, 2 registered reservation keys follow:</span><br><span class="line">    0xabc</span><br><span class="line">    0x123</span><br><span class="line"></span><br><span class="line">A $ sg_persist -r  /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0x2, there is NO reservation held</span><br><span class="line"></span><br><span class="line">A $ <span class="built_in">dd</span> <span class="keyword">if</span>=/dev/disk/by-id/scsi-35000c500cadd3097 of=/dev/null bs=512 count=1 iflag=direct</span><br><span class="line">1+0 records <span class="keyword">in</span></span><br><span class="line">1+0 records out</span><br><span class="line">512 bytes (512 B) copied, 0.0147399 s, 34.7 kB/s</span><br><span class="line"></span><br><span class="line">B $  <span class="built_in">dd</span> <span class="keyword">if</span>=/dev/disk/by-id/scsi-35000c500cadd3097 of=/dev/null bs=512 count=1 iflag=direct</span><br><span class="line">1+0 records <span class="keyword">in</span></span><br><span class="line">1+0 records out</span><br><span class="line">512 bytes (512 B) copied, 0.00043673 s, 1.2 MB/s</span><br><span class="line"></span><br><span class="line"><span class="comment">#### type=6</span></span><br><span class="line">A $ sg_persist --out --reserve --prout-type=6 --param-rk=abc /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">A $ sg_persist -k /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0x5, 2 registered reservation keys follow:</span><br><span class="line">    0xabc</span><br><span class="line">    0x123</span><br><span class="line">A $ sg_persist -r /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0x5, Reservation follows:</span><br><span class="line">    Key=0xabc</span><br><span class="line">    scope: LU_SCOPE,  <span class="built_in">type</span>: Exclusive Access, registrants only</span><br><span class="line"></span><br><span class="line">A $ <span class="built_in">dd</span> <span class="keyword">if</span>=/dev/disk/by-id/scsi-35000c500cadd3097 of=/dev/disk/by-id/scsi-35000c500cadd3097  bs=512 count=1 iflag=direct oflag=direct</span><br><span class="line">1+0 records <span class="keyword">in</span></span><br><span class="line">1+0 records out</span><br><span class="line">512 bytes (512 B) copied, 0.00058193 s, 880 kB/s</span><br><span class="line"></span><br><span class="line">B $ <span class="built_in">dd</span> <span class="keyword">if</span>=/dev/disk/by-id/scsi-35000c500cadd3097 of=/dev/disk/by-id/scsi-35000c500cadd3097  bs=512 count=1 iflag=direct oflag=direct</span><br><span class="line">1+0 records <span class="keyword">in</span></span><br><span class="line">1+0 records out</span><br><span class="line">512 bytes (512 B) copied, 0.00056713 s, 903 kB/s</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#clear key</span></span><br><span class="line">                                 ------------------- here is the key of B</span><br><span class="line">                                 |</span><br><span class="line">B $ sg_persist --out --clear -K=0x123 --device=/dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line">B $ sg_persist -r /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line">  SEAGATE   ST16000NM004J     E002</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0x6, there is NO reservation held</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#clear all key</span></span><br><span class="line">A $ sg_persist --out --reserve --prout-type=3 --param-rk=abc /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line"></span><br><span class="line">B $ <span class="built_in">dd</span> <span class="keyword">if</span>=/dev/disk/by-id/scsi-35000c500cadd3097 of=/dev/null bs=512 count=1 iflag=direct</span><br><span class="line"><span class="built_in">dd</span>: error reading ‘/dev/disk/by-id/scsi-35000c500cadd3097’: Input/output error</span><br><span class="line">0+0 records <span class="keyword">in</span></span><br><span class="line">0+0 records out</span><br><span class="line">0 bytes (0 B) copied, 0.00299827 s, 0.0 kB/s</span><br><span class="line">                                 ------------------- here is the key of B</span><br><span class="line">                                 |</span><br><span class="line">B $ sg_persist --out --clear -K 123 /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line"></span><br><span class="line">                                 ------------------- here is the key of B</span><br><span class="line">                                 |</span><br><span class="line">B $ sg_persist --out --clear -K 123 /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line"></span><br><span class="line"><span class="comment">#there is the multiple path, set twice</span></span><br><span class="line">$ sg_persist --out --register --param-sark=123 /dev/sde</span><br><span class="line">  IET       VIRTUAL-DISK  0001</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line"></span><br><span class="line">$ sg_persist --out --register --param-sark=123 /dev/sdf</span><br><span class="line">  IET       VIRTUAL-DISK  0001</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line"></span><br><span class="line">$ sg_persist /dev/sde</span><br><span class="line">&gt;&gt; No service action given; assume Persistent Reserve In <span class="built_in">command</span></span><br><span class="line">&gt;&gt; with Read Keys service action</span><br><span class="line">  IET       VIRTUAL-DISK  0001</span><br><span class="line">  Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line">  PR generation=0x18, 4 registered reservation keys follow:</span><br><span class="line">    0xabc</span><br><span class="line">    0xabc</span><br><span class="line">    0x123</span><br><span class="line">    0x123</span><br><span class="line"><span class="comment">############## END</span></span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="http://scsi3pr.blogspot.com/2010/11/scsi-3-persistent-group-reservation.html">SCSI-3 Persistent Group Reservation</a><br><a target="_blank" rel="noopener" href="https://dhelios.blogspot.com/2015/04/how-can-i-view-create-and-remove-scsi.html">How can I view create and remove scsi</a><br><a target="_blank" rel="noopener" href="http://lkml.iu.edu/hypermail/linux/kernel/0903.3/02074.html">Target_Core_Mod</a><br><a target="_blank" rel="noopener" href="https://lists.wpkg.org/pipermail/stgt/2010-October/017304.html">Support for persistent reservations</a><br><a target="_blank" rel="noopener" href="https://assets.cdn.sap.com/sapcom/docs/2016/06/84ea994f-767c-0010-82c7-eda71af511fa.pdf">SAP HANA Fiber Channel Storage Connector Admin Guide</a><br><a target="_blank" rel="noopener" href="http://scsi3pr.blogspot.com/2010/11/scsi-3-persistent-group-reservation.html">When to use SCSI-3 Persistent Group Reservation</a><br><a target="_blank" rel="noopener" href="https://my.oschina.net/LastRitter/blog/1541364">SCSI PRs 命令研究总结 </a></p>
<h4 id="multipath"><a href="#multipath" class="headerlink" title="multipath"></a><a target="_blank" rel="noopener" href="https://access.redhat.com/solutions/3878941">multipath</a></h4><p>ALUA</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[Fri Oct 21 15:01:52 2022] sd 0:0:1:0: alua: port group 00 state A preferred supports tolusNA</span><br><span class="line">[Fri Oct 21 15:01:52 2022] sd 0:0:1:0: alua: port group 00 state A preferred supports tolusNA</span><br><span class="line">[Fri Oct 21 15:01:52 2022] sd 0:0:1:1: alua: port group 00 state A preferred supports tolusNA</span><br><span class="line">[Fri Oct 21 15:01:52 2022] sd 0:0:0:2: alua: port group 01 state A preferred supports tolusNA</span><br><span class="line">[Fri Oct 21 15:01:52 2022] sd 0:0:1:1: alua: port group 00 state A preferred supports tolusNA</span><br><span class="line">[Fri Oct 21 15:01:52 2022] sd 0:0:0:3: alua: port group 01 state A preferred supports tolusNA</span><br><span class="line">[Fri Oct 21 15:01:52 2022] sd 0:0:0:2: alua: port group 01 state A preferred supports tolusNA</span><br><span class="line">[Fri Oct 21 15:01:52 2022] sd 0:0:0:3: alua: port group 01 state A preferred supports tolusNA</span><br><span class="line"></span><br><span class="line">T = SCSI_ACCESS_STATE Transitioning</span><br><span class="line">O = SCSI_ACCESS_STATE Offline</span><br><span class="line">L = SCSI_ACCESS_STATE LBA</span><br><span class="line">U = SCSI_ACCESS_STATE Unavailable</span><br><span class="line">S = SCSI_ACCESS_STATE Standby</span><br><span class="line">N = SCSI_ACCESS_STATE Non-optimal Active</span><br><span class="line">A = SCSI_ACCESS_STATE Active optimal</span><br></pre></td></tr></table></figure>

<h4 id="sg-read"><a href="#sg-read" class="headerlink" title="sg_read"></a><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/54112087/how-to-retrieve-underlying-block-device-io-error">sg_read</a></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$ sg_read blk_sgio=1 bs=512 cdbsz=10 count=512 <span class="keyword">if</span>=/dev/sdbd odir=1 verbose=10</span><br><span class="line">Opened /dev/sdbd <span class="keyword">for</span> SG_IO with flags=0x4002</span><br><span class="line">    <span class="built_in">read</span> cdb: 28 00 00 00 00 00 00 00 80 00</span><br><span class="line">      duration=0 ms</span><br><span class="line">    <span class="built_in">read</span> cdb: 28 00 00 00 00 00 00 00 80 00</span><br><span class="line">      duration=0 ms</span><br><span class="line">    <span class="built_in">read</span> cdb: 28 00 00 00 00 00 00 00 80 00</span><br><span class="line">      duration=0 ms</span><br><span class="line">    <span class="built_in">read</span> cdb: 28 00 00 00 00 00 00 00 80 00</span><br><span class="line">      duration=0 ms</span><br><span class="line">512+0 records <span class="keyword">in</span>, SCSI READ commands issued: 4</span><br><span class="line"></span><br><span class="line">$ sg_read blk_sgio=1 bs=512 cdbsz=10 count=512 <span class="keyword">if</span>=/dev/sdb odir=1 verbose=10</span><br><span class="line">Opened /dev/sdb <span class="keyword">for</span> SG_IO with flags=0x4002</span><br><span class="line">    <span class="built_in">read</span> cdb: 28 00 00 00 00 00 00 00 80 00</span><br><span class="line">      duration=9 ms</span><br><span class="line">reading: SCSI status: Check Condition</span><br><span class="line"> Fixed format, current;  Sense key: Illegal Request</span><br><span class="line"> Additional sense: Logical unit not supported</span><br><span class="line"> Raw sense data (<span class="keyword">in</span> hex):</span><br><span class="line">        70 00 05 00 00 00 00 0a  00 00 00 00 25 00 00 00</span><br><span class="line">        00 00</span><br><span class="line">sg_read: SCSI READ failed</span><br><span class="line">Some error occurred,  remaining block count=512</span><br><span class="line">0+0 records <span class="keyword">in</span></span><br></pre></td></tr></table></figure>

<h4 id="sg-readcap"><a href="#sg-readcap" class="headerlink" title="sg_readcap"></a>sg_readcap</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ sg_readcap -l /dev/sdc</span><br><span class="line">Read Capacity results:</span><br><span class="line">   Protection: prot_en=0, p_type=0, p_i_exponent=0</span><br><span class="line">   Thin provisioning: tpe=0, tprz=0</span><br><span class="line">   Last logical block address=15628053167 (0x3a3812aaf), Number of logical blocks=15628053168</span><br><span class="line">   Logical block length=512 bytes</span><br><span class="line">   Logical blocks per physical block exponent=3</span><br><span class="line">   Lowest aligned logical block address=0</span><br><span class="line">Hence:</span><br><span class="line">   Device size: 8001563222016 bytes, 7630885.3 MiB, 8001.56 GB</span><br></pre></td></tr></table></figure>

<h4 id="sginfo"><a href="#sginfo" class="headerlink" title="sginfo"></a>sginfo</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">$ $ sginfo -e /dev/sdg</span><br><span class="line">Read-Write Error Recovery mode page (0x1)</span><br><span class="line">-----------------------------------------</span><br><span class="line">AWRE                               1</span><br><span class="line">ARRE                               0</span><br><span class="line">TB                                 0</span><br><span class="line">RC                                 0</span><br><span class="line">EER                                0</span><br><span class="line">PER                                0</span><br><span class="line">DTE                                0</span><br><span class="line">DCR                                0</span><br><span class="line">Read Retry Count                   0</span><br><span class="line">Correction Span                    0</span><br><span class="line">Head Offset Count                  0</span><br><span class="line">Data Strobe Offset Count           0</span><br><span class="line">Write Retry Count                  0</span><br><span class="line">Recovery Time Limit (ms)           0</span><br><span class="line"></span><br><span class="line">$ sginfo -f /dev/sdg</span><br><span class="line">Format Device mode page (0x3)</span><br><span class="line">-----------------------------</span><br><span class="line">Tracks per Zone                    128</span><br><span class="line">Alternate sectors per zone         0</span><br><span class="line">Alternate tracks per zone          0</span><br><span class="line">Alternate tracks per lu            0</span><br><span class="line">Sectors per track                  128</span><br><span class="line">Data bytes per physical sector     512</span><br><span class="line">Interleave                         0</span><br><span class="line">Track skew <span class="built_in">factor</span>                  1</span><br><span class="line">Cylinder skew <span class="built_in">factor</span>               0</span><br><span class="line">Supports Soft Sectoring            0</span><br><span class="line">Supports Hard Sectoring            1</span><br><span class="line">Removable Medium                   0</span><br><span class="line">Surface                            0</span><br><span class="line"></span><br><span class="line">$ sginfo -d /dev/sdg</span><br><span class="line">INQUIRY response (cmd: 0x12)</span><br><span class="line">----------------------------</span><br><span class="line">Device Type                        0</span><br><span class="line">Vendor:                    ATA</span><br><span class="line">Product:                   HGST HUH721010AL</span><br><span class="line">Revision level:            LT14</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; Unable to <span class="built_in">read</span> primary (PLIST) defect data.</span><br><span class="line">&gt;&gt;&gt; Unable to <span class="built_in">read</span> grown (GLIST) defect data.</span><br><span class="line"></span><br><span class="line">$ sginfo -c /dev/sdg</span><br><span class="line">Caching mode page (0x8)</span><br><span class="line">-----------------------</span><br><span class="line">Initiator Control                  0</span><br><span class="line">ABPF                               0</span><br><span class="line">CAP                                0</span><br><span class="line">DISC                               0</span><br><span class="line">SIZE                               0</span><br><span class="line">Write Cache Enabled                1</span><br><span class="line">MF                                 0</span><br><span class="line">Read Cache Disabled                0</span><br><span class="line">Demand Read Retention Priority     0</span><br><span class="line">Demand Write Retention Priority    0</span><br><span class="line">Disable Pre-fetch Transfer Length  0</span><br><span class="line">Minimum Pre-fetch                  0</span><br><span class="line">Maximum Pre-fetch                  0</span><br><span class="line">Maximum Pre-fetch Ceiling          0</span><br><span class="line">FSW                                0</span><br><span class="line">LBCSS                              0</span><br><span class="line">DRA                                0</span><br><span class="line">NV_DIS                             0</span><br><span class="line">Number of Cache Segments           0</span><br><span class="line">Cache Segment size                 0</span><br><span class="line">Non-Cache Segment size             0</span><br></pre></td></tr></table></figure>

<h4 id="sg-logs"><a href="#sg-logs" class="headerlink" title="sg_logs"></a>sg_logs</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line">$ sg_logs -q /dev/sdj</span><br><span class="line">    HGST      HUH721010AL5200   LS14</span><br><span class="line">Supported <span class="built_in">log</span> pages  [0x0]:</span><br><span class="line">    0x00        Supported <span class="built_in">log</span> pages [sp]</span><br><span class="line">    0x02        Write error [we]</span><br><span class="line">    0x03        Read error [re]</span><br><span class="line">    0x05        Verify error [ve]</span><br><span class="line">    0x06        Non medium [nm]</span><br><span class="line">    0x08        Format status [fs]</span><br><span class="line">    0x0d        Temperature [temp]</span><br><span class="line">    0x0e        Start-stop cycle counter [sscc]</span><br><span class="line">    0x0f        Application client [ac]</span><br><span class="line">    0x10        Self <span class="built_in">test</span> results [str]</span><br><span class="line">    0x15        Background scan results [bsr]</span><br><span class="line">    0x18        Protocol specific port [psp]</span><br><span class="line">    0x19        General Statistics and Performance [gsp]</span><br><span class="line">    0x1a        Power condition transitions [pct]</span><br><span class="line">    0x2f        Informational exceptions [ie]</span><br><span class="line">    0x30        Performance counters (Hitachi) [pc_hi]</span><br><span class="line">    0x37        Cache (seagate) [c_se]</span><br><span class="line"></span><br><span class="line">$ sg_logs -p 0x18 /dev/sdj</span><br><span class="line">    HGST      HUH721010AL5200   LS14</span><br><span class="line">Protocol Specific port page <span class="keyword">for</span> SAS SSP  (sas-2) [0x18]</span><br><span class="line">relative target port <span class="built_in">id</span> = 1</span><br><span class="line">  generation code = 2</span><br><span class="line">  number of phys = 1</span><br><span class="line">  phy identifier = 0</span><br><span class="line">    attached device <span class="built_in">type</span>: expander device</span><br><span class="line">    attached reason: SMP phy control <span class="keyword">function</span></span><br><span class="line">    reason: unknown</span><br><span class="line">    negotiated logical <span class="built_in">link</span> rate: 12 Gbps</span><br><span class="line">    attached initiator port: ssp=0 stp=0 smp=0</span><br><span class="line">    attached target port: ssp=0 stp=0 smp=1</span><br><span class="line">    SAS address = 0x5000cca26c1b8631</span><br><span class="line">    attached SAS address = 0x500056b3787358ff</span><br><span class="line">    attached phy identifier = 9</span><br><span class="line">    Invalid DWORD count = 0</span><br><span class="line">    Running disparity error count = 0</span><br><span class="line">    Loss of DWORD synchronization = 0</span><br><span class="line">    Phy reset problem = 0</span><br><span class="line">    Phy event descriptors:</span><br><span class="line">     Invalid word count: 0</span><br><span class="line">     Running disparity error count: 0</span><br><span class="line">     Loss of dword synchronization count: 0</span><br><span class="line">     Phy reset problem count: 0</span><br><span class="line">relative target port <span class="built_in">id</span> = 2</span><br><span class="line">  generation code = 2</span><br><span class="line">  number of phys = 1</span><br><span class="line">  phy identifier = 1</span><br><span class="line">    attached device <span class="built_in">type</span>: no device attached</span><br><span class="line">    attached reason: unknown</span><br><span class="line">    reason: power on</span><br><span class="line">    negotiated logical <span class="built_in">link</span> rate: phy enabled; unknown reason</span><br><span class="line">    attached initiator port: ssp=0 stp=0 smp=0</span><br><span class="line">    attached target port: ssp=0 stp=0 smp=0</span><br><span class="line">    SAS address = 0x5000cca26c1b8632</span><br><span class="line">    attached SAS address = 0x0</span><br><span class="line">    attached phy identifier = 0</span><br><span class="line">    Invalid DWORD count = 0</span><br><span class="line">    Running disparity error count = 0  &lt;---------------hot plug-out and plug-in many <span class="built_in">times</span> ,there is no errors</span><br><span class="line">    Loss of DWORD synchronization = 0</span><br><span class="line">    Phy reset problem = 0</span><br><span class="line">    Phy event descriptors:</span><br><span class="line">     Invalid word count: 0</span><br><span class="line">     Running disparity error count: 0</span><br><span class="line">     Loss of dword synchronization count: 0</span><br><span class="line">     Phy reset problem count: 0</span><br><span class="line"></span><br><span class="line"><span class="comment">#write err</span></span><br><span class="line">$ sg_logs -p 0x02 /dev/sdj</span><br><span class="line">    HGST      HUH721010AL5200   LS14</span><br><span class="line">Write error counter page  [0x2]</span><br><span class="line">  Errors corrected without substantial delay = 0</span><br><span class="line">  Errors corrected with possible delays = 0</span><br><span class="line">  Total rewrites or rereads = 0</span><br><span class="line">  Total errors corrected = 1</span><br><span class="line">  Total <span class="built_in">times</span> correction algorithm processed = 404822</span><br><span class="line">  Total bytes processed = 35127905470928</span><br><span class="line">  Total uncorrected errors = 0</span><br><span class="line"></span><br><span class="line"><span class="comment">#read err</span></span><br><span class="line">$ sg_logs -p 0x03 /dev/sdj</span><br><span class="line">    HGST      HUH721010AL5200   LS14</span><br><span class="line">Read error counter page  [0x3]</span><br><span class="line">  Errors corrected without substantial delay = 0</span><br><span class="line">  Errors corrected with possible delays = 0</span><br><span class="line">  Total rewrites or rereads = 0</span><br><span class="line">  Total errors corrected = 0</span><br><span class="line">  Total <span class="built_in">times</span> correction algorithm processed = 1350903</span><br><span class="line">  Total bytes processed = 49018892496048</span><br><span class="line">  Total uncorrected errors = 0</span><br><span class="line">$ sg_logs -p 0x05 /dev/sdj</span><br><span class="line">    HGST      HUH721010AL5200   LS14</span><br><span class="line">Verify error counter page  [0x5]</span><br><span class="line">  Errors corrected without substantial delay = 0</span><br><span class="line">  Errors corrected with possible delays = 0</span><br><span class="line">  Total rewrites or rereads = 0</span><br><span class="line">  Total errors corrected = 0</span><br><span class="line">  Total <span class="built_in">times</span> correction algorithm processed = 5154</span><br><span class="line">  Total bytes processed = 101563105280</span><br><span class="line">  Total uncorrected errors = 0</span><br><span class="line">$ sg_logs -p 0x06 /dev/sdj</span><br><span class="line">    HGST      HUH721010AL5200   LS14</span><br><span class="line">Non-medium error page  [0x6]</span><br><span class="line">  Non-medium error count = 0</span><br><span class="line"></span><br><span class="line"><span class="comment">## the &quot;Total errors corrected&quot; has the a lot of growth in some of issue seagate HDDs</span></span><br><span class="line"></span><br><span class="line">$ sg_logs -p 0x08 /dev/sdj</span><br><span class="line">    HGST      HUH721010AL5200   LS14</span><br><span class="line">Format status page  [0x8]</span><br><span class="line">  Format data out:</span><br><span class="line"> 00     00 02 00 00                                         ....</span><br><span class="line">  Grown defects during certification = 0</span><br><span class="line">  Total blocks reassigned during format = 0</span><br><span class="line">  Total new blocks reassigned = 0</span><br><span class="line">  Power on minutes since format = 10647</span><br><span class="line"></span><br><span class="line">$ sg_logs -p 0x1a /dev/sdj</span><br><span class="line">    HGST      HUH721010AL5200   LS14</span><br><span class="line">Power condition transitions page  [0x1a]</span><br><span class="line">  Accumulated transitions to active = 700283</span><br><span class="line">  Accumulated transitions to idle_a = 698441</span><br><span class="line">  Accumulated transitions to idle_b = 1855</span><br><span class="line">  Accumulated transitions to idle_c = 0</span><br><span class="line">  Accumulated transitions to standby_z = 0</span><br><span class="line">  Accumulated transitions to standby_y = 0</span><br><span class="line"></span><br><span class="line">$ sg_logs -p 0x2f /dev/sdj</span><br><span class="line">    HGST      HUH721010AL5200   LS14</span><br><span class="line">Informational Exceptions page  [0x2f]</span><br><span class="line">  IE asc = 0x0, ascq = 0x0</span><br><span class="line">    Current temperature = 29 C</span><br><span class="line">    Threshold temperature = 85 C  [common extension]</span><br><span class="line">  parameter code = 0x1, contents <span class="keyword">in</span> hex:</span><br><span class="line"> 00     00 01 03 03 64 64 19</span><br></pre></td></tr></table></figure>

<h4 id="sg-reassign"><a href="#sg-reassign" class="headerlink" title="sg_reassign"></a><a target="_blank" rel="noopener" href="https://www.smartmontools.org/wiki/BadBlockHowto">sg_reassign</a></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line">$ smartctl -t long /dev/sd?</span><br><span class="line">Num  Test_Description    Status                  Remaining  LifeTime(hours)  LBA_of_first_error</span><br><span class="line"><span class="comment"># 1  Extended offline    Completed: read failure       80%       682         1193046</span></span><br><span class="line"></span><br><span class="line">$ sg_verify --lba=1193046 /dev/sdb</span><br><span class="line">verify (10):  Fixed format, current;  Sense key: Medium Error</span><br><span class="line"> Additional sense: Unrecovered <span class="built_in">read</span> error</span><br><span class="line">  Info fld=0x123456 [1193046]</span><br><span class="line">  Field replaceable unit code: 228</span><br><span class="line">  Actual retry count: 0x008b</span><br><span class="line">medium or hardware error, reported lba=0x123456</span><br><span class="line"></span><br><span class="line"><span class="comment">#check the defects list</span></span><br><span class="line">$ sg_reassign --grown /dev/sda</span><br><span class="line">&gt;&gt; Elements <span class="keyword">in</span> grown defect list: 0</span><br><span class="line"></span><br><span class="line"><span class="comment">#reallocate this sector</span></span><br><span class="line">$ sg_reassign --address=1193046 -v /dev/sda</span><br><span class="line"></span><br><span class="line">$ sg_reassign --grown /dev/sdb</span><br><span class="line">&gt;&gt; Elements <span class="keyword">in</span> grown defect list: 1</span><br><span class="line"></span><br><span class="line">$ smartctl -t long /dev/sd?</span><br><span class="line"></span><br><span class="line"><span class="comment"># in the env production</span></span><br><span class="line"></span><br><span class="line">=== START OF READ SMART DATA SECTION ===</span><br><span class="line">SMART Health Status: OK</span><br><span class="line"></span><br><span class="line">Current Drive Temperature:     29 C</span><br><span class="line">Drive Trip Temperature:        85 C</span><br><span class="line"></span><br><span class="line">Manufactured <span class="keyword">in</span> week 12 of year 2017</span><br><span class="line">Specified cycle count over device lifetime:  50000</span><br><span class="line">Accumulated start-stop cycles:  13</span><br><span class="line">Specified load-unload count over device lifetime:  600000</span><br><span class="line">Accumulated load-unload cycles:  1697</span><br><span class="line">Elements <span class="keyword">in</span> grown defect list: 0</span><br><span class="line"></span><br><span class="line">Vendor (Seagate Cache) information</span><br><span class="line">  Blocks sent to initiator = 111249727466504192</span><br><span class="line"></span><br><span class="line">Error counter <span class="built_in">log</span>:</span><br><span class="line">           Errors Corrected by           Total   Correction     Gigabytes    Total</span><br><span class="line">               ECC          rereads/    errors   algorithm      processed    uncorrected</span><br><span class="line">           fast | delayed   rewrites  corrected  invocations   [10^9 bytes]  errors</span><br><span class="line"><span class="built_in">read</span>:          0      886         0       886   15889049     298347.551           1</span><br><span class="line">write:         0        2         0         2    1894865      87279.806           0</span><br><span class="line">verify:        0        0         0         0     123311          0.000           0</span><br><span class="line"></span><br><span class="line">Non-medium error count:        0</span><br><span class="line"></span><br><span class="line">SMART Self-<span class="built_in">test</span> <span class="built_in">log</span></span><br><span class="line">Num  Test              Status                 segment  LifeTime  LBA_first_err [SK ASC ASQ]</span><br><span class="line">     Description                              number   (hours)</span><br><span class="line"><span class="comment"># 1  Background long   Failed in segment --&gt;       7   43458        3253726808 [0x3 0x11 0x0]</span></span><br><span class="line"></span><br><span class="line">Long (extended) Self-<span class="built_in">test</span> duration: 65535 seconds [1092.2 minutes]</span><br><span class="line"></span><br><span class="line">$ sg_verify --lba=3253726808 /dev/sdk</span><br><span class="line">verify(10):</span><br><span class="line">Descriptor format, current; Sense key: Medium Error</span><br><span class="line">Additional sense: Unrecovered <span class="built_in">read</span> error</span><br><span class="line">  Descriptor <span class="built_in">type</span>: Information: 0x00000000c1efee58</span><br><span class="line">  Descriptor <span class="built_in">type</span>: Command specific: 0x0000000000000000</span><br><span class="line">  Descriptor <span class="built_in">type</span>: Sense key specific: Actual retry count: 361</span><br><span class="line">  Descriptor <span class="built_in">type</span>: Field replaceable unit code: 0x0</span><br><span class="line">  Descriptor <span class="built_in">type</span>: Block commands: Incorrect Length Indicator (ILI) clear</span><br><span class="line">  Descriptor <span class="built_in">type</span>: Vendor specific [0x80]</span><br><span class="line">    f7 a7</span><br><span class="line">  Descriptor <span class="built_in">type</span>: Vendor specific [0x81]</span><br><span class="line">    ff ff ff ff 47 e4</span><br><span class="line">VERIFY(10) medium or hardware error, reported lba=0xc1efee58</span><br><span class="line">sg_verify failed: Medium or hardware error with Info</span><br><span class="line"></span><br><span class="line">$ sg_reassign --grown /dev/sdk</span><br><span class="line">&gt;&gt; Elements <span class="keyword">in</span> grown defect list: 0</span><br><span class="line"></span><br><span class="line"><span class="comment">#Unrecovered read error and auto-reallocated</span></span><br><span class="line">sd 2:0:19:0: [sdbn] tag<span class="comment">#88 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE cmd_age=4s</span></span><br><span class="line">sd 2:0:19:0: [sdbn] tag<span class="comment">#88 Sense Key : Medium Error [current] [descriptor]</span></span><br><span class="line">sd 2:0:19:0: [sdbn] tag<span class="comment">#88 Add. Sense: Unrecovered read error</span></span><br><span class="line">sd 2:0:19:0: [sdbn] tag<span class="comment">#88 CDB: Read(16) 88 00 00 00 00 01 9b 0e b4 00 00 00 00 b0 00 00</span></span><br><span class="line">blk_update_request: critical medium error, dev sdbn, sector 6896399448</span><br><span class="line">sd 2:0:19:0: [sdbn] tag<span class="comment">#104 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE cmd_age=5s</span></span><br><span class="line">sd 2:0:19:0: [sdbn] tag<span class="comment">#104 Sense Key : Medium Error [current] [descriptor]</span></span><br><span class="line">sd 2:0:19:0: [sdbn] tag<span class="comment">#104 Add. Sense: Unrecovered read error</span></span><br><span class="line">sd 2:0:19:0: [sdbn] tag<span class="comment">#104 CDB: Read(16) 88 00 00 00 00 01 9b 0e cc c8 00 00 00 60 00 00</span></span><br><span class="line">blk_update_request: critical medium error, dev sdbn, sector 6896405752</span><br><span class="line">sd 2:0:19:0: [sdbn] tag<span class="comment">#3 Sense Key : Recovered Error [current] [descriptor]</span></span><br><span class="line">sd 2:0:19:0: [sdbn] tag<span class="comment">#3 Add. Sense: Recovered data - data auto-reallocated</span></span><br><span class="line">sd 2:0:19:0: [sdbn] tag<span class="comment">#3 Sense Key : Recovered Error [current] [descriptor]</span></span><br><span class="line">sd 2:0:19:0: [sdbn] tag<span class="comment">#3 Add. Sense: Recovered data - data auto-reallocated</span></span><br><span class="line">sd 2:0:19:0: [sdbn] tag<span class="comment">#14 Sense Key : Recovered Error [current] [descriptor]</span></span><br><span class="line">sd 2:0:19:0: [sdbn] tag<span class="comment">#14 Add. Sense: Recovered data - data auto-reallocated</span></span><br><span class="line">           Errors Corrected by           Total   Correction     Gigabytes    Total</span><br><span class="line">               ECC          rereads/    errors   algorithm      processed    uncorrected</span><br><span class="line">           fast | delayed   rewrites  corrected  invocations   [10^9 bytes]  errors</span><br><span class="line"><span class="built_in">read</span>:          0       23         0        25          0    1053317.336           6</span><br><span class="line">write:         0        0         0         0          0     484336.166           0</span><br><span class="line"></span><br><span class="line">sdbn  ONLINE       9     0     0</span><br><span class="line"><span class="comment"># try scrub</span></span><br></pre></td></tr></table></figure>

<h4 id="SATA-reassign"><a href="#SATA-reassign" class="headerlink" title="SATA reassign"></a>SATA reassign</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">May 24 14:19:30 ht-xm-2 kernel: blk_update_request: I/O error, dev sda, sector 16782858</span><br><span class="line">May 24 14:19:30 ht-xm-2 kernel: Buffer I/O error on dev sda, logical block 2097857, async page <span class="built_in">read</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># hdparm --read-sector 16782858 /dev/sda</span></span><br><span class="line"><span class="comment"># hdparm --write-sector 16782858 /dev/sda</span></span><br><span class="line"></span><br><span class="line">Error 212 occurred at disk power-on lifetime: 690 hours</span><br><span class="line">  After <span class="built_in">command</span> completion occurred, registers were:</span><br><span class="line">  ER ST SC SN CL CH DH</span><br><span class="line">  -- -- -- -- -- -- --</span><br><span class="line">  40 51 12 46 9f 1d e2  Error: UNC 18 sectors at LBA = 0x021d9f46 = 35495750</span><br><span class="line">  Commands leading to the <span class="built_in">command</span> that caused the error were:</span><br><span class="line">  CR FR SC SN CL CH DH DC   Timestamp  Command/Feature_Name</span><br><span class="line">  -- -- -- -- -- -- -- --   ---------  --------------------</span><br><span class="line">  25 00 12 46 9f 1d e0 00 2485545.000  READ DMA EXT</span><br></pre></td></tr></table></figure>

<h4 id="sg-senddiag"><a href="#sg-senddiag" class="headerlink" title="sg_senddiag"></a>sg_senddiag</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sg_senddiag -l /dev/sg18</span><br><span class="line">Supported diagnostic pages response:</span><br><span class="line">  0x00  Supported diagnostic pages</span><br><span class="line">  0x3f  Protocol specific (SAS transport)</span><br><span class="line">  0x40  Translate address (direct access)</span><br><span class="line">  0xdf  &lt;unknown&gt;</span><br></pre></td></tr></table></figure>

<h4 id="sg-inq"><a href="#sg-inq" class="headerlink" title="sg_inq"></a>sg_inq</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">$ sg_inq -d /dev/sdj</span><br><span class="line">standard INQUIRY:</span><br><span class="line">  PQual=0  Device_type=0  RMB=0  LU_CONG=0  version=0x06  [SPC-4]</span><br><span class="line">  [AERC=0]  [TrmTsk=0]  NormACA=0  HiSUP=1  Resp_data_format=2</span><br><span class="line">  SCCS=0  ACC=0  TPGS=0  3PC=0  Protect=1  [BQue=0]</span><br><span class="line">  EncServ=0  MultiP=1 (VS=0)  [MChngr=0]  [ACKREQQ=0]  Addr16=0</span><br><span class="line">  [RelAdr=0]  WBus16=0  Sync=0  [Linked=0]  [TranDis=0]  CmdQue=1</span><br><span class="line">  [SPI: Clocking=0x0  QAS=0  IUS=0]</span><br><span class="line">    length=164 (0xa4)   Peripheral device <span class="built_in">type</span>: disk</span><br><span class="line"> Vendor identification: HGST</span><br><span class="line"> Product identification: HUH721010AL5200</span><br><span class="line"> Product revision level: LS14</span><br><span class="line"> Unit serial number: 1DGH47ZZ</span><br><span class="line"></span><br><span class="line">$ sg_inq -p 0x80 /dev/sdz</span><br><span class="line">VPD INQUIRY: Unit serial number page</span><br><span class="line">  Unit serial number:         782GP67G</span><br><span class="line"></span><br><span class="line">$ sg_inq -e /dev/sdj</span><br><span class="line">VPD INQUIRY, page code=0x00:</span><br><span class="line">   Supported VPD pages:</span><br><span class="line">     0x0        Supported VPD pages</span><br><span class="line">     0x3</span><br><span class="line">     0x80       Unit serial number</span><br><span class="line">     0x83       Device identification</span><br><span class="line">     0x86       Extended INQUIRY data</span><br><span class="line">     0x87       Mode page policy</span><br><span class="line">     0x88       SCSI ports</span><br><span class="line">     0x8a       Power condition</span><br><span class="line">     0x8d       Power consumption</span><br><span class="line">     0x90       Protocol-specific logical unit information</span><br><span class="line">     0x91       Protocol-specific port information</span><br><span class="line">     0xb0       Block limits (sbc2)</span><br><span class="line">     0xb1       Block device characteristics (sbc3)</span><br><span class="line">     0xb2       Logical block provisioning (sbc3)</span><br><span class="line">     0xd1</span><br><span class="line">     0xd2</span><br><span class="line">     0xdc</span><br><span class="line"></span><br><span class="line">$ sg_inq -p 0x83 /dev/sdz</span><br><span class="line">VPD INQUIRY: Device Identification page</span><br><span class="line">  Designation descriptor number 1, descriptor length: 12</span><br><span class="line">    designator_type: NAA,  code_set: Binary</span><br><span class="line">    associated with the Addressed logical unit</span><br><span class="line">      NAA 5, IEEE Company_id: 0xcca</span><br><span class="line">      Vendor Specific Identifier: 0x251448544</span><br><span class="line">      [0x5000bbc443224544]</span><br><span class="line">  Designation descriptor number 2, descriptor length: 12</span><br><span class="line">    transport: Serial Attached SCSI Protocol (SPL-4)</span><br><span class="line">    designator_type: NAA,  code_set: Binary</span><br><span class="line">    associated with the Target port</span><br><span class="line">      NAA 5, IEEE Company_id: 0xcca</span><br><span class="line">      Vendor Specific Identifier: 0x251448545</span><br><span class="line">      [0x5000bbc443224545]</span><br><span class="line">  Designation descriptor number 3, descriptor length: 8</span><br><span class="line">    transport: Serial Attached SCSI Protocol (SPL-4)</span><br><span class="line">    designator_type: Relative target port,  code_set: Binary</span><br><span class="line">    associated with the Target port</span><br><span class="line">      Relative target port: 0x1</span><br><span class="line">  Designation descriptor number 4, descriptor length: 12</span><br><span class="line">    transport: Serial Attached SCSI Protocol (SPL-4)</span><br><span class="line">    designator_type: NAA,  code_set: Binary</span><br><span class="line">    associated with the Target device that contains addressed lu</span><br><span class="line">      NAA 5, IEEE Company_id: 0xcca</span><br><span class="line">      Vendor Specific Identifier: 0x251448547</span><br><span class="line">      [0x5000bbc443224547]</span><br><span class="line">  Designation descriptor number 5, descriptor length: 28</span><br><span class="line">    designator_type: SCSI name string,  code_set: UTF-8</span><br><span class="line">    associated with the Target device that contains addressed lu</span><br><span class="line">      SCSI name string:</span><br><span class="line">      naa.5000CCA251448547</span><br><span class="line"></span><br><span class="line">$ lsscsi -gis | grep sdz</span><br><span class="line">[13:0:25:0]  disk    HGST     HUH721010AL5200  A21D  /dev/sdz   35000bbc443224544  /dev/sg27  10.0TB</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="sg-vpd"><a href="#sg-vpd" class="headerlink" title="sg_vpd"></a>sg_vpd</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br><span class="line">1354</span><br><span class="line">1355</span><br><span class="line">1356</span><br><span class="line">1357</span><br><span class="line">1358</span><br><span class="line">1359</span><br><span class="line">1360</span><br><span class="line">1361</span><br><span class="line">1362</span><br><span class="line">1363</span><br><span class="line">1364</span><br><span class="line">1365</span><br><span class="line">1366</span><br><span class="line">1367</span><br><span class="line">1368</span><br><span class="line">1369</span><br><span class="line">1370</span><br><span class="line">1371</span><br><span class="line">1372</span><br><span class="line">1373</span><br><span class="line">1374</span><br><span class="line">1375</span><br><span class="line">1376</span><br><span class="line">1377</span><br><span class="line">1378</span><br><span class="line">1379</span><br><span class="line">1380</span><br><span class="line">1381</span><br><span class="line">1382</span><br><span class="line">1383</span><br><span class="line">1384</span><br><span class="line">1385</span><br><span class="line">1386</span><br><span class="line">1387</span><br><span class="line">1388</span><br><span class="line">1389</span><br><span class="line">1390</span><br><span class="line">1391</span><br><span class="line">1392</span><br><span class="line">1393</span><br><span class="line">1394</span><br><span class="line">1395</span><br><span class="line">1396</span><br><span class="line">1397</span><br><span class="line">1398</span><br><span class="line">1399</span><br><span class="line">1400</span><br><span class="line">1401</span><br><span class="line">1402</span><br><span class="line">1403</span><br><span class="line">1404</span><br><span class="line">1405</span><br><span class="line">1406</span><br><span class="line">1407</span><br><span class="line">1408</span><br><span class="line">1409</span><br><span class="line">1410</span><br><span class="line">1411</span><br><span class="line">1412</span><br><span class="line">1413</span><br><span class="line">1414</span><br><span class="line">1415</span><br><span class="line">1416</span><br><span class="line">1417</span><br><span class="line">1418</span><br><span class="line">1419</span><br><span class="line">1420</span><br><span class="line">1421</span><br><span class="line">1422</span><br><span class="line">1423</span><br><span class="line">1424</span><br><span class="line">1425</span><br><span class="line">1426</span><br><span class="line">1427</span><br><span class="line">1428</span><br><span class="line">1429</span><br><span class="line">1430</span><br><span class="line">1431</span><br><span class="line">1432</span><br><span class="line">1433</span><br><span class="line">1434</span><br><span class="line">1435</span><br><span class="line">1436</span><br><span class="line">1437</span><br><span class="line">1438</span><br><span class="line">1439</span><br><span class="line">1440</span><br><span class="line">1441</span><br><span class="line">1442</span><br><span class="line">1443</span><br><span class="line">1444</span><br><span class="line">1445</span><br><span class="line">1446</span><br><span class="line">1447</span><br><span class="line">1448</span><br><span class="line">1449</span><br><span class="line">1450</span><br><span class="line">1451</span><br><span class="line">1452</span><br><span class="line">1453</span><br><span class="line">1454</span><br><span class="line">1455</span><br><span class="line">1456</span><br><span class="line">1457</span><br><span class="line">1458</span><br><span class="line">1459</span><br><span class="line">1460</span><br><span class="line">1461</span><br><span class="line">1462</span><br><span class="line">1463</span><br><span class="line">1464</span><br><span class="line">1465</span><br><span class="line">1466</span><br><span class="line">1467</span><br><span class="line">1468</span><br><span class="line">1469</span><br><span class="line">1470</span><br><span class="line">1471</span><br><span class="line">1472</span><br><span class="line">1473</span><br><span class="line">1474</span><br><span class="line">1475</span><br><span class="line">1476</span><br><span class="line">1477</span><br><span class="line">1478</span><br><span class="line">1479</span><br><span class="line">1480</span><br><span class="line">1481</span><br><span class="line">1482</span><br><span class="line">1483</span><br><span class="line">1484</span><br><span class="line">1485</span><br><span class="line">1486</span><br><span class="line">1487</span><br><span class="line">1488</span><br><span class="line">1489</span><br><span class="line">1490</span><br><span class="line">1491</span><br><span class="line">1492</span><br><span class="line">1493</span><br><span class="line">1494</span><br><span class="line">1495</span><br><span class="line">1496</span><br><span class="line">1497</span><br><span class="line">1498</span><br><span class="line">1499</span><br><span class="line">1500</span><br><span class="line">1501</span><br><span class="line">1502</span><br><span class="line">1503</span><br><span class="line">1504</span><br><span class="line">1505</span><br><span class="line">1506</span><br><span class="line">1507</span><br><span class="line">1508</span><br><span class="line">1509</span><br><span class="line">1510</span><br><span class="line">1511</span><br><span class="line">1512</span><br><span class="line">1513</span><br><span class="line">1514</span><br><span class="line">1515</span><br><span class="line">1516</span><br><span class="line">1517</span><br><span class="line">1518</span><br><span class="line">1519</span><br><span class="line">1520</span><br><span class="line">1521</span><br><span class="line">1522</span><br><span class="line">1523</span><br><span class="line">1524</span><br><span class="line">1525</span><br><span class="line">1526</span><br><span class="line">1527</span><br><span class="line">1528</span><br><span class="line">1529</span><br><span class="line">1530</span><br><span class="line">1531</span><br><span class="line">1532</span><br><span class="line">1533</span><br><span class="line">1534</span><br><span class="line">1535</span><br><span class="line">1536</span><br><span class="line">1537</span><br><span class="line">1538</span><br><span class="line">1539</span><br><span class="line">1540</span><br><span class="line">1541</span><br><span class="line">1542</span><br><span class="line">1543</span><br><span class="line">1544</span><br><span class="line">1545</span><br><span class="line">1546</span><br><span class="line">1547</span><br><span class="line">1548</span><br><span class="line">1549</span><br><span class="line">1550</span><br><span class="line">1551</span><br><span class="line">1552</span><br><span class="line">1553</span><br><span class="line">1554</span><br><span class="line">1555</span><br><span class="line">1556</span><br><span class="line">1557</span><br><span class="line">1558</span><br><span class="line">1559</span><br><span class="line">1560</span><br><span class="line">1561</span><br><span class="line">1562</span><br><span class="line">1563</span><br><span class="line">1564</span><br><span class="line">1565</span><br><span class="line">1566</span><br><span class="line">1567</span><br><span class="line">1568</span><br><span class="line">1569</span><br><span class="line">1570</span><br><span class="line">1571</span><br><span class="line">1572</span><br><span class="line">1573</span><br><span class="line">1574</span><br><span class="line">1575</span><br><span class="line">1576</span><br><span class="line">1577</span><br><span class="line">1578</span><br><span class="line">1579</span><br><span class="line">1580</span><br><span class="line">1581</span><br><span class="line">1582</span><br><span class="line">1583</span><br><span class="line">1584</span><br><span class="line">1585</span><br><span class="line">1586</span><br><span class="line">1587</span><br><span class="line">1588</span><br><span class="line">1589</span><br><span class="line">1590</span><br><span class="line">1591</span><br><span class="line">1592</span><br><span class="line">1593</span><br><span class="line">1594</span><br><span class="line">1595</span><br><span class="line">1596</span><br><span class="line">1597</span><br><span class="line">1598</span><br><span class="line">1599</span><br><span class="line">1600</span><br><span class="line">1601</span><br><span class="line">1602</span><br><span class="line">1603</span><br><span class="line">1604</span><br><span class="line">1605</span><br><span class="line">1606</span><br><span class="line">1607</span><br><span class="line">1608</span><br><span class="line">1609</span><br><span class="line">1610</span><br><span class="line">1611</span><br><span class="line">1612</span><br><span class="line">1613</span><br><span class="line">1614</span><br><span class="line">1615</span><br><span class="line">1616</span><br><span class="line">1617</span><br><span class="line">1618</span><br><span class="line">1619</span><br><span class="line">1620</span><br><span class="line">1621</span><br><span class="line">1622</span><br><span class="line">1623</span><br><span class="line">1624</span><br><span class="line">1625</span><br><span class="line">1626</span><br><span class="line">1627</span><br><span class="line">1628</span><br><span class="line">1629</span><br><span class="line">1630</span><br><span class="line">1631</span><br><span class="line">1632</span><br><span class="line">1633</span><br><span class="line">1634</span><br><span class="line">1635</span><br><span class="line">1636</span><br><span class="line">1637</span><br><span class="line">1638</span><br><span class="line">1639</span><br><span class="line">1640</span><br><span class="line">1641</span><br><span class="line">1642</span><br><span class="line">1643</span><br><span class="line">1644</span><br><span class="line">1645</span><br><span class="line">1646</span><br><span class="line">1647</span><br><span class="line">1648</span><br><span class="line">1649</span><br><span class="line">1650</span><br><span class="line">1651</span><br><span class="line">1652</span><br><span class="line">1653</span><br><span class="line">1654</span><br><span class="line">1655</span><br><span class="line">1656</span><br><span class="line">1657</span><br><span class="line">1658</span><br><span class="line">1659</span><br><span class="line">1660</span><br><span class="line">1661</span><br><span class="line">1662</span><br><span class="line">1663</span><br><span class="line">1664</span><br><span class="line">1665</span><br><span class="line">1666</span><br><span class="line">1667</span><br><span class="line">1668</span><br><span class="line">1669</span><br><span class="line">1670</span><br><span class="line">1671</span><br><span class="line">1672</span><br><span class="line">1673</span><br><span class="line">1674</span><br><span class="line">1675</span><br><span class="line">1676</span><br><span class="line">1677</span><br><span class="line">1678</span><br><span class="line">1679</span><br><span class="line">1680</span><br><span class="line">1681</span><br><span class="line">1682</span><br><span class="line">1683</span><br><span class="line">1684</span><br><span class="line">1685</span><br><span class="line">1686</span><br><span class="line">1687</span><br><span class="line">1688</span><br><span class="line">1689</span><br><span class="line">1690</span><br><span class="line">1691</span><br><span class="line">1692</span><br><span class="line">1693</span><br><span class="line">1694</span><br><span class="line">1695</span><br><span class="line">1696</span><br><span class="line">1697</span><br><span class="line">1698</span><br><span class="line">1699</span><br><span class="line">1700</span><br><span class="line">1701</span><br><span class="line">1702</span><br><span class="line">1703</span><br><span class="line">1704</span><br><span class="line">1705</span><br><span class="line">1706</span><br><span class="line">1707</span><br><span class="line">1708</span><br><span class="line">1709</span><br><span class="line">1710</span><br><span class="line">1711</span><br><span class="line">1712</span><br><span class="line">1713</span><br><span class="line">1714</span><br><span class="line">1715</span><br><span class="line">1716</span><br><span class="line">1717</span><br><span class="line">1718</span><br><span class="line">1719</span><br><span class="line">1720</span><br><span class="line">1721</span><br><span class="line">1722</span><br><span class="line">1723</span><br><span class="line">1724</span><br><span class="line">1725</span><br><span class="line">1726</span><br><span class="line">1727</span><br><span class="line">1728</span><br><span class="line">1729</span><br><span class="line">1730</span><br><span class="line">1731</span><br><span class="line">1732</span><br><span class="line">1733</span><br><span class="line">1734</span><br><span class="line">1735</span><br><span class="line">1736</span><br><span class="line">1737</span><br><span class="line">1738</span><br><span class="line">1739</span><br><span class="line">1740</span><br><span class="line">1741</span><br><span class="line">1742</span><br><span class="line">1743</span><br><span class="line">1744</span><br><span class="line">1745</span><br><span class="line">1746</span><br><span class="line">1747</span><br><span class="line">1748</span><br><span class="line">1749</span><br><span class="line">1750</span><br><span class="line">1751</span><br><span class="line">1752</span><br><span class="line">1753</span><br><span class="line">1754</span><br><span class="line">1755</span><br><span class="line">1756</span><br><span class="line">1757</span><br><span class="line">1758</span><br><span class="line">1759</span><br><span class="line">1760</span><br><span class="line">1761</span><br><span class="line">1762</span><br><span class="line">1763</span><br><span class="line">1764</span><br><span class="line">1765</span><br><span class="line">1766</span><br><span class="line">1767</span><br><span class="line">1768</span><br><span class="line">1769</span><br><span class="line">1770</span><br><span class="line">1771</span><br><span class="line">1772</span><br><span class="line">1773</span><br><span class="line">1774</span><br><span class="line">1775</span><br><span class="line">1776</span><br><span class="line">1777</span><br><span class="line">1778</span><br><span class="line">1779</span><br><span class="line">1780</span><br><span class="line">1781</span><br><span class="line">1782</span><br><span class="line">1783</span><br><span class="line">1784</span><br><span class="line">1785</span><br><span class="line">1786</span><br><span class="line">1787</span><br><span class="line">1788</span><br><span class="line">1789</span><br><span class="line">1790</span><br><span class="line">1791</span><br><span class="line">1792</span><br><span class="line">1793</span><br><span class="line">1794</span><br><span class="line">1795</span><br><span class="line">1796</span><br><span class="line">1797</span><br><span class="line">1798</span><br><span class="line">1799</span><br><span class="line">1800</span><br><span class="line">1801</span><br><span class="line">1802</span><br><span class="line">1803</span><br><span class="line">1804</span><br><span class="line">1805</span><br><span class="line">1806</span><br><span class="line">1807</span><br><span class="line">1808</span><br><span class="line">1809</span><br><span class="line">1810</span><br><span class="line">1811</span><br><span class="line">1812</span><br><span class="line">1813</span><br><span class="line">1814</span><br><span class="line">1815</span><br><span class="line">1816</span><br><span class="line">1817</span><br><span class="line">1818</span><br><span class="line">1819</span><br><span class="line">1820</span><br><span class="line">1821</span><br><span class="line">1822</span><br><span class="line">1823</span><br><span class="line">1824</span><br><span class="line">1825</span><br><span class="line">1826</span><br><span class="line">1827</span><br><span class="line">1828</span><br><span class="line">1829</span><br><span class="line">1830</span><br><span class="line">1831</span><br><span class="line">1832</span><br><span class="line">1833</span><br><span class="line">1834</span><br><span class="line">1835</span><br><span class="line">1836</span><br><span class="line">1837</span><br><span class="line">1838</span><br><span class="line">1839</span><br><span class="line">1840</span><br><span class="line">1841</span><br><span class="line">1842</span><br><span class="line">1843</span><br><span class="line">1844</span><br><span class="line">1845</span><br><span class="line">1846</span><br><span class="line">1847</span><br><span class="line">1848</span><br><span class="line">1849</span><br><span class="line">1850</span><br><span class="line">1851</span><br><span class="line">1852</span><br><span class="line">1853</span><br><span class="line">1854</span><br><span class="line">1855</span><br><span class="line">1856</span><br><span class="line">1857</span><br><span class="line">1858</span><br><span class="line">1859</span><br><span class="line">1860</span><br><span class="line">1861</span><br><span class="line">1862</span><br><span class="line">1863</span><br><span class="line">1864</span><br><span class="line">1865</span><br><span class="line">1866</span><br><span class="line">1867</span><br><span class="line">1868</span><br><span class="line">1869</span><br><span class="line">1870</span><br><span class="line">1871</span><br><span class="line">1872</span><br><span class="line">1873</span><br><span class="line">1874</span><br><span class="line">1875</span><br><span class="line">1876</span><br><span class="line">1877</span><br><span class="line">1878</span><br><span class="line">1879</span><br><span class="line">1880</span><br><span class="line">1881</span><br><span class="line">1882</span><br><span class="line">1883</span><br><span class="line">1884</span><br><span class="line">1885</span><br><span class="line">1886</span><br><span class="line">1887</span><br><span class="line">1888</span><br><span class="line">1889</span><br><span class="line">1890</span><br><span class="line">1891</span><br><span class="line">1892</span><br><span class="line">1893</span><br><span class="line">1894</span><br><span class="line">1895</span><br><span class="line">1896</span><br><span class="line">1897</span><br><span class="line">1898</span><br><span class="line">1899</span><br><span class="line">1900</span><br><span class="line">1901</span><br><span class="line">1902</span><br><span class="line">1903</span><br><span class="line">1904</span><br><span class="line">1905</span><br><span class="line">1906</span><br><span class="line">1907</span><br><span class="line">1908</span><br><span class="line">1909</span><br><span class="line">1910</span><br><span class="line">1911</span><br><span class="line">1912</span><br><span class="line">1913</span><br><span class="line">1914</span><br><span class="line">1915</span><br><span class="line">1916</span><br><span class="line">1917</span><br><span class="line">1918</span><br><span class="line">1919</span><br><span class="line">1920</span><br><span class="line">1921</span><br><span class="line">1922</span><br><span class="line">1923</span><br><span class="line">1924</span><br><span class="line">1925</span><br><span class="line">1926</span><br><span class="line">1927</span><br><span class="line">1928</span><br><span class="line">1929</span><br><span class="line">1930</span><br><span class="line">1931</span><br><span class="line">1932</span><br><span class="line">1933</span><br><span class="line">1934</span><br><span class="line">1935</span><br><span class="line">1936</span><br><span class="line">1937</span><br><span class="line">1938</span><br><span class="line">1939</span><br><span class="line">1940</span><br><span class="line">1941</span><br><span class="line">1942</span><br><span class="line">1943</span><br><span class="line">1944</span><br><span class="line">1945</span><br><span class="line">1946</span><br><span class="line">1947</span><br><span class="line">1948</span><br><span class="line">1949</span><br><span class="line">1950</span><br><span class="line">1951</span><br><span class="line">1952</span><br><span class="line">1953</span><br><span class="line">1954</span><br><span class="line">1955</span><br><span class="line">1956</span><br><span class="line">1957</span><br><span class="line">1958</span><br><span class="line">1959</span><br><span class="line">1960</span><br><span class="line">1961</span><br><span class="line">1962</span><br><span class="line">1963</span><br><span class="line">1964</span><br><span class="line">1965</span><br><span class="line">1966</span><br><span class="line">1967</span><br><span class="line">1968</span><br><span class="line">1969</span><br><span class="line">1970</span><br><span class="line">1971</span><br><span class="line">1972</span><br><span class="line">1973</span><br><span class="line">1974</span><br><span class="line">1975</span><br><span class="line">1976</span><br><span class="line">1977</span><br><span class="line">1978</span><br><span class="line">1979</span><br><span class="line">1980</span><br><span class="line">1981</span><br><span class="line">1982</span><br><span class="line">1983</span><br><span class="line">1984</span><br><span class="line">1985</span><br><span class="line">1986</span><br><span class="line">1987</span><br><span class="line">1988</span><br><span class="line">1989</span><br><span class="line">1990</span><br><span class="line">1991</span><br><span class="line">1992</span><br><span class="line">1993</span><br><span class="line">1994</span><br><span class="line">1995</span><br><span class="line">1996</span><br><span class="line">1997</span><br><span class="line">1998</span><br><span class="line">1999</span><br><span class="line">2000</span><br><span class="line">2001</span><br><span class="line">2002</span><br><span class="line">2003</span><br><span class="line">2004</span><br><span class="line">2005</span><br><span class="line">2006</span><br><span class="line">2007</span><br><span class="line">2008</span><br><span class="line">2009</span><br><span class="line">2010</span><br><span class="line">2011</span><br><span class="line">2012</span><br><span class="line">2013</span><br><span class="line">2014</span><br><span class="line">2015</span><br><span class="line">2016</span><br><span class="line">2017</span><br><span class="line">2018</span><br><span class="line">2019</span><br><span class="line">2020</span><br><span class="line">2021</span><br><span class="line">2022</span><br><span class="line">2023</span><br><span class="line">2024</span><br><span class="line">2025</span><br><span class="line">2026</span><br><span class="line">2027</span><br><span class="line">2028</span><br><span class="line">2029</span><br><span class="line">2030</span><br><span class="line">2031</span><br><span class="line">2032</span><br><span class="line">2033</span><br><span class="line">2034</span><br><span class="line">2035</span><br><span class="line">2036</span><br><span class="line">2037</span><br><span class="line">2038</span><br><span class="line">2039</span><br><span class="line">2040</span><br><span class="line">2041</span><br><span class="line">2042</span><br><span class="line">2043</span><br><span class="line">2044</span><br><span class="line">2045</span><br><span class="line">2046</span><br></pre></td><td class="code"><pre><span class="line">$ sg_vpd /dev/sdj</span><br><span class="line">Supported VPD pages VPD page:</span><br><span class="line">  Supported VPD pages [sv]</span><br><span class="line">  0x3</span><br><span class="line">  Unit serial number [sn]</span><br><span class="line">  Device identification [di]</span><br><span class="line">  Extended inquiry data [ei]</span><br><span class="line">  Mode page policy [mpp]</span><br><span class="line">  SCSI ports [sp]</span><br><span class="line">  Power condition [pc]</span><br><span class="line">  Power consumption [psm]</span><br><span class="line">  Protocol-specific logical unit information [pslu]</span><br><span class="line">  Protocol-specific port information [pspo]</span><br><span class="line">  Block limits (SBC) [bl]</span><br><span class="line">  Block device characteristics (SBC) [bdc]</span><br><span class="line">  Logical block provisioning (SBC) [lbpv]</span><br><span class="line">  0xd1</span><br><span class="line">  0xd2</span><br><span class="line">  0xdc</span><br><span class="line">$ sg_vpd --page=xx /dev/sdj or sg_vpd --page=lbp /dev/sdj</span><br><span class="line">abbreviation doesn&#x27;t match a VPD page</span><br><span class="line">Available standard VPD pages:</span><br><span class="line">  ai         0x89      ATA information (SAT)</span><br><span class="line">  aod        0x82      ASCII implemented operating definition (obsolete)</span><br><span class="line">  adsn       0xb3      Automation device serial number (SSC)</span><br><span class="line">  bl         0xb0      Block limits (SBC)</span><br><span class="line">  ble        0xb7      Block limits extension (SBC)</span><br><span class="line">  bdc        0xb1      Block device characteristics (SBC)</span><br><span class="line">  bdce       0xb5      Block device characteristics extension (SBC)</span><br><span class="line">  cfa        0x8c      CFA profile information</span><br><span class="line">  dc         0x8b      Device constituents</span><br><span class="line">  di         0x83      Device identification</span><br><span class="line">  di_asis    0x83      Like &#x27;di&#x27; but designators ordered as found</span><br><span class="line">  di_lu      0x83      Device identification, lu only</span><br><span class="line">  di_port    0x83      Device identification, target port only</span><br><span class="line">  di_target  0x83      Device identification, target device only</span><br><span class="line">  dtde       0xb4      Data transfer device element address (SSC)</span><br><span class="line">  ei         0x86      Extended inquiry data</span><br><span class="line">  iod        0x81      Implemented operating definition (obsolete)</span><br><span class="line">  lbpro      0xb5      Logical block protection (SSC)</span><br><span class="line">  lbpv       0xb2      Logical block provisioning (SBC)</span><br><span class="line">  mas        0xb1      Manufacturer assigned serial number (SSC)</span><br><span class="line">  masa       0xb1      Manufacturer assigned serial number (ADC)</span><br><span class="line">  mna        0x85      Management network addresses</span><br><span class="line">  mpp        0x87      Mode page policy</span><br><span class="line">  oi         0xb0      OSD information</span><br><span class="line">  pc         0x8a      Power condition</span><br><span class="line">  psm        0x8d      Power consumption</span><br><span class="line">  pslu       0x90      Protocol-specific logical unit information</span><br><span class="line">  pspo       0x91      Protocol-specific port information</span><br><span class="line">  ref        0xb3      Referrals (SBC)</span><br><span class="line">  sad        0xb0      Sequential access device capabilities (SSC)</span><br><span class="line">  sbl        0xb4      Supported block lengths and protection types (SBC)</span><br><span class="line">  sfs        0x92      SCSI feature sets</span><br><span class="line">  sii        0x84      Software interface identification</span><br><span class="line">  sinq       -1        Standard inquiry response</span><br><span class="line">  sn         0x80      Unit serial number</span><br><span class="line">  sp         0x88      SCSI ports</span><br><span class="line">  st         0xb1      Security token (OSD)</span><br><span class="line">  sv         0x00      Supported VPD pages</span><br><span class="line">  tas        0xb2      TapeAlert supported flags (SSC)</span><br><span class="line">  tpc        0x8f      Third party copy</span><br><span class="line">  zbdc       0xb6      Zoned block device characteristics</span><br><span class="line">Vendor/product identifiers:</span><br><span class="line">  dds        3      DDS tape family from IBM</span><br><span class="line">  emc        2      EMC (company)</span><br><span class="line">  hit        7      WDC/Hitachi disk</span><br><span class="line">  hp3par     4      3PAR array (HP was Left Hand)</span><br><span class="line">  hp_lto     6      HP LTO tape/systems</span><br><span class="line">  ibm_lto    5      IBM LTO tape/systems</span><br><span class="line">  nvme       8      NVMe related</span><br><span class="line">  rdac       1      RDAC array (NetApp E-Series)</span><br><span class="line">  sea        0      Seagate disk</span><br><span class="line">  sg         9      sg3_utils extensions</span><br><span class="line">  wdc        7      WDC/Hitachi disk</span><br><span class="line"></span><br><span class="line">Vendor specific VPD pages:</span><br><span class="line">  aci        0xc5,6      ACI revision level (HP LTO)</span><br><span class="line">  datc       0xc1,0      Date code (Seagate)</span><br><span class="line">  dcrl       0xc0,5      Drive component revision levels (IBM LTO)</span><br><span class="line">  ddsver     0xc0,3      Firmware revision (DDS)</span><br><span class="line">  devb       0xc3,0      Device behavior (Seagate)</span><br><span class="line">  dsn        0xc1,5      Drive serial numbers (IBM LTO)</span><br><span class="line">  ducd       0xc7,5      Device unique configuration data (IBM LTO)</span><br><span class="line">  edid       0xc8,1      Extended device identification (RDAC)</span><br><span class="line">  firm       0xc0,0      Firmware numbers (Seagate)</span><br><span class="line">  frl        0xc0,6      Firmware revision level (HP LTO)</span><br><span class="line">  fwr4       0xc1,1      Firmware version (RDAC)</span><br><span class="line">  head       0xc4,6      Head Assy revision level (HP LTO)</span><br><span class="line">  hp3par     0xc0,4      Volume information (HP/3PAR)</span><br><span class="line">  hrl        0xc1,6      Hardware revision level (HP LTO)</span><br><span class="line">  hwr4       0xc0,1      Hardware version (RDAC)</span><br><span class="line">  jump       0xc2,0      Jump setting (Seagate)</span><br><span class="line">  mech       0xc3,6      Mechanism revision level (HP LTO)</span><br><span class="line">  mpds       0xc8,5      Mode parameter default settings (IBM LTO)</span><br><span class="line">  nicr       0xde,9      NVMe Identify Controller Response (sg3_utils)</span><br><span class="line">  pca        0xc2,6      PCA revision level (HP LTO)</span><br><span class="line">  prm4       0xc3,1      Feature Parameters (RDAC)</span><br><span class="line">  rvsi       0xca,1      Replicated volume source identifier (RDAC)</span><br><span class="line">  said       0xd0,1      Storage array world wide name (RDAC)</span><br><span class="line">  subs       0xc4,1      Subsystem identifier (RDAC)</span><br><span class="line">  swr4       0xc2,1      Software version (RDAC)</span><br><span class="line">  upr        0xc0,2      Unit path report (EMC)</span><br><span class="line">  vac1       0xc9,1      Volume access control (RDAC)</span><br><span class="line">  wp3        0x03,7      Page 0x3 (WDC/Hitachi)</span><br><span class="line">  wpd1       0xd1,7      Page 0xd1 (WDC/Hitachi)</span><br><span class="line">  wpd2       0xd2,7      Page 0xd2 (WDC/Hitachi)</span><br><span class="line"></span><br><span class="line">$ sg_vpd -p 0x83 /dev/sda</span><br><span class="line">Device Identification VPD page:</span><br><span class="line">  Addressed logical unit:</span><br><span class="line">    designator type: NAA,  code set: Binary</span><br><span class="line">      0x600c0ff000668b43ca794d6301000000</span><br><span class="line">    designator type: vendor specific [0x0],  code set: Binary</span><br><span class="line">      vendor specific:</span><br><span class="line">11 35 64 62 39 62 36 00  00 c0 ff 66 8c a5 00 00    .5db9b6....f....</span><br><span class="line">0a e2 05 0a 00 c0 ff 66  8b 43 00 00 0a e2 05 09    .......f.C......</span><br><span class="line">  Target port:</span><br><span class="line">    designator type: Relative target port,  code set: Binary</span><br><span class="line">      Relative target port: 0x6</span><br><span class="line">    designator type: Target port group,  code set: Binary</span><br><span class="line">      Target port group: 0x1</span><br><span class="line">    designator type: NAA,  code set: Binary</span><br><span class="line">     transport: Serial Attached SCSI Protocol (SPL-4)</span><br><span class="line">      0x500c0ff5db9b6500</span><br><span class="line">  Target device that contains addressed lu:</span><br><span class="line">    designator type: NAA,  code set: Binary</span><br><span class="line">     transport: Serial Attached SCSI Protocol (SPL-4)  &lt;--- Dell ME5 upgrade to sas4</span><br><span class="line">      0x500c0ff5db9b6000</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ sg_vpd --page=lbpv /dev/disk/by-id/scsi-35000c500cadd3097</span><br><span class="line">Logical block provisioning VPD page (SBC):</span><br><span class="line">  Unmap command supported (LBPU): 0</span><br><span class="line">  Write same (16) with unmap bit supported (LBPWS): 0</span><br><span class="line">  Write same (10) with unmap bit supported (LBPWS10): 0</span><br><span class="line">  Logical block provisioning read zeros (LBPRZ): 0</span><br><span class="line">  Anchored LBAs supported (ANC_SUP): 0</span><br><span class="line">  Threshold exponent: 0 [threshold sets not supported]</span><br><span class="line">  Descriptor present (DP): 0</span><br><span class="line">  Minimum percentage: 0 [not reported]</span><br><span class="line">  Provisioning type: 0 (not known or fully provisioned)</span><br><span class="line">  Threshold percentage: 0 [percentages not supported]</span><br><span class="line"></span><br><span class="line">$ sg_vpd --page=sp /dev/sdj</span><br><span class="line">SCSI Ports VPD page:</span><br><span class="line">  Relative port=1</span><br><span class="line">    Target port descriptor(s):</span><br><span class="line">  SCSI Ports:</span><br><span class="line">    designator type: NAA,  code set: Binary</span><br><span class="line">     transport: Serial Attached SCSI Protocol (SPL-4)</span><br><span class="line">      0x5000cca26c1b8631</span><br><span class="line">  Relative port=2</span><br><span class="line">    Target port descriptor(s):</span><br><span class="line">  SCSI Ports:</span><br><span class="line">    designator type: NAA,  code set: Binary</span><br><span class="line">     transport: Serial Attached SCSI Protocol (SPL-4)</span><br><span class="line">      0x5000cca26c1b8632</span><br><span class="line"></span><br><span class="line">$ sg_vpd --page=pc /dev/sdj</span><br><span class="line">Power condition VPD page:</span><br><span class="line">  Standby_y=0 Standby_z=1 Idle_c=1 Idle_b=1 Idle_a=1</span><br><span class="line">  Stopped condition recovery time (ms) 18400</span><br><span class="line">  Standby_z condition recovery time (ms) 10200</span><br><span class="line">  Standby_y condition recovery time (ms) 3350</span><br><span class="line">  Idle_a condition recovery time (ms) 10</span><br><span class="line">  Idle_b condition recovery time (ms) 900</span><br><span class="line">  Idle_c condition recovery time (ms) 3350</span><br><span class="line"></span><br><span class="line">$  sg_scan -x</span><br><span class="line">/dev/sg0: scsi0 channel=0 id=0 lun=0  cmd_per_lun=7 queue_depth=32</span><br><span class="line">/dev/sg1: scsi0 channel=0 id=1 lun=0  cmd_per_lun=7 queue_depth=32</span><br><span class="line">/dev/sg2: scsi0 channel=0 id=2 lun=0  cmd_per_lun=7 queue_depth=32</span><br><span class="line">/dev/sg3: scsi0 channel=0 id=3 lun=0  cmd_per_lun=7 queue_depth=32</span><br><span class="line">/dev/sg4: scsi0 channel=0 id=4 lun=0  cmd_per_lun=7 queue_depth=32</span><br><span class="line">/dev/sg5: scsi0 channel=0 id=5 lun=0  cmd_per_lun=7 queue_depth=32</span><br><span class="line">/dev/sg6: scsi0 channel=0 id=6 lun=0  cmd_per_lun=7 queue_depth=32</span><br><span class="line">/dev/sg7: scsi0 channel=0 id=7 lun=0  cmd_per_lun=7 queue_depth=32</span><br><span class="line">/dev/sg8: scsi0 channel=0 id=8 lun=0  cmd_per_lun=7 queue_depth=32</span><br><span class="line">/dev/sg9: scsi0 channel=0 id=9 lun=0  cmd_per_lun=7 queue_depth=254</span><br><span class="line">/dev/sg10: scsi0 channel=0 id=10 lun=0  cmd_per_lun=7 queue_depth=32</span><br><span class="line">/dev/sg11: scsi0 channel=0 id=11 lun=0  cmd_per_lun=7 queue_depth=32</span><br><span class="line">/dev/sg12: scsi0 channel=0 id=12 lun=0  cmd_per_lun=7 queue_depth=254</span><br><span class="line">/dev/sg13: scsi15 channel=0 id=0 lun=0 [em]  cmd_per_lun=0 queue_depth=32</span><br><span class="line">/dev/sg14: scsi17 channel=0 id=0 lun=0 [em]  cmd_per_lun=0 queue_depth=1</span><br><span class="line"></span><br><span class="line">[0:0:0:0]    disk    ATA      HGST HUH721010AL LT14  /dev/sda   -  /dev/sg0   10.0TB</span><br><span class="line">[0:0:1:0]    disk    ATA      HGST HUH721010AL LT14  /dev/sdb   -  /dev/sg1   10.0TB</span><br><span class="line">[0:0:2:0]    disk    ATA      HGST HUH721010AL LT14  /dev/sdc   -  /dev/sg2   10.0TB</span><br><span class="line">[0:0:3:0]    disk    ATA      HGST HUH721010AL LT14  /dev/sdd   -  /dev/sg3   10.0TB</span><br><span class="line">[0:0:4:0]    disk    ATA      HGST HUH721010AL LT14  /dev/sde   -  /dev/sg4   10.0TB</span><br><span class="line">[0:0:5:0]    disk    ATA      HGST HUH721010AL LT14  /dev/sdf   -  /dev/sg5   10.0TB</span><br><span class="line">[0:0:6:0]    disk    ATA      HGST HUH721010AL LT14  /dev/sdg   -  /dev/sg6   10.0TB</span><br><span class="line">[0:0:7:0]    disk    ATA      HGST HUH721010AL LT14  /dev/sdh   -  /dev/sg7   10.0TB</span><br><span class="line">[0:0:8:0]    disk    ATA      HGST HUH721010AL LT14  /dev/sdi   -  /dev/sg8   10.0TB</span><br><span class="line">[0:0:9:0]    disk    HGST     HUH721010AL5200  LS14  /dev/sdj   35000cca26c1b8630  /dev/sg9   9.79TB</span><br><span class="line">[0:0:10:0]   disk    ATA      HGST HUH721010AL LT14  /dev/sdk   -  /dev/sg10  10.0TB</span><br><span class="line">[0:0:11:0]   disk    ATA      HGST HUH721010AL LT14  /dev/sdl   -  /dev/sg11  10.0TB</span><br><span class="line">[0:0:12:0]   enclosu DP       BP14G+EXP        2.25  -          -  /dev/sg12       -</span><br><span class="line">[15:0:0:0]   disk    ATA      DELLBOSS VD      00-0  /dev/sdm   -  /dev/sg13   119GB</span><br><span class="line">[17:0:0:0]   process Marvell  Console          1.01  -          -  /dev/sg14       -</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">#### sg_write_same</span><br><span class="line">not make sure</span><br><span class="line">This command writes the given block NUM times to consecutive blocks on  the  DEVICE  starting  at  logical  block address LBA.</span><br><span class="line">If these conditions are not met and the LBPRZ bit is set then the UNMAP  bit  is  ignored  and  the data-out  buffer  is  written  to the DEVICE as if the UNMAP bit was zero</span><br><span class="line">```bash</span><br><span class="line">sg_write_same man page</span><br><span class="line">sg_unmap - send SCSI UNMAP command (known as &#x27;trim&#x27; in ATA specs)</span><br><span class="line">$ cat /sys/block/sdb/size</span><br><span class="line">488397168</span><br><span class="line">$ sg_write_same --16 --unmap --verbose --lba=488397167 --num=1 /dev/sdb</span><br><span class="line">#The same func with sg_write_same ?</span><br><span class="line">$ sg_unmap --verbose --lba=488397167 --num=1 /dev/sdb</span><br><span class="line"></span><br><span class="line">$ sg_unmap --verbose --lba=0 --num=488397167 /dev/sdb</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">#### sg_readcap</span><br><span class="line">```bash</span><br><span class="line">$ --16   Use the 16 byte cdb variant of the READ CAPACITY command. See the &#x27;--long&#x27; option.  -b, --brief outputs two  hex  numbers  (prefixed  with  &#x27;0x&#x27;  and  space  separated) to stdout. The first number is the maximum number of blocks on the device (which is one plus the lba of the last accessible block). The second number is the size in bytes of each block.If the operation fails then &quot;0x0 0x0&quot; is written to stdout.</span><br><span class="line"></span><br><span class="line">$ sg_readcap --16 -b /dev/sdj #10TB 512E</span><br><span class="line">0x474800000 0x200</span><br><span class="line"></span><br><span class="line">Raw Size: 8.910 TB [0x474800000 Sectors]</span><br><span class="line">0x200 = 512 Bytes</span><br><span class="line"></span><br><span class="line">$ sg_readcap --16 -b /dev/sdj #8TB 4KN</span><br><span class="line">0x74702556 0x1000</span><br><span class="line">Vendor:               HGST</span><br><span class="line">Product:              HUH728080AL4200</span><br><span class="line">Revision:             A7J0</span><br><span class="line">User Capacity:        8,001,563,222,016 bytes [8.00 TB]</span><br><span class="line">Logical block size:   4096 bytes</span><br><span class="line">$ cat logical_block_size minimum_io_size physical_block_size</span><br><span class="line">4096</span><br><span class="line">4096</span><br><span class="line">4096</span><br><span class="line"></span><br><span class="line">```</span><br><span class="line">Got the issue, dell SAS 10TB HDD looks like only 9.79TB, Dell hide some area, the physical sector only 4096 Bytes  </span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"># Dell SATA</span><br><span class="line">Model Family:     HGST Ultrastar He10</span><br><span class="line">Device Model:     HGST HUH721010ALE600</span><br><span class="line">LU WWN Device Id: 5 000cca 26aef5ec1</span><br><span class="line">Add. Product Id:  DELL(tm)</span><br><span class="line">Firmware Version: LHDELT14</span><br><span class="line">User Capacity:    10,000,831,348,736 bytes [10.0 TB]</span><br><span class="line">Sector Sizes:     512 bytes logical, 4096 bytes physical</span><br><span class="line"></span><br><span class="line"># SAS 10TB</span><br><span class="line">Vendor:               HGST</span><br><span class="line">Product:              HUH721010AL5200</span><br><span class="line">Revision:             A21D</span><br><span class="line">User Capacity:        10,000,831,348,736 bytes [10.0 TB]</span><br><span class="line">Logical block size:   512 bytes</span><br><span class="line">Physical block size:  4096 bytes</span><br><span class="line">Lowest aligned LBA:   0</span><br><span class="line">Logical block provisioning type unreported, LBPME=0, LBPRZ=0</span><br><span class="line">Rotation Rate:        7200 rpm</span><br><span class="line">Device type:          disk</span><br><span class="line">Transport protocol:   SAS</span><br><span class="line"></span><br><span class="line">#Dell SAS 10TB</span><br><span class="line">Vendor:               HGST</span><br><span class="line">Product:              HUH721010AL5200</span><br><span class="line">Revision:             LS14</span><br><span class="line">Compliance:           SPC-4</span><br><span class="line">User Capacity:        9,796,820,402,176 bytes [9.79 TB]</span><br><span class="line">Logical block size:   512 bytes</span><br><span class="line">Physical block size:  4096 bytes</span><br><span class="line">Formatted with type 2 protection</span><br><span class="line">LU is fully provisioned</span><br><span class="line">Rotation Rate:        7200 rpm</span><br><span class="line">Form Factor:          3.5 inches</span><br><span class="line">Device type:          disk</span><br><span class="line">Transport protocol:   SAS (SPL-3)</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">#### sg_reset [reset bus, host, target](http://fibrevillage.com/storage/593-sg-reset-command-examples)</span><br><span class="line">```bash</span><br><span class="line"># reset bus</span><br><span class="line">$ sg_reset -v -b /dev/sdf</span><br><span class="line">[root@kvm-manager-a23-2 ~]# sg_reset -v -b /dev/sdf</span><br><span class="line">sg_reset: starting bus reset</span><br><span class="line">sg_reset: completed bus (or host) reset</span><br><span class="line"></span><br><span class="line">###</span><br><span class="line">[Mon Jun 17 12:19:41 2019] mpt3sas_cm0: attempting host reset! scmd(ffff96107b4a6a00)</span><br><span class="line">[Mon Jun 17 12:19:41 2019] sd 0:0:3:0: CDB: Test Unit Ready</span><br><span class="line">[Mon Jun 17 12:19:41 2019] mpt3sas_cm0: sending diag reset !!</span><br><span class="line">[Mon Jun 17 12:19:42 2019] mpt3sas_cm0: diag reset: SUCCESS</span><br><span class="line">[Mon Jun 17 12:19:42 2019] mpt3sas_cm0: IOC Number : 0</span><br><span class="line">[Mon Jun 17 12:19:42 2019] mpt3sas_cm0: CurrentHostPageSize is 0: Setting default host page size to 4k</span><br><span class="line">[Mon Jun 17 12:19:42 2019] mpt3sas_cm0: LSISAS3008: FWVersion(15.00.03.00), ChipRevision(0x02), BiosVersion(08.31.00.00)</span><br><span class="line">[Mon Jun 17 12:19:42 2019] mpt3sas_cm0: Protocol=(Initiator), Capabilities=(Raid,TLR,EEDP,Snapshot Buffer,Diag Trace Buffer,Task Set Full,NCQ)</span><br><span class="line">[Mon Jun 17 12:19:42 2019] mpt3sas_cm0: sending port enable !!</span><br><span class="line">[Mon Jun 17 12:19:49 2019] mpt3sas_cm0: port enable: SUCCESS</span><br><span class="line">[Mon Jun 17 12:19:49 2019] mpt3sas_cm0: search for end-devices: start</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:0: handle(0x000a), sas_address(0x5000c5003015b562), port: 255</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:0: enclosure logical id(0x500304801d72dd7f), slot(0)</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:1: handle(0x000b), sas_address(0x5000c5003015b786), port: 255</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:1: enclosure logical id(0x500304801d72dd7f), slot(1)</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:2: handle(0x000c), sas_address(0x5000c5003015b57a), port: 255</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:2: enclosure logical id(0x500304801d72dd7f), slot(2)</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:3: handle(0x000d), sas_address(0x5000c5003015b56a), port: 255</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:3: enclosure logical id(0x500304801d72dd7f), slot(3)</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:4: handle(0x000e), sas_address(0x5000c500301b8b06), port: 255</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:4: enclosure logical id(0x500304801d72dd7f), slot(4)</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:5: handle(0x000f), sas_address(0x5000c5003015b566), port: 255</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:5: enclosure logical id(0x500304801d72dd7f), slot(5)</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:6: handle(0x0010), sas_address(0x5000c5003015b582), port: 255</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:6: enclosure logical id(0x500304801d72dd7f), slot(6)</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:7: handle(0x0011), sas_address(0x5000c5003015b56e), port: 255</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:7: enclosure logical id(0x500304801d72dd7f), slot(7)</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:8: handle(0x0012), sas_address(0x5000c5003015b5b6), port: 255</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:8: enclosure logical id(0x500304801d72dd7f), slot(8)</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:9: handle(0x0013), sas_address(0x5000c500301b8b7e), port: 255</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:9: enclosure logical id(0x500304801d72dd7f), slot(9)</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:10: handle(0x0014), sas_address(0x500304801d72ddfd), port: 255</span><br><span class="line">[Mon Jun 17 12:19:49 2019] scsi target0:0:10: enclosure logical id(0x500304801d72dd7f), slot(24)</span><br><span class="line">[Mon Jun 17 12:19:49 2019] mpt3sas_cm0:         break from _scsih_search_responding_sas_devices: ioc_status(0x0022), loginfo(0x310f0400)</span><br><span class="line">[Mon Jun 17 12:19:49 2019] mpt3sas_cm0: search for end-devices: complete</span><br><span class="line">[Mon Jun 17 12:19:49 2019] mpt3sas_cm0: search for end-devices: start</span><br><span class="line">[Mon Jun 17 12:19:49 2019] mpt3sas_cm0: search for PCIe end-devices: complete</span><br><span class="line">[Mon Jun 17 12:19:49 2019] mpt3sas_cm0: search for raid volumes: start</span><br><span class="line">[Mon Jun 17 12:19:49 2019] mpt3sas_cm0: search for responding raid volumes: complete</span><br><span class="line">[Mon Jun 17 12:19:50 2019] mpt3sas_cm0: search for expanders: start</span><br><span class="line">[Mon Jun 17 12:19:50 2019]      expander present: handle(0x0009), sas_addr(0x500304801d72ddff), port:255</span><br><span class="line">[Mon Jun 17 12:19:50 2019] mpt3sas_cm0:         break from _scsih_search_responding_expanders: ioc_status(0x0022), loginfo(0x310f0400)</span><br><span class="line">[Mon Jun 17 12:19:50 2019] mpt3sas_cm0: search for expanders: complete</span><br><span class="line">[Mon Jun 17 12:19:50 2019] mpt3sas_cm0: host reset: SUCCESS scmd(ffff96107b4a6a00)</span><br><span class="line">[Mon Jun 17 12:20:00 2019]  sdf: sdf1 sdf9</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0: removing unresponding devices: start</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0: removing unresponding devices: sas end-devices</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0: removing unresponding devices: pcie end-devices</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0: removing unresponding devices: volumes</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0: removing unresponding devices: expanders</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0: removing unresponding devices: complete</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0: scan devices: start</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0:         scan devices: expanders start</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0:         break from expander scan: ioc_status(0x0022), loginfo(0x310f0400)</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0:         scan devices: expanders complete</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0:         scan devices: phys disk start</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0:         break from phys disk scan: ioc_status(0x0022), loginfo(0x00000000)</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0:         scan devices: phys disk complete</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0:         scan devices: volumes start</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0:         break from volume scan: ioc_status(0x0022), loginfo(0x00000000)</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0:         scan devices: volumes complete</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0:         scan devices: sas end devices start</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0:         break from sas end device scan: ioc_status(0x0022), loginfo(0x310f0400)</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0:         scan devices: sas end devices complete</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0:         scan devices: pcie end devices start</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0: log_info(0x3003011d): originator(IOP), code(0x03), sub_code(0x011d)</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0: log_info(0x3003011d): originator(IOP), code(0x03), sub_code(0x011d)</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0:         break from pcie end device scan: ioc_status(0x0021), loginfo(0x3003011d)</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0:         pcie devices: pcie end devices complete</span><br><span class="line">[Mon Jun 17 12:20:00 2019] mpt3sas_cm0: scan devices: complete</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># reset host</span><br><span class="line">$ sg_reset -v -H /dev/sdf</span><br><span class="line">sg_reset: starting host reset</span><br><span class="line">sg_reset: completed host reset</span><br><span class="line"></span><br><span class="line">[Mon Jun 17 12:22:10 2019] mpt3sas_cm0: attempting host reset! scmd(ffff9620717edc00)</span><br><span class="line">[Mon Jun 17 12:22:10 2019] sd 0:0:3:0: CDB: Test Unit Ready</span><br><span class="line">[Mon Jun 17 12:22:10 2019] mpt3sas_cm0: sending diag reset !!</span><br><span class="line">[Mon Jun 17 12:22:11 2019] mpt3sas_cm0: diag reset: SUCCESS</span><br><span class="line">[Mon Jun 17 12:22:11 2019] mpt3sas_cm0: IOC Number : 0</span><br><span class="line">[Mon Jun 17 12:22:11 2019] mpt3sas_cm0: CurrentHostPageSize is 0: Setting default host page size to 4k</span><br><span class="line">[Mon Jun 17 12:22:11 2019] mpt3sas_cm0: LSISAS3008: FWVersion(15.00.03.00), ChipRevision(0x02), BiosVersion(08.31.00.00)</span><br><span class="line">[Mon Jun 17 12:22:11 2019] mpt3sas_cm0: Protocol=(Initiator), Capabilities=(Raid,TLR,EEDP,Snapshot Buffer,Diag Trace Buffer,Task Set Full,NCQ)</span><br><span class="line">[Mon Jun 17 12:22:11 2019] mpt3sas_cm0: sending port enable !!</span><br><span class="line">[Mon Jun 17 12:22:18 2019] mpt3sas_cm0: port enable: SUCCESS</span><br><span class="line">[Mon Jun 17 12:22:18 2019] mpt3sas_cm0: search for end-devices: start</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:0: handle(0x000a), sas_address(0x5000c5003015b562), port: 255</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:0: enclosure logical id(0x500304801d72dd7f), slot(0)</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:1: handle(0x000b), sas_address(0x5000c5003015b786), port: 255</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:1: enclosure logical id(0x500304801d72dd7f), slot(1)</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:2: handle(0x000c), sas_address(0x5000c5003015b57a), port: 255</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:2: enclosure logical id(0x500304801d72dd7f), slot(2)</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:3: handle(0x000d), sas_address(0x5000c5003015b56a), port: 255</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:3: enclosure logical id(0x500304801d72dd7f), slot(3)</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:4: handle(0x000e), sas_address(0x5000c500301b8b06), port: 255</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:4: enclosure logical id(0x500304801d72dd7f), slot(4)</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:5: handle(0x000f), sas_address(0x5000c5003015b566), port: 255</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:5: enclosure logical id(0x500304801d72dd7f), slot(5)</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:6: handle(0x0010), sas_address(0x5000c5003015b582), port: 255</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:6: enclosure logical id(0x500304801d72dd7f), slot(6)</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:7: handle(0x0011), sas_address(0x5000c5003015b56e), port: 255</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:7: enclosure logical id(0x500304801d72dd7f), slot(7)</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:8: handle(0x0012), sas_address(0x5000c5003015b5b6), port: 255</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:8: enclosure logical id(0x500304801d72dd7f), slot(8)</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:9: handle(0x0013), sas_address(0x5000c500301b8b7e), port: 255</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:9: enclosure logical id(0x500304801d72dd7f), slot(9)</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:10: handle(0x0014), sas_address(0x500304801d72ddfd), port: 255</span><br><span class="line">[Mon Jun 17 12:22:18 2019] scsi target0:0:10: enclosure logical id(0x500304801d72dd7f), slot(24)</span><br><span class="line">[Mon Jun 17 12:22:18 2019] mpt3sas_cm0:         break from _scsih_search_responding_sas_devices: ioc_status(0x0022), loginfo(0x310f0400)</span><br><span class="line">[Mon Jun 17 12:22:18 2019] mpt3sas_cm0: search for end-devices: complete</span><br><span class="line">[Mon Jun 17 12:22:18 2019] mpt3sas_cm0: search for end-devices: start</span><br><span class="line">[Mon Jun 17 12:22:18 2019] mpt3sas_cm0: search for PCIe end-devices: complete</span><br><span class="line">[Mon Jun 17 12:22:18 2019] mpt3sas_cm0: search for raid volumes: start</span><br><span class="line">[Mon Jun 17 12:22:18 2019] mpt3sas_cm0: search for responding raid volumes: complete</span><br><span class="line">[Mon Jun 17 12:22:18 2019] mpt3sas_cm0: search for expanders: start</span><br><span class="line">[Mon Jun 17 12:22:18 2019]      expander present: handle(0x0009), sas_addr(0x500304801d72ddff), port:255</span><br><span class="line">[Mon Jun 17 12:22:18 2019] mpt3sas_cm0:         break from _scsih_search_responding_expanders: ioc_status(0x0022), loginfo(0x310f0400)</span><br><span class="line">[Mon Jun 17 12:22:18 2019] mpt3sas_cm0: search for expanders: complete</span><br><span class="line">[Mon Jun 17 12:22:18 2019] mpt3sas_cm0: host reset: SUCCESS scmd(ffff9620717edc00)</span><br><span class="line">[Mon Jun 17 12:22:28 2019]  sdf: sdf1 sdf9</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0: removing unresponding devices: start</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0: removing unresponding devices: sas end-devices</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0: removing unresponding devices: pcie end-devices</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0: removing unresponding devices: volumes</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0: removing unresponding devices: expanders</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0: removing unresponding devices: complete</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0: scan devices: start</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0:         scan devices: expanders start</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0:         break from expander scan: ioc_status(0x0022), loginfo(0x310f0400)</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0:         scan devices: expanders complete</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0:         scan devices: phys disk start</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0:         break from phys disk scan: ioc_status(0x0022), loginfo(0x00000000)</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0:         scan devices: phys disk complete</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0:         break from volume scan: ioc_status(0x0022), loginfo(0x00000000)</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0:         scan devices: volumes complete</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0:         scan devices: sas end devices start</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0:         break from sas end device scan: ioc_status(0x0022), loginfo(0x310f0400)</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0:         scan devices: sas end devices complete</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0:         scan devices: pcie end devices start</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0: log_info(0x3003011d): originator(IOP), code(0x03), sub_code(0x011d)</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0: log_info(0x3003011d): originator(IOP), code(0x03), sub_code(0x011d)</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0:         break from pcie end device scan: ioc_status(0x0021), loginfo(0x3003011d)</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0:         pcie devices: pcie end devices complete</span><br><span class="line">[Mon Jun 17 12:22:28 2019] mpt3sas_cm0: scan devices: complete</span><br><span class="line"></span><br><span class="line"># reset target, I guess there is the same with -d, looks like I &#x27;m right</span><br><span class="line">$ sg_reset -v -t /dev/sdf</span><br><span class="line">sg_reset: starting target reset</span><br><span class="line">sg_reset: completed target (or bus or host) reset</span><br><span class="line"></span><br><span class="line">[Mon Jun 17 12:23:27 2019] scsi target0:0:3: attempting target reset! scmd(ffff961e69a2f2c0)</span><br><span class="line">[Mon Jun 17 12:23:27 2019] sd 0:0:3:0: CDB: Test Unit Ready</span><br><span class="line">[Mon Jun 17 12:23:27 2019] scsi target0:0:3: _scsih_tm_display_info: handle(0x000d), sas_address(0x5000c5003015b56a), phy(15)</span><br><span class="line">[Mon Jun 17 12:23:27 2019] scsi target0:0:3: enclosurelogical id(0x500304801d72dd7f), slot(3)</span><br><span class="line">[Mon Jun 17 12:23:27 2019] scsi target0:0:3: enclosure level(0x0000), connector name(     )</span><br><span class="line">[Mon Jun 17 12:23:27 2019] scsi target0:0:3: target reset: SUCCESS scmd(ffff961e69a2f2c0)</span><br><span class="line">[Mon Jun 17 12:23:27 2019]  sdf: sdf1 sdf9</span><br><span class="line"></span><br><span class="line">$ sg_reset -v -d /dev/sdf</span><br><span class="line">sg_reset: starting device reset</span><br><span class="line">sg_reset: completed device (or target or bus or host) reset</span><br><span class="line"></span><br><span class="line">[Mon Jun 17 12:24:35 2019] sd 0:0:3:0: attempting device reset! scmd(ffff9620717edf80)</span><br><span class="line">[Mon Jun 17 12:24:35 2019] sd 0:0:3:0: CDB: Test Unit Ready</span><br><span class="line">[Mon Jun 17 12:24:35 2019] scsi target0:0:3: _scsih_tm_display_info: handle(0x000d), sas_address(0x5000c5003015b56a), phy(15)</span><br><span class="line">[Mon Jun 17 12:24:35 2019] scsi target0:0:3: enclosurelogical id(0x500304801d72dd7f), slot(3)</span><br><span class="line">[Mon Jun 17 12:24:35 2019] scsi target0:0:3: enclosure level(0x0000), connector name(     )</span><br><span class="line">[Mon Jun 17 12:24:35 2019] sd 0:0:3:0: device reset: SUCCESS scmd(ffff9620717edf80)</span><br><span class="line">[Mon Jun 17 12:24:35 2019]  sdf: sdf1 sdf9</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">### mpt2sas driver layer</span><br><span class="line"></span><br><span class="line">Because HBA connect with JBOD will cause some of counts</span><br><span class="line">I will record all counts at boot time. compare these counts with future</span><br><span class="line">If you found some number increase that means there are some errors in sas driver layer</span><br><span class="line">```bash</span><br><span class="line">cd /sys/class/sas_phy;for i in $(ls); do</span><br><span class="line">value=$(cat $i/running_disparity_error_count)</span><br><span class="line">value2=$(cat $i/phy_reset_problem_count)</span><br><span class="line">value3=$(cat $i/loss_of_dword_sync_count)</span><br><span class="line">value4=$(cat $i/invalid_dword_count)</span><br><span class="line">if [[ $value -gt 0 ]] || [[ $value2 -gt 0 ]] || [[ $value3 -gt 0 ]] || [[ $value4 -gt 0 ]]</span><br><span class="line">then</span><br><span class="line">  devtype=$(lsscsi -g | grep -i $i | awk &#x27;&#123;print $1,$NF&#125;&#x27;)</span><br><span class="line">  echo -n $i&quot;-- &quot;</span><br><span class="line">  echo -n running_disparity_error_count&quot;:&quot;$value&quot; &quot;$devtype&quot; &quot;</span><br><span class="line">  echo -n phy_reset_problem_count&quot;:&quot;$value2&quot; &quot;$devtype&quot; &quot;</span><br><span class="line">  echo -n loss_of_dword_sync_count&quot;:&quot;$value3&quot; &quot;$devtype&quot; &quot;</span><br><span class="line">  echo invalid_dword_count&quot;:&quot;$value4&quot; &quot;$devtype</span><br><span class="line">fi</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">phy-0:0:13-- running_disparity_error_count:1  phy_reset_problem_count:0  loss_of_dword_sync_count:1  invalid_dword_count:1</span><br><span class="line">phy-0:0:15-- running_disparity_error_count:0  phy_reset_problem_count:0  loss_of_dword_sync_count:1  invalid_dword_count:5</span><br><span class="line">phy-0:0:17-- running_disparity_error_count:0  phy_reset_problem_count:0  loss_of_dword_sync_count:1  invalid_dword_count:5</span><br><span class="line">phy-0:0:19-- running_disparity_error_count:1  phy_reset_problem_count:0  loss_of_dword_sync_count:1  invalid_dword_count:1</span><br><span class="line">phy-0:0:21-- running_disparity_error_count:0  phy_reset_problem_count:0  loss_of_dword_sync_count:1  invalid_dword_count:6</span><br><span class="line">phy-0:0:23-- running_disparity_error_count:1  phy_reset_problem_count:0  loss_of_dword_sync_count:1  invalid_dword_count:5</span><br><span class="line">phy-0:0:25-- running_disparity_error_count:0  phy_reset_problem_count:0  loss_of_dword_sync_count:1  invalid_dword_count:6</span><br><span class="line">phy-0:0:27-- running_disparity_error_count:0  phy_reset_problem_count:0  loss_of_dword_sync_count:1  invalid_dword_count:5</span><br><span class="line">phy-12:2:3-- running_disparity_error_count:0  phy_reset_problem_count:1  loss_of_dword_sync_count:0  invalid_dword_count:0</span><br><span class="line">phy-14:1:22-- running_disparity_error_count:2  phy_reset_problem_count:4  loss_of_dword_sync_count:4  invalid_dword_count:30</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Counters that are defined in SAS 1.1 Standard:</span><br><span class="line">* Invalid DWORDs</span><br><span class="line">A &#x27;dword&#x27; that is not a data word or a primitive (i.e., in the character context, a dword that contains an invalid character, a control character not in the first character position, a control character other than K28.3 or K28.5 in the first character position or one or more characters with a &#x27;running disparity&#x27; error). This could mark the beginning of a loss of dword synchronization. Synchronization is lost after the fourth non-nullified invalid dword (if followed by a valid dword).</span><br><span class="line"></span><br><span class="line">* Phy reset problem</span><br><span class="line">Number of times a PHY reset problem occurs. When a PHY or link is reset, it will run through its reset sequence (OOB, Speed Negotiation, Multiplexing, and Identification).</span><br><span class="line"></span><br><span class="line">[for more scsi info](https://www.seagate.com/staticfiles/support/disc/manuals/Interface%20manuals/100293071c.pdf)</span><br><span class="line">* Running disparity error count</span><br><span class="line">A binary value indicating the cumulative encoded signal imbalance between the one and zero signal state of all characters since dword synchronization has been achieved.</span><br><span class="line">Cumulative encoded signal imbalance between the one and zero signal state. Any dwords with one or more Running Disparity Errors will be considered as invalid dwords.</span><br><span class="line"></span><br><span class="line">* Loss of DWORD synchroization count</span><br><span class="line">If occur loss_of_dword_sync, the sas protocol will retrans the bad data ? if occur multiple times at the short time(half an hour), the HBA will reset the link (from driver ? HBA itself ? )</span><br><span class="line"></span><br><span class="line">These errors mean that there is a problem in the link between the drive and the upstream port, if you have a cable in there the cable may be bad, if not it means one of the port is bad. Ofcourse even if you have a cable it can still mean one of the ports is bad.</span><br><span class="line">After dword synchronization has been achieved, this machine monitors invalid dwords that are received. When an invalid dword is detected, it requires two valid dwords to nullify its effect. When four invalid dwords are detected without nullification, dword synchronization is considered lost.</span><br><span class="line"></span><br><span class="line">The way to diagnose it is to use a different disk in the same slot and see if the error goes away or not, if it went away the disk is bad. If the error stayed the original disk is fine but the port on the server/chassis is bad and the server/chassis needs to be replaced.</span><br><span class="line">The issue with loss of dword synchronization is that it means additional retries for some sent IOs and it will increase the latency of IOs by way of waiting more for data transmission due to these retransmits.</span><br><span class="line"></span><br><span class="line">Errors are collected from PHYs on:</span><br><span class="line">    SAS expanders.</span><br><span class="line">    SAS disks.</span><br><span class="line">    SAS I/O protocol ASICs.</span><br><span class="line"></span><br><span class="line">SATA has its phy error count, just not same with T10, it &#x27;s T13</span><br><span class="line">[Note: SATA drives do not report any errors. As these are SATA devices, they do not have the same reporting functionality as their SAS counterparts.](https://kb.netapp.com/app/answers/answer_view/a_id/1072439/~/how-to-troubleshoot-a-sas-e-series-storage-system-using-the-sasphyerrorlogs.csv)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### mpt2sas debug code</span><br><span class="line">Example: this enables firmware events and reply with additional info</span><br><span class="line">#insmod mpt2sas.ko logging_level=0x218</span><br><span class="line">Example: this enables handshake and initialization logging</span><br><span class="line">#insmod mpt2sas.ko logging_level=0x420</span><br><span class="line">Example: this enables application using IOCTLS logging</span><br><span class="line">#insmod mpt2sas.ko logging_level=0x8000</span><br><span class="line">Example: this enables manufacture configuration logging</span><br><span class="line">#insmod mpt2sas.ko logging_level=0x800</span><br><span class="line">Example: this enables host reset and task management logging</span><br><span class="line">#insmod mpt2sas.ko logging_level=0x2100</span><br><span class="line">Example: this enables task set full logging</span><br><span class="line">#insmod mpt2sas.ko logging_level=0x80000</span><br><span class="line"></span><br><span class="line">NOTE: Many of the driver debug prints are using KERN_DEBUG and KERN_INFO logging level. Red Hat and SuSE tend to set the default logging level set to a higher level, perhaps KERN_WARNING. When set to KERN_WARNING you will be missing most the debug info. To turn on the additional logs, you will need to see the set klogd to KERN_DEBUG. In both SuSE and Red Hat offer configuration of klogd from the file /etc/sysconfig/syslog. Please refer to the klogd manual page for more info.</span><br><span class="line"></span><br><span class="line">##### [mpt2sas_fwfault_debug](https://git.congatec.com/arm/qmx6_kernel/commit/fa7f31673583a6e0876f8bb420735cdd8a3ffa57)</span><br><span class="line">Added command line option and shost sysfs attribute called mpt2sas_fwfault_debug. When enduser writes a &quot;1&quot; to this parameter, this will enable support in the driver for debugging firmware timeout related issues.</span><br><span class="line"></span><br><span class="line">This handling was added in three areas</span><br><span class="line">(a) scsi error handling callback called task_abort</span><br><span class="line">(b) IOCTL interface</span><br><span class="line">(c) other timeouts that result in diag resets, such as manufacturing config pages.</span><br><span class="line">When this support is enabled, the driver will provide dump_stack to console, halt controller firmware, and panic driver. The end user probably would want to setup serial console redirection so the dump stack can be seen.</span><br><span class="line"></span><br><span class="line">Here are the three methods for enable this support:</span><br><span class="line"></span><br><span class="line">(a) # insmod mpt2sas.ko mpt2sas_fwfault_debug=1</span><br><span class="line">(b) # echo 1 &gt; /sys/module/mpt2sas/parameters/mpt2sas_fwfault_debug</span><br><span class="line">(c) # echo 1 &gt; /sys/class/scsi_host/host#/fwfault_debug  (where # is the host number)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">At this time, there is some issues in HBA, you could compare with these time stamps.</span><br><span class="line">The hardware(HBA) throw out a lot of error log to kernel</span><br><span class="line">It &#x27;s not the kernel behavior, it &#x27;s the error log from HBA</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">Feb 14 10:53:28 host1.example kernel: : mpt2sas0: fault_state(0x5841)!</span><br><span class="line">Feb 14 10:53:28 host1.example kernel: : mpt2sas0: sending diag reset !!</span><br><span class="line">...</span><br><span class="line">Feb 14 11:14:27 host1.example kernel: : mpt2sas0: fault_state(0x5841)!</span><br><span class="line">Feb 14 11:14:27 host1.example kernel: : mpt2sas0: sending diag reset !</span><br><span class="line">...</span><br><span class="line">Feb 14 11:25:30 host1.example kernel: : mpt2sas0: fault_state(0x5841)!</span><br><span class="line">Feb 14 11:25:30 host1.example kernel: : mpt2sas0: sending diag reset !!</span><br><span class="line">Feb 14 11:25:30 host1.example kernel: : mpt2sas0: fault_state(0x5841)!</span><br><span class="line">Feb 14 11:25:30 host1.example kernel: : mpt2sas0: sending diag reset !!</span><br><span class="line">Feb 14 11:25:31 host1.example kernel: : mpt2sas0: diag reset: SUCCESS</span><br><span class="line">Feb 14 11:25:31 host1.example kernel: : mpt2sas0: diag reset: SUCCESS</span><br><span class="line">Feb 14 11:25:38 host1.example kernel: : mpt2sas0: LSISAS2008: FWVersion(08.00.09.00), ChipRevision(0x03), BiosVersion(07.15.00.00)</span><br><span class="line">Feb 14 11:25:38 host1.example kernel: : mpt2sas0: Protocol=(Initiator,Target), Capabilities=(Raid,TLR,EEDP,Snapshot Buffer,Diag Trace Buffer,Task Set Full,NCQ)</span><br><span class="line">Feb 14 11:25:38 host1.example kernel: : mpt2sas0: sending port enable !!</span><br><span class="line">Feb 14 11:25:38 host1.example kernel: : mpt2sas0: port enable: SUCCESS</span><br><span class="line">Feb 14 11:25:38 host1.example kernel: : mpt2sas0: _scsih_search_responding_sas_devices</span><br><span class="line">Feb 14 11:25:38 host1.example kernel: : mpt2sas0: LSISAS2008: FWVersion(08.00.09.00), ChipRevision(0x03), BiosVersion(07.15.00.00)</span><br><span class="line">Feb 14 11:25:38 host1.example kernel: : mpt2sas0: Protocol=(Initiator,Target), Capabilities=(Raid,TLR,EEDP,Snapshot Buffer,Diag Trace Buffer,Task Set Full,NCQ)</span><br><span class="line">Feb 14 11:25:38 host1.example kernel: : mpt2sas0: sending port enable !!</span><br><span class="line">Feb 14 11:25:38 host1.example kernel: : mpt2sas0: port enable: SUCCESS</span><br><span class="line">Feb 14 11:25:38 host1.example kernel: : mpt2sas0: _scsih_search_responding_sas_devices</span><br><span class="line">Feb 14 11:25:38 host1.example kernel: : mpt2sas0: _scsih_search_responding_raid_devices</span><br><span class="line">Feb 14 11:25:38 host1.example kernel: : mpt2sas0: _scsih_search_responding_raid_devices</span><br><span class="line">Feb 14 11:25:38 host1.example kernel: : mpt2sas0: _scsih_search_responding_expanders</span><br><span class="line">Feb 14 11:25:38 host1.example kernel: : mpt2sas0: _base_fault_reset_work: hard reset: success</span><br><span class="line">Feb 14 11:25:38 host1.example kernel: : mpt2sas0: _scsih_search_responding_expanders</span><br><span class="line">Feb 14 11:25:38 host1.example kernel: : mpt2sas0: _base_fault_reset_work: hard reset: success</span><br><span class="line">...</span><br><span class="line">Feb 14 13:46:48 host1.example kernel: : mpt2sas0: fault_state(0x5841)!</span><br><span class="line">Feb 14 13:46:48 host1.example kernel: : mpt2sas0: sending diag reset !!</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">#### SATA log</span><br><span class="line">```bash</span><br><span class="line"># smartctl man page</span><br><span class="line">error  -  [ATA]  prints  the Summary SMART error log. SMART disks maintain a log of the most recent five non-trivial errors. For each of these errors, the disk power-on lifetime at which the error occurred is recorded, as is the device status  (idle, standby,  etc)  at  the time of the error.  For some common types of errors, the Error Register (ER) and Status Register (SR) values are decoded and printed as text. The meanings of these are:</span><br><span class="line">   ABRT:  Command ABoRTed</span><br><span class="line">   AMNF:  Address Mark Not Found</span><br><span class="line">   CCTO:  Command Completion Timed Out</span><br><span class="line">   EOM:   End Of Media</span><br><span class="line">   ICRC:  Interface Cyclic Redundancy Code (CRC) error</span><br><span class="line">   IDNF:  IDentity Not Found</span><br><span class="line">   ILI:   (packet command-set specific)</span><br><span class="line">   MC:    Media Changed</span><br><span class="line">   MCR:   Media Change Request</span><br><span class="line">   NM:    No Media</span><br><span class="line">   obs:   obsolete</span><br><span class="line">   TK0NF: TracK 0 Not Found</span><br><span class="line">   UNC:   UNCorrectable Error in Data</span><br><span class="line">   WP:    Media is Write Protected</span><br><span class="line"></span><br><span class="line">$ smartctl -l statphy /dev/sdb&quot;</span><br><span class="line">smartctl 6.6 2017-11-05 r4594 [x86_64-linux-4.18.0-80.11.2.el8_0.x86_64] (local build)</span><br><span class="line">Copyright (C) 2002-17, Bruce Allen, Christian Franke, www.smartmontools.org</span><br><span class="line"></span><br><span class="line">=======&gt; INVALID ARGUMENT TO -l: statphy</span><br><span class="line">=======&gt; VALID ARGUMENTS ARE: error, selftest, selective, directory[,g|s], xerror[,N][,error], xselftest[,N][,selftest], background, sasphy[,reset], sataphy[,reset], scttemp[sts,hist], scttempint,N[,p], scterc[,N,M], devstat[,N], defects[,N], ssd, gplog,N[,RANGE], smartlog,N[,RANGE], nvmelog,N,SIZE &lt;=======</span><br><span class="line"></span><br><span class="line">Use smartctl -h to get a usage summary</span><br><span class="line"></span><br><span class="line">$ smartctl -l sataphy /dev/sdb</span><br><span class="line">smartctl 6.6 2017-11-05 r4594 [x86_64-linux-4.18.0-80.11.2.el8_0.x86_64] (local build)</span><br><span class="line">Copyright (C) 2002-17, Bruce Allen, Christian Franke, www.smartmontools.org</span><br><span class="line"></span><br><span class="line">SATA Phy Event Counters (GP Log 0x11)</span><br><span class="line">ID      Size     Value  Description</span><br><span class="line">0x0001  2            0  Command failed due to ICRC error</span><br><span class="line">0x0002  2            0  R_ERR response for data FIS</span><br><span class="line">0x0003  2            0  R_ERR response for device-to-host data FIS</span><br><span class="line">0x0004  2            0  R_ERR response for host-to-device data FIS</span><br><span class="line">0x0005  2            0  R_ERR response for non-data FIS</span><br><span class="line">0x0006  2            0  R_ERR response for device-to-host non-data FIS</span><br><span class="line">0x0007  2            0  R_ERR response for host-to-device non-data FIS</span><br><span class="line">0x0008  2            0  Device-to-host non-data FIS retries</span><br><span class="line">0x0009  2            0  Transition from drive PhyRdy to drive PhyNRdy</span><br><span class="line">0x000a  2            1  Device-to-host register FISes sent due to a COMRESET</span><br><span class="line">0x000b  2            0  CRC errors within host-to-device FIS</span><br><span class="line">0x000d  2            0  Non-CRC errors within host-to-device FIS</span><br><span class="line"></span><br><span class="line">#except phy error, the smart attr will show some error too</span><br><span class="line">SMART 5 - Reallocated_Sector_Count.</span><br><span class="line">SMART 187 - Reported_Uncorrectable_Errors.</span><br><span class="line">SMART 188 - Command_Timeout.</span><br><span class="line">SMART 197 - Current_Pending_Sector_Count.</span><br><span class="line">SMART 198 - Offline_Uncorrectable</span><br><span class="line"></span><br><span class="line">$ smartclt -l defects -x /dev/sdx</span><br><span class="line">=== START OF INFORMATION SECTION ===</span><br><span class="line">Model Family:     HGST Ultrastar He10</span><br><span class="line">Device Model:     HGST HUH721010ALE600</span><br><span class="line">Serial Number:    XXXXXXXXXX</span><br><span class="line">LU WWN Device Id: 5 000cca xxxxxxxx</span><br><span class="line">Add. Product Id:  XXXXXX</span><br><span class="line">Firmware Version: LHDELT14</span><br><span class="line">User Capacity:    10,000,831,348,736 bytes [10.0 TB]</span><br><span class="line">Sector Sizes:     512 bytes logical, 4096 bytes physical</span><br><span class="line">Rotation Rate:    7200 rpm</span><br><span class="line">Form Factor:      3.5 inches</span><br><span class="line">Device is:        In smartctl database [for details use: -P show]</span><br><span class="line">ATA Version is:   ACS-2, ATA8-ACS T13/1699-D revision 4</span><br><span class="line">SATA Version is:  SATA 3.2, 6.0 Gb/s (current: 6.0 Gb/s)</span><br><span class="line">Local Time is:    Tue Dec 10 11:18:58 2019 EST</span><br><span class="line">SMART support is: Available - device has SMART capability.</span><br><span class="line">SMART support is: Enabled</span><br><span class="line">AAM feature is:   Unavailable</span><br><span class="line">APM feature is:   Disabled</span><br><span class="line">Rd look-ahead is: Enabled</span><br><span class="line">Write cache is:   Disabled</span><br><span class="line">DSN feature is:   Unavailable</span><br><span class="line">ATA Security is:  Disabled, NOT FROZEN [SEC1]</span><br><span class="line">Wt Cache Reorder: Enabled</span><br><span class="line"></span><br><span class="line">=== START OF READ SMART DATA SECTION ===</span><br><span class="line">SMART overall-health self-assessment test result: PASSED</span><br><span class="line"></span><br><span class="line">General SMART Values:</span><br><span class="line">Offline data collection status:  (0x82) Offline data collection activity</span><br><span class="line">                                        was completed without error.</span><br><span class="line">                                        Auto Offline Data Collection: Enabled.</span><br><span class="line">Self-test execution status:      (  40) The self-test routine was interrupted</span><br><span class="line">                                        by the host with a hard or soft reset.</span><br><span class="line">Total time to complete Offline</span><br><span class="line">data collection:                (   90) seconds.</span><br><span class="line">Offline data collection</span><br><span class="line">capabilities:                    (0x5b) SMART execute Offline immediate.</span><br><span class="line">                                        Auto Offline data collection on/off support.</span><br><span class="line">                                        Suspend Offline collection upon new</span><br><span class="line">                                        command.</span><br><span class="line">                                        Offline surface scan supported.</span><br><span class="line">                                        Self-test supported.</span><br><span class="line">                                        No Conveyance Self-test supported.</span><br><span class="line">                                        Selective Self-test supported.</span><br><span class="line">SMART capabilities:            (0x0003) Saves SMART data before entering</span><br><span class="line">                                        power-saving mode.</span><br><span class="line">                                        Supports SMART auto save timer.</span><br><span class="line">Error logging capability:        (0x01) Error logging supported.</span><br><span class="line">                                        General Purpose Logging supported.</span><br><span class="line">Short self-test routine</span><br><span class="line">recommended polling time:        (   2) minutes.</span><br><span class="line">Extended self-test routine</span><br><span class="line">recommended polling time:        (1063) minutes.</span><br><span class="line">SCT capabilities:              (0x003d) SCT Status supported.</span><br><span class="line">                                        SCT Error Recovery Control supported.</span><br><span class="line">                                        SCT Feature Control supported.</span><br><span class="line">                                        SCT Data Table supported.</span><br><span class="line"></span><br><span class="line">SMART Attributes Data Structure revision number: 16</span><br><span class="line">Vendor Specific SMART Attributes with Thresholds:</span><br><span class="line">ID# ATTRIBUTE_NAME          FLAGS    VALUE WORST THRESH FAIL RAW_VALUE</span><br><span class="line">  1 Raw_Read_Error_Rate     PO-R--   100   100   016    -    0</span><br><span class="line">  2 Throughput_Performance  --S---   134   134   000    -    96</span><br><span class="line">  3 Spin_Up_Time            POS---   191   191   024    -    344 (Average 344)</span><br><span class="line">  4 Start_Stop_Count        -O--C-   100   100   000    -    33</span><br><span class="line">  5 Reallocated_Sector_Ct   PO--CK   100   100   005    -    0</span><br><span class="line">  7 Seek_Error_Rate         -O-R--   100   100   000    -    0</span><br><span class="line">  8 Seek_Time_Performance   --S---   128   128   000    -    18</span><br><span class="line">  9 Power_On_Hours          -O--C-   099   099   000    -    7599</span><br><span class="line"> 10 Spin_Retry_Count        -O--C-   100   100   000    -    0</span><br><span class="line"> 12 Power_Cycle_Count       -O--CK   100   100   000    -    33</span><br><span class="line"> 22 Helium_Level            PO---K   100   100   025    -    100</span><br><span class="line">192 Power-Off_Retract_Count -O--CK   100   100   000    -    547</span><br><span class="line">193 Load_Cycle_Count        -O--C-   100   100   000    -    547</span><br><span class="line">194 Temperature_Celsius     -O----   206   206   000    -    29 (Min/Max 24/32)</span><br><span class="line">196 Reallocated_Event_Count -O--CK   100   100   000    -    0</span><br><span class="line">197 Current_Pending_Sector  -O---K   100   100   000    -    0</span><br><span class="line">198 Offline_Uncorrectable   ---R--   100   100   000    -    0</span><br><span class="line">199 UDMA_CRC_Error_Count    -O-R--   200   200   000    -    0</span><br><span class="line">223 Load_Retry_Count        -O-R--   100   100   000    -    0</span><br><span class="line">241 Total_LBAs_Written      -O--C-   100   100   000    -    50732585533</span><br><span class="line">242 Total_LBAs_Read         -O--C-   100   100   000    -    26707853436</span><br><span class="line">                            ||||||_ K auto-keep</span><br><span class="line">                            |||||__ C event count</span><br><span class="line">                            ||||___ R error rate</span><br><span class="line">                            |||____ S speed/performance</span><br><span class="line">                            ||_____ O updated online</span><br><span class="line">                            |______ P prefailure warning</span><br><span class="line"></span><br><span class="line">General Purpose Log Directory Version 1</span><br><span class="line">SMART           Log Directory Version 1 [multi-sector log support]</span><br><span class="line">Address    Access  R/W   Size  Description</span><br><span class="line">0x00       GPL,SL  R/O      1  Log Directory</span><br><span class="line">0x01           SL  R/O      1  Summary SMART error log</span><br><span class="line">0x02           SL  R/O      1  Comprehensive SMART error log</span><br><span class="line">0x03       GPL     R/O      1  Ext. Comprehensive SMART error log</span><br><span class="line">0x04       GPL     R/O    256  Device Statistics log</span><br><span class="line">0x04       SL      R/O    255  Device Statistics log</span><br><span class="line">0x06           SL  R/O      1  SMART self-test log</span><br><span class="line">0x07       GPL     R/O      1  Extended self-test log</span><br><span class="line">0x08       GPL     R/O      2  Power Conditions log</span><br><span class="line">0x09           SL  R/W      1  Selective self-test log</span><br><span class="line">0x0c       GPL     R/O   5501  Pending Defects log</span><br><span class="line">0x10       GPL     R/O      1  NCQ Command Error log</span><br><span class="line">0x11       GPL     R/O      1  SATA Phy Event Counters log</span><br><span class="line">0x12       GPL     R/O      1  SATA NCQ Non-Data log</span><br><span class="line">0x13       GPL     R/O      1  SATA NCQ Send and Receive log</span><br><span class="line">0x21       GPL     R/O      1  Write stream error log</span><br><span class="line">0x22       GPL     R/O      1  Read stream error log</span><br><span class="line">0x24       GPL     R/O    256  Current Device Internal Status Data log</span><br><span class="line">0x25       GPL     R/O    256  Saved Device Internal Status Data log</span><br><span class="line">0x30       GPL,SL  R/O      9  IDENTIFY DEVICE data log</span><br><span class="line">0x80-0x9f  GPL,SL  R/W     16  Host vendor specific log</span><br><span class="line">0xdf       GPL,SL  VS       1  Device vendor specific log</span><br><span class="line">0xe0       GPL,SL  R/W      1  SCT Command/Status</span><br><span class="line">0xe1       GPL,SL  R/W      1  SCT Data Transfer</span><br><span class="line"></span><br><span class="line">SMART Extended Comprehensive Error Log Version: 1 (1 sectors)</span><br><span class="line">No Errors Logged</span><br><span class="line"></span><br><span class="line">SMART Extended Self-test Log Version: 1 (1 sectors)</span><br><span class="line">Num  Test_Description    Status                  Remaining  LifeTime(hours)  LBA_of_first_error</span><br><span class="line"># 1  Short offline       Interrupted (host reset)      80%      7288         -</span><br><span class="line"># 2  Short offline       Interrupted (host reset)      80%      5140         -</span><br><span class="line"># 3  Short offline       Interrupted (host reset)      80%      3438         -</span><br><span class="line"># 4  Short offline       Interrupted (host reset)      80%      3241         -</span><br><span class="line"># 5  Short offline       Interrupted (host reset)      80%      3196         -</span><br><span class="line"># 6  Short offline       Interrupted (host reset)      80%      3194         -</span><br><span class="line"># 7  Short offline       Interrupted (host reset)      80%      3102         -</span><br><span class="line"># 8  Short offline       Interrupted (host reset)      80%      3098         -</span><br><span class="line"># 9  Short offline       Interrupted (host reset)      80%      3080         -</span><br><span class="line">#10  Short offline       Interrupted (host reset)      80%      3080         -</span><br><span class="line">#11  Short offline       Interrupted (host reset)      80%      3080         -</span><br><span class="line">#12  Short offline       Interrupted (host reset)      80%      3080         -</span><br><span class="line">#13  Short offline       Interrupted (host reset)      80%      3079         -</span><br><span class="line">#14  Short offline       Interrupted (host reset)      80%      2574         -</span><br><span class="line">#15  Short offline       Interrupted (host reset)      80%      1013         -</span><br><span class="line">#16  Short offline       Interrupted (host reset)      70%      1011         -</span><br><span class="line">#17  Short offline       Interrupted (host reset)      70%       938         -</span><br><span class="line">#18  Short offline       Interrupted (host reset)      70%       814         -</span><br><span class="line">#19  Short offline       Interrupted (host reset)      70%       281         -</span><br><span class="line"></span><br><span class="line">SMART Selective self-test log data structure revision number 1</span><br><span class="line"> SPAN  MIN_LBA  MAX_LBA  CURRENT_TEST_STATUS</span><br><span class="line">    1        0        0  Not_testing</span><br><span class="line">    2        0        0  Not_testing</span><br><span class="line">    3        0        0  Not_testing</span><br><span class="line">    4        0        0  Not_testing</span><br><span class="line">    5        0        0  Not_testing</span><br><span class="line">Selective self-test flags (0x0):</span><br><span class="line">  After scanning selected spans, do NOT read-scan remainder of disk.</span><br><span class="line">If Selective self-test is pending on power-up, resume after 0 minute delay.</span><br><span class="line"></span><br><span class="line">SCT Status Version:                  3</span><br><span class="line">SCT Version (vendor specific):       256 (0x0100)</span><br><span class="line">SCT Support Level:                   0</span><br><span class="line">Device State:                        Active (0)</span><br><span class="line">Current Temperature:                    29 Celsius</span><br><span class="line">Power Cycle Min/Max Temperature:     28/30 Celsius</span><br><span class="line">Lifetime    Min/Max Temperature:     24/32 Celsius</span><br><span class="line">Under/Over Temperature Limit Count:   0/0</span><br><span class="line"></span><br><span class="line">SCT Temperature History Version:     2</span><br><span class="line">Temperature Sampling Period:         1 minute</span><br><span class="line">Temperature Logging Interval:        1 minute</span><br><span class="line">Min/Max recommended Temperature:      0/60 Celsius</span><br><span class="line">Min/Max Temperature Limit:           -40/70 Celsius</span><br><span class="line">Temperature History Size (Index):    128 (92)</span><br><span class="line">Index    Estimated Time   Temperature Celsius</span><br><span class="line">  93    2019-12-10 09:11    29  **********</span><br><span class="line"> ...    ..(126 skipped).    ..  **********</span><br><span class="line">  92    2019-12-10 11:18    29  **********</span><br><span class="line"></span><br><span class="line">SCT Error Recovery Control:</span><br><span class="line">           Read:     80 (8.0 seconds)</span><br><span class="line">          Write:     80 (8.0 seconds)</span><br><span class="line"></span><br><span class="line">Device Statistics (GP/SMART Log 0x04) not supported</span><br><span class="line"></span><br><span class="line">Pending Defects log (GP Log 0x0c)</span><br><span class="line">No Defects Logged</span><br><span class="line"></span><br><span class="line">SATA Phy Event Counters (GP Log 0x11)</span><br><span class="line">ID      Size     Value  Description</span><br><span class="line">0x0001  2            0  Command failed due to ICRC error</span><br><span class="line">0x0002  2            0  R_ERR response for data FIS</span><br><span class="line">0x0003  2            0  R_ERR response for device-to-host data FIS</span><br><span class="line">0x0004  2            0  R_ERR response for host-to-device data FIS</span><br><span class="line">0x0005  2            0  R_ERR response for non-data FIS</span><br><span class="line">0x0006  2            0  R_ERR response for device-to-host non-data FIS</span><br><span class="line">0x0007  2            0  R_ERR response for host-to-device non-data FIS</span><br><span class="line">0x0008  2            0  Device-to-host non-data FIS retries</span><br><span class="line">0x0009  2            0  Transition from drive PhyRdy to drive PhyNRdy</span><br><span class="line">0x000a  2            1  Device-to-host register FISes sent due to a COMRESET</span><br><span class="line">0x000b  2            0  CRC errors within host-to-device FIS</span><br><span class="line">0x000d  2            0  Non-CRC errors within host-to-device FIS</span><br><span class="line"></span><br><span class="line">#the others</span><br><span class="line">  1 Raw_Read_Error_Rate     0x0000   000   000   000    Old_age   Offline      -       0</span><br><span class="line">  2 Throughput_Performance  0x0000   000   000   000    Old_age   Offline      -       0</span><br><span class="line">  3 Spin_Up_Time            0x0000   000   000   000    Old_age   Offline      -       0</span><br><span class="line">  5 Later_Bad_Block         0x0013   100   100   001    Pre-fail  Always       -       0</span><br><span class="line">  7 Seek_Error_Rate         0x0000   000   000   000    Old_age   Offline      -       0</span><br><span class="line">  8 Seek_Time_Performance   0x0000   000   000   000    Old_age   Offline      -       0</span><br><span class="line">  9 Power_On_Hours          0x0002   038   000   000    Old_age   Always       -       28198</span><br><span class="line"> 10 Spin_Retry_Count        0x0000   000   000   000    Old_age   Offline      -       0</span><br><span class="line"> 12 Power_Cycle_Count       0x0002   030   000   000    Old_age   Always       -       30</span><br><span class="line">163 Total_Bad_Block_Count   0x0000   000   000   000    Old_age   Offline      -       9</span><br><span class="line">168 SATA_PHY_Error_Count    0x0000   000   000   000    Old_age   Offline      -       0</span><br><span class="line">169 Remaining_Lifetime_Perc 0x0000   078   000   000    Old_age   Offline      -       78</span><br><span class="line">175 Bad_Cluster_Table_Count 0x0000   000   000   000    Old_age   Offline      -       0</span><br><span class="line">192 Power-Off_Retract_Count 0x0000   000   000   000    Old_age   Offline      -       0</span><br><span class="line">194 Temperature_Celsius     0x0000   030   100   000    Old_age   Offline      -       30 (2 100 0 0 0)</span><br><span class="line">197 Current_Pending_Sector  0x0012   000   100   000    Old_age   Always       -       0</span><br><span class="line">225 Data_Log_Write_Count    0x0000   000   049   000    Old_age   Offline      -       14459689</span><br><span class="line">240 Write_Head              0x0000   000   000   000    Old_age   Offline      -       0</span><br><span class="line">165 Max_Erase_Count         0x0002   231   001   000    Old_age   Always       -       743</span><br><span class="line">167 Average_Erase_Count     0x0002   127   001   000    Old_age   Always       -       639</span><br><span class="line">170 Spare_Block_Count       0x0003   100   001   000    Pre-fail  Always       -       147</span><br><span class="line">171 Program_Fail_Count      0x0002   000   001   000    Old_age   Always       -       0</span><br><span class="line">172 Erase_Fail_Count        0x0002   000   001   000    Old_age   Always       -       0</span><br><span class="line">176 RANGE_RECORD_Count      0x0000   100   001   000    Old_age   Offline      -       0</span><br><span class="line">187 Reported_Uncorrect      0x0002   000   001   000    Old_age   Always       -       0</span><br><span class="line">229 Flash_ID                0x0002   100   001   000    Old_age   Always       -       0xd17693943a98</span><br><span class="line">232 Spares_Remaining_Perc   0x0003   100   001   000    Pre-fail  Always       -       0</span><br><span class="line">235 Later_Bad_Blk_Inf_R/W/E 0x0002   000   000   000    Old_age   Always       -       0 0 0</span><br><span class="line">241 Host_Writes_32MiB       0x0002   100   001   000    Old_age   Always       -       56483</span><br><span class="line">242 Host_Reads_32MiB        0x0002   100   001   000    Old_age   Always       -       48869</span><br><span class="line"></span><br><span class="line">ID# ATTRIBUTE_NAME          FLAG     VALUE WORST THRESH TYPE      UPDATED  WHEN_FAILED RAW_VALUE</span><br><span class="line">  5 Reallocated_Sector_Ct   0x0032   100   100   000    Old_age   Always       -       0</span><br><span class="line">  9 Power_On_Hours          0x0032   100   100   000    Old_age   Always       -       19813</span><br><span class="line"> 12 Power_Cycle_Count       0x0032   100   100   000    Old_age   Always       -       21</span><br><span class="line">170 Available_Reservd_Space 0x0033   100   100   010    Pre-fail  Always       -       0</span><br><span class="line">171 Program_Fail_Count      0x0032   100   100   000    Old_age   Always       -       0</span><br><span class="line">172 Erase_Fail_Count        0x0032   100   100   000    Old_age   Always       -       0</span><br><span class="line">174 Unsafe_Shutdown_Count   0x0032   100   100   000    Old_age   Always       -       20</span><br><span class="line">175 Power_Loss_Cap_Test     0x0033   100   100   010    Pre-fail  Always       -       2345 (21 65535)</span><br><span class="line">183 SATA_Downshift_Count    0x0032   100   100   000    Old_age   Always       -       0</span><br><span class="line">184 End-to-End_Error_Count  0x0033   100   100   090    Pre-fail  Always       -       0</span><br><span class="line">187 Uncorrectable_Error_Cnt 0x0032   100   100   000    Old_age   Always       -       0</span><br><span class="line">190 Drive_Temperature       0x0022   078   077   000    Old_age   Always       -       22 (Min/Max 21/27)</span><br><span class="line">192 Unsafe_Shutdown_Count   0x0032   100   100   000    Old_age   Always       -       20</span><br><span class="line">194 Temperature_Celsius     0x0022   100   100   000    Old_age   Always       -       22</span><br><span class="line">197 Pending_Sector_Count    0x0012   100   100   000    Old_age   Always       -       0</span><br><span class="line">199 CRC_Error_Count         0x003e   100   100   000    Old_age   Always       -       0</span><br><span class="line">225 Host_Writes_32MiB       0x0032   100   100   000    Old_age   Always       -       330984</span><br><span class="line">226 Workld_Media_Wear_Indic 0x0032   100   100   000    Old_age   Always       -       68688</span><br><span class="line">227 Workld_Host_Reads_Perc  0x0032   100   100   000    Old_age   Always       -       72</span><br><span class="line">228 Workload_Minutes        0x0032   100   100   000    Old_age   Always       -       1188704</span><br><span class="line">232 Available_Reservd_Space 0x0033   100   100   010    Pre-fail  Always       -       0</span><br><span class="line">233 Media_Wearout_Indicator 0x0032   097   097   000    Old_age   Always       -       0</span><br><span class="line">234 Thermal_Throttle_Status 0x0032   100   100   000    Old_age   Always       -       0/0</span><br><span class="line">235 Power_Loss_Cap_Test     0x0033   100   100   010    Pre-fail  Always       -       2345 (21 65535)</span><br><span class="line">241 Host_Writes_32MiB       0x0032   100   100   000    Old_age   Always       -       330984</span><br><span class="line">242 Host_Reads_32MiB        0x0032   100   100   000    Old_age   Always       -       851598</span><br><span class="line">243 NAND_Writes_32MiB       0x0032   100   100   000    Old_age   Always       -       3091378</span><br><span class="line"></span><br><span class="line">The 232 Available_Reservd_Space in some SATA device could be work, it &#x27;s not zero, and The 163 Total_Bad_Block_Count will work with 232 and remap the bad block in the device.</span><br><span class="line">And the 170 is the spare block</span><br><span class="line"></span><br><span class="line">#Just different name, they are the SSD life</span><br><span class="line">233 Media_Wearout_Indicator 0x0032   100   100   000    Old_age   Always       -       0      #new device</span><br><span class="line">233 Media_Wearout_Indicator 0x0032   100   100   000    Old_age   Always       -       248329 #good device</span><br><span class="line">233 Media_Wearout_Indicator 0x0032   001   001   000    Old_age   Always       -       0      #bad device</span><br><span class="line">                                      |</span><br><span class="line">                                      -----------from high value to 1, Once the normalized value reaches 1, the number will not decrease</span><br><span class="line">Remaining_Lifetime_Perc</span><br><span class="line">Wear_Leveling_Count</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">232 Available_Reservd_Space 0x0033   100   100   010    Pre-fail  Always       -       0  # good device</span><br><span class="line">232 Available_Reservd_Space 0x0000   100   100   000    Old_age   Offline      -       96 # good device</span><br><span class="line">232 Spares_Remaining_Perc   0x0003   100   001   000    Pre-fail  Always       -       0  # bad device</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">#### Linux scsi log level</span><br><span class="line">[A useful setting of the logging level without being buried in logging details is ERROR=3, SCAN=3, MLQUEUE=2, MLCOMPLETE=2, which evaluates to echo 9411 &gt; /proc/sys/dev/scsi/logging_level](https://en.opensuse.org/SDB:SCSI_debugging_hints)</span><br><span class="line"></span><br><span class="line">means 111(7) is the maximum value</span><br><span class="line"></span><br><span class="line">```</span><br><span class="line">scsi_logging_level -g</span><br><span class="line">Current scsi logging level:</span><br><span class="line">/proc/sys/dev/scsi/logging_level = 9411 (10,010,011,000,011)</span><br><span class="line">SCSI_LOG_ERROR=3</span><br><span class="line">SCSI_LOG_TIMEOUT=0</span><br><span class="line">SCSI_LOG_SCAN=3</span><br><span class="line">SCSI_LOG_MLQUEUE=2</span><br><span class="line">SCSI_LOG_MLCOMPLETE=2</span><br><span class="line">SCSI_LOG_LLQUEUE=0</span><br><span class="line">SCSI_LOG_LLCOMPLETE=0</span><br><span class="line">SCSI_LOG_HLQUEUE=0</span><br><span class="line">SCSI_LOG_HLCOMPLETE=0</span><br><span class="line">SCSI_LOG_IOCTL=0</span><br><span class="line"></span><br><span class="line">$ scsi_logging_level -s --error 3 --timeout 3 --scan=3 --mlqueue=2 --mlcomplete=3 --all 0</span><br><span class="line">New scsi logging level:</span><br><span class="line">/proc/sys/dev/scsi/logging_level = 13531(011,010,011,011,011)</span><br><span class="line">SCSI_LOG_ERROR=3</span><br><span class="line">SCSI_LOG_TIMEOUT=3</span><br><span class="line">SCSI_LOG_SCAN=3</span><br><span class="line">SCSI_LOG_MLQUEUE=2</span><br><span class="line">SCSI_LOG_MLCOMPLETE=3</span><br><span class="line">SCSI_LOG_LLQUEUE=0</span><br><span class="line">SCSI_LOG_LLCOMPLETE=0</span><br><span class="line">SCSI_LOG_HLQUEUE=0</span><br><span class="line">SCSI_LOG_HLCOMPLETE=0</span><br><span class="line">SCSI_LOG_IOCTL=0</span><br><span class="line">https://www.ibm.com/support/knowledgecenter/en/linuxonibm/com.ibm.linux.z.lgdd/lgdd_r_scsilog_cmd.html</span><br><span class="line"></span><br><span class="line">scsi debug</span><br><span class="line">scsi_logging_level syntax</span><br><span class="line">Read syntax diagramSkip visual syntax diagram</span><br><span class="line">                       .- ---------------------------.</span><br><span class="line">                       V                             |</span><br><span class="line">&gt;&gt;-scsi_logging_level----+-------------------------+-+--+- -s -+-&gt;&lt;</span><br><span class="line">                         +- -a-- &lt;level&gt;-----------+    +- -g -+</span><br><span class="line">                         +- -E-- &lt;level&gt;-----------+    &#x27;- -c -&#x27;</span><br><span class="line">                         +- -T-- &lt;level&gt;-----------+</span><br><span class="line">                         +- -S-- &lt;level&gt;-----------+</span><br><span class="line">                         +- -M-- &lt;level&gt;-----------+</span><br><span class="line">                         +- --mlqueue-- &lt;level&gt;----+</span><br><span class="line">                         +- --mlcomplete-- &lt;level&gt;-+</span><br><span class="line">                         +- -L-- &lt;level&gt;-----------+</span><br><span class="line">                         +- --llqueue-- &lt;level&gt;----+</span><br><span class="line">                         +- --llcomplete-- &lt;level&gt;-+</span><br><span class="line">                         +- -H-- &lt;level&gt;-----------+</span><br><span class="line">                         +- --hlqueue-- &lt;level&gt;----+</span><br><span class="line">                         +- --hlcomplete-- &lt;level&gt;-+</span><br><span class="line">                         &#x27;- -I-- &lt;level&gt;-----------&#x27;</span><br><span class="line"></span><br><span class="line">```</span><br><span class="line">   </span><br><span class="line">Error types  </span><br><span class="line">```bash</span><br><span class="line">drivers/scsi/scsi_logging.h</span><br><span class="line"></span><br><span class="line">ERROR</span><br><span class="line">Used by any command which has to be retried/recovered via the SCSI error handling mechanism</span><br><span class="line"></span><br><span class="line">TIMEOUT</span><br><span class="line">Used by drivers/scsi/sg.c</span><br><span class="line"></span><br><span class="line">SCAN</span><br><span class="line">Used during device scan, ie whenever a new device HBA is initialized</span><br><span class="line"></span><br><span class="line">MLQUEUE</span><br><span class="line">Mid-layer queue; requests are being pulled from the block-layer queue and submitted to the HBA</span><br><span class="line"></span><br><span class="line">MLCOMPLETE</span><br><span class="line">Mid-layer queue; requests are being completed by the HBA and results are being pushed back to the block-layer</span><br><span class="line"></span><br><span class="line">LLQUEUE</span><br><span class="line">Low-layer queue; Not used</span><br><span class="line">LLCOMPLETE</span><br><span class="line">Low-layer queue; Not used</span><br><span class="line"></span><br><span class="line">HLQUEUE</span><br><span class="line">High-layer queue; command preparation in drivers/scsi/sd.c</span><br><span class="line"></span><br><span class="line">HLCOMPLETE</span><br><span class="line">High-layer queue; command completion in drivers/scsi/sd.c</span><br><span class="line"></span><br><span class="line">IOCTL</span><br><span class="line">SCSI IOCTL logging</span><br><span class="line">The detailed error level description</span><br><span class="line"></span><br><span class="line">ERROR</span><br><span class="line">Error logging when a command is recovered via the SCSI error handling mechanism. The following levels are uses:</span><br><span class="line">Error handler thread statistics</span><br><span class="line">Error handler command statistics</span><br><span class="line">Error handler command logging</span><br><span class="line">Not used</span><br><span class="line">Error handler command details</span><br><span class="line">and higher: not used</span><br><span class="line"></span><br><span class="line">SCAN</span><br><span class="line">Logging during HBA / target scanning. The following levels are used:</span><br><span class="line">Logging of unusual devices where LUN 0 has a pqual of 3</span><br><span class="line">Logging of devices with pqual 3</span><br><span class="line">Logging of SCSI commands sent during scanning</span><br><span class="line">and higher: not used.</span><br><span class="line"></span><br><span class="line">MLQUEUE</span><br><span class="line">The MLQUEUE area is used when a command is being pulled from the block-layer queue and send to the HBA. It has the following levels:</span><br><span class="line">nothing (match completion)</span><br><span class="line">log opcode + command of all commands</span><br><span class="line">same as 2 plus dump cmd address</span><br><span class="line">same as 3 plus dump extra junk</span><br><span class="line">and higher: not used</span><br><span class="line"></span><br><span class="line">MLCOMPLETE</span><br><span class="line">Logging of command completion from the HBA, before the completion is being called for the block-layer request. It has the following levels:</span><br><span class="line">log disposition, result, opcode + command, and conditionally sense data for failures or non SUCCESS dispositions.</span><br><span class="line">same as 1 but for all command completions.</span><br><span class="line">same as 2 plus dump cmd address</span><br><span class="line">same as 3 plus dump extra junk</span><br><span class="line">and higher: not used</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">[error code](https://access.redhat.com/solutions/33097)</span><br><span class="line"> 32 bit number = driver_byte &lt;&lt; 24 | host_byte &lt;&lt; 16 | msg_byte &lt;&lt; 8 | status_byte</span><br><span class="line">```bash</span><br><span class="line">Sense Key</span><br><span class="line">0h           NO SENSE.</span><br><span class="line">0x01    Recovered error - indicates that the last  command completed  successfully  with some recovery action performed by the drive.</span><br><span class="line">0x02    Not ready - indicates that the logical  unit  that was addressed could not be accessed.</span><br><span class="line">0x03    Medium error - indicates  that  the  command  terminated  with  a  nonrecoverable  error condition, which was probably caused by a flaw in the medium or by an error in the recorded data.</span><br><span class="line">0x04    Hardware error - indicates that the drive detected a nonrecoverable hardware failure while performing the command or during a self test.  Such failures include  a  SCSI  interface  parity  error, a controller failure, a device failure, and so on.</span><br><span class="line">0x05    Illegal request - indicates that an illegal parameter  in  the  command  descriptor block or in the additional parameters was  supplied  as  data for some commands.</span><br><span class="line">0x06    Unit attention - indicates that the drive may have been reset.</span><br><span class="line">0x07    Data protect - indicates that a read or write  was attempted  on  a block that is protected from this operation.</span><br><span class="line">0x08    Blank check - indicates that a tape device encountered a blank medium or format-defined end-of-data indication while reading.</span><br><span class="line">0x0B    Aborted command - indicates that the drive aborted the command.</span><br><span class="line">0x0D    Volume overflow  -  indicates  that  the  buffered peripheral  device  has  reached  the  end  of the medium, but the buffer contains data that has  not been written to the medium.</span><br><span class="line">0x0E    Miscompare - indicates that the  source  data  did not match the data read from the medium.</span><br><span class="line">#linux-3.10.0-1127.el7/drivers/scsi/constants.c</span><br><span class="line">static const char * cdb_byte0_names[] = &#123;</span><br><span class="line">/* 00-03 */ &quot;Test Unit Ready&quot;, &quot;Rezero Unit/Rewind&quot;, NULL, &quot;Request Sense&quot;,</span><br><span class="line">/* 04-07 */ &quot;Format Unit/Medium&quot;, &quot;Read Block Limits&quot;, NULL,</span><br><span class="line">            &quot;Reassign Blocks&quot;,</span><br><span class="line">/* 08-0d */ &quot;Read(6)&quot;, NULL, &quot;Write(6)&quot;, &quot;Seek(6)&quot;, NULL, NULL,</span><br><span class="line">/* 0e-12 */ NULL, &quot;Read Reverse&quot;, &quot;Write Filemarks&quot;, &quot;Space&quot;, &quot;Inquiry&quot;,</span><br><span class="line">/* 13-16 */ &quot;Verify(6)&quot;, &quot;Recover Buffered Data&quot;, &quot;Mode Select(6)&quot;,</span><br><span class="line">            &quot;Reserve(6)&quot;,</span><br><span class="line">/* 17-1a */ &quot;Release(6)&quot;, &quot;Copy&quot;, &quot;Erase&quot;, &quot;Mode Sense(6)&quot;,</span><br><span class="line">/* 1b-1d */ &quot;Start/Stop Unit&quot;, &quot;Receive Diagnostic&quot;, &quot;Send Diagnostic&quot;,</span><br><span class="line">/* 1e-1f */ &quot;Prevent/Allow Medium Removal&quot;, NULL,</span><br><span class="line"></span><br><span class="line">May 31 12:20:23 host kernel: sd 6:0:0:1: SCSI error: return code = 0x08000002</span><br><span class="line">May 31 12:20:23 host kernel: Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE,SUGGEST_OK</span><br><span class="line">May 31 12:20:23 host kernel: sdd: Current: sense key: Illegal Request</span><br><span class="line">May 31 12:20:23 host kernel:     &lt;&lt;vendor&gt;&gt; ASC=0x94 ASCQ=0x1ASC=0x94 ASCQ=0x1</span><br><span class="line"></span><br><span class="line">May 31 12:20:23 host kernel: st3: Sense Key : Hardware Error [current]</span><br><span class="line">May 31 12:20:23 host kernel: st3: ASC=0x26 &lt;&lt;vendor&gt;&gt; ASCQ=0x81</span><br><span class="line"></span><br><span class="line">SCSI error: return code = 0x08000002 with &quot;&lt;&lt;vendor&gt;&gt; ASC=0xc0 ASCQ=0x0</span><br><span class="line">SCSI error: return code = 0x08000002 with &quot;&lt;&lt;vendor&gt;&gt; ASC=0x95 ASCQ=0x50</span><br><span class="line"></span><br><span class="line">SCSI error: return code = 0x08000002</span><br><span class="line">                                  02   status byte : SAM_STAT_CHECK_CONDITION - check returned sense data, esp. ASC/ASCQ</span><br><span class="line">                                00        msg byte : &lt;&#123;likely&#125; not valid, see other fields&gt;</span><br><span class="line">                              00         host byte : &lt;&#123;likely&#125; not valid, see other fields&gt;</span><br><span class="line">                            08         driver byte : DRIVER_SENSE &#123;scsi sense buffer available from target&#125;</span><br><span class="line"></span><br><span class="line">Sense Buffer Layout (Fixed Format)</span><br><span class="line"></span><br><span class="line">        bit→</span><br><span class="line">↓byte       7        6         5         4         3         2         1         0</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  0    |Valid   |                  Response Code&lt;7&gt;                                   |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  1    |                         Segment number&lt;8&gt; (obsolete)                         |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  2    |Filemark|   EOM   |   ILI   | Reserved|           Sense Key&lt;4&gt;                |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  3    |                           Information                                        |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  4    |                           Information                                        |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  5    |                           Information                                        |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  6    |                           Information                                        |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  7    |                    Additional sense length (n-7)                             |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  8    |                   Command-specific information                               |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  9    |                   Command-specific information                               |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line"> 10    |                   Command-specific information                               |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line"> 11    |                   Command-specific information                               |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line"> 12    |                   Additional sense code (ASC)                                |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line"> 13    |                   Additional sense code qualifier (ASCQ)                     |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line"> 14    |                   FRU - Field replaceable unit code                          |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line"> 15    |  SKSV  |          Sense-key specific                                         |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line"> 16    |                   Sense-key specific                                         |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line"> 17    |                   Sense-key specific                                         |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line"> 18    |                   Additional sense bytes (variable number of bytes)          |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line"> 19    |                   Additional sense bytes (variable number of bytes)          |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">       :                                                                              :</span><br><span class="line">       .                                                                              .</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line"> 255   |                   Additional sense bytes (variable number of bytes)          |</span><br><span class="line">       +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line"></span><br><span class="line">### linux-3.10.0-1127.el7/include/scsi/scsi.h</span><br><span class="line">/*</span><br><span class="line"> *      SCSI opcodes</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">#define TEST_UNIT_READY       0x00</span><br><span class="line">#define REZERO_UNIT           0x01</span><br><span class="line">#define REQUEST_SENSE         0x03</span><br><span class="line">#define FORMAT_UNIT           0x04</span><br><span class="line">#define READ_BLOCK_LIMITS     0x05</span><br><span class="line">#define REASSIGN_BLOCKS       0x07</span><br><span class="line">#define INITIALIZE_ELEMENT_STATUS 0x07</span><br><span class="line">#define READ_6                0x08</span><br><span class="line">....</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">#### [T10 PI practice](https://www.snia.org/sites/default/files/SDCEMEA/2020/3%20-%20Mikhail%20Malygin%20Yadro%20-%20Using%20Linux%20block%20integrity.pdf)</span><br><span class="line">mpt3sas driver set module parameter &quot;prot_mask=0x7F&quot; to enable DIX support</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">$ sg_vpd --page=ei --long /dev/sda |grep SPT # Does the device support DIF</span><br><span class="line">$ sg_format --format --size 520  /dev/sdX # HUS724030ALS640 support</span><br><span class="line">#type 3</span><br><span class="line">$ sg_format -v --long --format --size=512 --fmtpinfo=3 --pfu=0 /dev/sdX #  HUH721010AL5200 support ,4K or 512B could work</span><br><span class="line">$ sg_format --format --fmtpinfo=3 --pfu=1 /dev/sdX # HUH721010AL5200 not support</span><br><span class="line"></span><br><span class="line">#type 1</span><br><span class="line">$ sg_format --format --size 4096 --fmtpinfo=2 -vvv /dev/sdX # HUH721010AL5200 support</span><br><span class="line">open /dev/sdl with flags=0x802</span><br><span class="line">    inquiry cdb: 12 00 00 00 24 00</span><br><span class="line">    SEAGATE   ST800FM0043       0007   peripheral_type: disk [0x0]</span><br><span class="line">      PROTECT=1</span><br><span class="line">      &lt;&lt; supports protection information&gt;&gt;</span><br><span class="line">    inquiry cdb: 12 01 00 00 24 00</span><br><span class="line">    inquiry: pass-through requested 36 bytes (data-in) but got 21 bytes</span><br><span class="line">    inquiry cdb: 12 01 80 01 00 00</span><br><span class="line">    inquiry: pass-through requested 256 bytes (data-in) but got 24 bytes</span><br><span class="line">      Unit serial number: Z3G01AQM0000Z3G01AQM</span><br><span class="line">    inquiry cdb: 12 01 83 01 00 00</span><br><span class="line">    inquiry: pass-through requested 256 bytes (data-in) but got 76 bytes</span><br><span class="line">      LU name: 5000c5003015b5b7</span><br><span class="line">    mode sense(10) cdb: 5a 00 01 00 00 00 00 00 fc 00</span><br><span class="line">      duration=1 ms</span><br><span class="line">    mode sense(10): pass-through requested 252 bytes (data-in) but got 28 bytes</span><br><span class="line">    mode sense(10): response:</span><br><span class="line">00 1a 00 10 00 00 00 08  0b a4 d9 d6 00 00 10 00</span><br><span class="line">81 0a c0 01 5a 00 00 00  0b 00 ff ff</span><br><span class="line">Mode Sense (block descriptor) data, prior to changes:</span><br><span class="line">  Number of blocks=195353046 [0xba4d9d6]</span><br><span class="line">  Block size=4096 [0x1000]</span><br><span class="line"></span><br><span class="line">A FORMAT UNIT will commence in 15 seconds</span><br><span class="line">    ALL data on /dev/sdl will be DESTROYED</span><br><span class="line">        Press control-C to abort</span><br><span class="line"></span><br><span class="line">A FORMAT UNIT will commence in 10 seconds</span><br><span class="line">    ALL data on /dev/sdl will be DESTROYED</span><br><span class="line">        Press control-C to abort</span><br><span class="line"></span><br><span class="line">A FORMAT UNIT will commence in 5 seconds</span><br><span class="line">    ALL data on /dev/sdl will be DESTROYED</span><br><span class="line">        Press control-C to abort</span><br><span class="line">    Format unit cdb: 04 98 00 00 00 00</span><br><span class="line">    Format unit parameter list:</span><br><span class="line">00 02 00 00</span><br><span class="line">    Format unit timeout: 20 seconds</span><br><span class="line">      duration=22 ms</span><br><span class="line"></span><br><span class="line">Format unit has started</span><br><span class="line">    test unit ready cdb: 00 00 00 00 00 00</span><br><span class="line">FORMAT UNIT Complete</span><br><span class="line"></span><br><span class="line">still no integrity on block level:</span><br><span class="line">/sys/block/sda/integrity/device_is_integrity_capable -&gt; 0</span><br><span class="line">/sys/block/sda/integrity/tag_size -&gt; 0</span><br><span class="line"></span><br><span class="line">$ cat /sys/block/sdl/integrity/device_is_integrity_capable  /sys/block/sdl/integrity/tag_size</span><br><span class="line">0</span><br><span class="line">0</span><br><span class="line"></span><br><span class="line"># Protection: prot_en=1, p_type=0, p_i_exponent=0 [type 1 protection]</span><br><span class="line">$ sg_readcap -v --long /dev/sdl</span><br><span class="line">    read capacity(16) cdb: 9e 10 00 00 00 00 00 00 00 00 00 00 00 20 00 00</span><br><span class="line">Read Capacity results:</span><br><span class="line">   Protection: prot_en=1, p_type=0, p_i_exponent=0 [type 1 protection]</span><br><span class="line">   Logical block provisioning: lbpme=1, lbprz=1</span><br><span class="line">   Last LBA=195353045 (0xba4d9d5), Number of logical blocks=195353046</span><br><span class="line">   Logical block length=4096 bytes</span><br><span class="line">   Logical blocks per physical block exponent=0</span><br><span class="line">   Lowest aligned LBA=0</span><br><span class="line">Hence:</span><br><span class="line">   Device size: 800166076416 bytes, 763097.8 MiB, 800.17 GB</span><br><span class="line"></span><br><span class="line">$ cat /etc/modprobe.d/mpt3sas.conf</span><br><span class="line">options mpt3sas prot_mask=63</span><br><span class="line"></span><br><span class="line">$ reboot # for reload prot_mask parameter</span><br><span class="line">$ sg_wr_mode -v -p 0a -c 00,00,00,00,00,80,00,00,00,00,00,00 -m 00,00,00,00,00,80,00,00,00,00,00,00 /dev/sdl</span><br><span class="line"></span><br><span class="line"># in my test env, it is not work, I think the HBA/Expander firmware do not support it, driver and firmware must be support it</span><br><span class="line">$ cat /sys/block/sdl/integrity/device_is_integrity_capable</span><br><span class="line">1</span><br><span class="line">$ cat /sys/block/sdl/integrity/tag_size</span><br><span class="line">2</span><br><span class="line">$ cat /sys/block/sdl/integrity/format</span><br><span class="line">T10-DIF-TYPE1-CRC</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">##### About dell PERC 9</span><br><span class="line">In Dell document, T10 protection information is an end-to-end data integrity feature of the PERC 9 series.</span><br><span class="line">Only dell certified PI disks are supported</span><br><span class="line">Note: pi is not supported on SAS disks with 512-byte native and 512-byte emulated block size and SATA disks</span><br><span class="line"></span><br><span class="line">Enabling T10 Pi</span><br><span class="line">ctrl + R to access the BIOS configuration utility</span><br><span class="line">     the virtual disk management</span><br><span class="line">         selected controller</span><br><span class="line">            Use the arrow keys to highlight the PERC 9 series of cards or disk group</span><br><span class="line">                Note: The H330 PERC card does not support T10 PI feature</span><br><span class="line">                   press F2, list of available actionsis displayed</span><br><span class="line">                     Click Enable data protection</span><br><span class="line"></span><br><span class="line">#### [smart](https://superuser.com/questions/618736/how-do-i-interpret-smart-data-for-sas-disks)</span><br><span class="line">Delayed errors are errors that slow down other requests.</span><br><span class="line">ECC corrected errors aren&#x27;t much of a worry on SCSI/SAS drives, we have drives deployed with hundreds of millions of them and they still run fine.</span><br><span class="line">Correction algorithm invocations is a bit more serious, those may require rereading/rewriting the disk, and retrying the ECC calculation.</span><br><span class="line"></span><br><span class="line">Here is the NLSAS HDD of 3 vendors</span><br><span class="line">```bash</span><br><span class="line"></span><br><span class="line">          Errors Corrected by           Total   Correction     Gigabytes    Total</span><br><span class="line">               ECC          rereads/    errors   algorithm      processed    uncorrected</span><br><span class="line">           fast | delayed   rewrites  corrected  invocations   [10^9 bytes]  errors</span><br><span class="line">read:   3326335261        5         0  3326335266          5     532421.405           0</span><br><span class="line">write:         0        0       190       190        190      36909.897           0</span><br><span class="line">verify: 24415684        0         0  24415684          0        101.569           0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">           Errors Corrected by           Total   Correction     Gigabytes    Total</span><br><span class="line">               ECC          rereads/    errors   algorithm      processed    uncorrected</span><br><span class="line">           fast | delayed   rewrites  corrected  invocations   [10^9 bytes]  errors</span><br><span class="line">read:          0        5         0         5    3916580     153952.932           0</span><br><span class="line">write:         0        3         0         3    2064697     127020.574           0</span><br><span class="line">verify:        0        0         0         0      78820          0.000           0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-----------------------toshiba 16T----------------------</span><br><span class="line">Error counter log:</span><br><span class="line">           Errors Corrected by           Total   Correction     Gigabytes    Total</span><br><span class="line">               ECC          rereads/    errors   algorithm      processed    uncorrected</span><br><span class="line">           fast | delayed   rewrites  corrected  invocations   [10^9 bytes]  errors</span><br><span class="line">read:          0        0         0         0          0      32833.276           0</span><br><span class="line">write:         0        0         0         0          0       9773.682           0</span><br><span class="line">verify:        0        0         0         0          0        100.002           0</span><br><span class="line"></span><br><span class="line">Non-medium error count:        0</span><br><span class="line"></span><br><span class="line">SMART Self-test log</span><br><span class="line">Num  Test              Status                 segment  LifeTime  LBA_first_err [SK ASC ASQ]</span><br><span class="line">     Description                              number   (hours)</span><br><span class="line"># 1  Reserved(7)       Completed                  80       3                 - [-   -    -]</span><br><span class="line"></span><br><span class="line">Long (extended) Self-test duration: 65535 seconds [1092.2 minutes]</span><br><span class="line">```</span><br><span class="line">When the uncorrected write failed, the OpenZFS will rewriteen to another area(test and make sure), the write not lost    </span><br><span class="line">The power loss will be reset the uncorrected counters to zero    </span><br><span class="line">And uncorrected area maybe recovery in the next time(the old bad area recovery or hot spare area)       </span><br><span class="line"></span><br><span class="line">[URE in vmware vsan](https://core.vmware.com/blog/improving-vsans-resilience-against-unrecovered-read-errors-devices)    </span><br><span class="line">Firstly, there is no change in how vSAN handles UREs encountered in the user data region. When data from one component of an object with a storage policy of Failures To Tolerate, or FTT, of 1 or more can’t be read due to a URE, then vSAN will read the data from the remaining healthy component(s) and rebuild the bad data block for the affected component. This is also when you would see the message “vSAN detected and fixed a medium or checksum error for component …” in the logs.   </span><br><span class="line">If a URE is encountered in the vSAN metadata region, vSAN will flag the affected disk as unhealthy and in need of data evacuation, or the entire disk group if deduplication and compression is enabled, or the affected device is used as the caching device for the disk group. vSAN then attempts to move all objects with a storage policy of FTT=0 to another disk group. If there are objects with a storage policy of FTT=1 or more and the last active, healthy component of such an object is on the affected disk or disk group, vSAN will attempt to move those to another disk group as well.    </span><br><span class="line"></span><br><span class="line">So you could understand not full situation under the URE.   </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">#### sdparm (sas)</span><br><span class="line">```bash</span><br><span class="line"># Flush the SAS dev buff</span><br><span class="line"># sync: send a SYNCHRONIZE CACHE SCSI command to the device.</span><br><span class="line">$ sdparm --command=sync /dev/sdxx</span><br><span class="line"></span><br><span class="line">#spindown the device</span><br><span class="line">$ sdparm --command=stop /dev/sdxx</span><br><span class="line"></span><br><span class="line">#spinup the device</span><br><span class="line">$ sdparm --command=start /dev/sdxx</span><br><span class="line"></span><br><span class="line">#sense: reports sense data (from a REQUEST SENSE SCSI command); can include power condition information, a progress indication for a time consuming command (e.g. format) or a report an informational exception (when MRIE=6)</span><br><span class="line">$ sdparm --command=sense /dev/sdx</span><br><span class="line">    /dev/sdb: SEAGATE   ST10000NM0256     TT55</span><br><span class="line">Additional sense: Warning - enclosure degraded</span><br><span class="line"></span><br><span class="line">#capacity: sends a READ CAPACITY and if successful reports the number of blocks, block length and capacity expressed in MibiBytes (1048576 bytes). Valid for disks and CD/DVD drives with the appropriate media loaded.</span><br><span class="line">$ sdparm --command=capacity /dev/sdb</span><br><span class="line">    /dev/sdb: SEAGATE   ST10000NM0256     TT55</span><br><span class="line">blocks: 19134414848</span><br><span class="line">block_length: 512</span><br><span class="line">capacity_mib: 9342976.0</span><br><span class="line"></span><br><span class="line">    eject: stops the medium (if it is spinning) and ejects it from the drive. Note that this may be prevented by software in which case use the &#x27;unlock&#x27; command first.</span><br><span class="line"></span><br><span class="line">    load: loads the medium and then spins it up</span><br><span class="line"></span><br><span class="line">    profile: lists the profiles (e.g. DVD+R and DVD-RAM) supported by a CD/DVD/HD_DVD/BD drive. If media is present in the drive then its corresponding profile has an asterisk (&quot;*&quot;) to its right in the list.</span><br><span class="line"></span><br><span class="line">    ready: reports whether the medium is ready for IO. Ready usually means that it is present and spun up. If the device is not ready then the exit status will be 2 (see exit status section below).</span><br><span class="line"></span><br><span class="line">    speed: takes and argument (e.g. --command=speed=1350 or -C sp=1350 ) which is in kilobytes per second (1000 bytes per second units). Attempts to set CD/DVD/BD media to given read speed. If argument is zero then set drive back to its optimum setting. &quot;Times one&quot; speeds are 177 kB/s for CD, 1350  kB/s for DVD and 4500 kB/s for HD-DVD and BD.</span><br><span class="line"></span><br><span class="line">    unlock: instructs the device to allow medium removal (i.e. an eject). Beware, the OS may have had a good reason for preventing removal of the medium (e.g. it contains a mounted file system). Use at your own risk.</span><br><span class="line">```</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">```bash</span><br><span class="line">```bash</span><br><span class="line">$ sdparm --enumerate /dev/sdb</span><br><span class="line">&lt;scsi_device&gt; as well as most options are ignored when &#x27;--enumerate&#x27; is given</span><br><span class="line">Mode pages:</span><br><span class="line">  addp 0x0e,0x02  DT device primary port (ADC)</span><br><span class="line">  adlu 0x0e,0x03  logical unit (ADC)</span><br><span class="line">  adtd 0x0e,0x01  Targer device (ADC)</span><br><span class="line">  adts 0x0e,0x04  Targer device serial number (ADC)</span><br><span class="line">  apo  0x1a,0xf1  SAT ATA Power condition</span><br><span class="line">  atag 0x0a,0x02  Application tag (SBC)</span><br><span class="line">  bc   0x1c,0x01  Background control (SBC)</span><br><span class="line">  ca   0x08       Caching (SBC)</span><br><span class="line">  cms  0x2a       CD/DVD (MM) capabilities and mechanical status (MMC)</span><br><span class="line">  co   0x0a       Control</span><br><span class="line">  coe  0x0a,0x01  Control extension</span><br><span class="line">  cdp  0x0a,0xf0  Control data protection (SSC)</span><br><span class="line">  dac  0x0f       Data compression (SSC)</span><br><span class="line">  dc   0x10       Device configuration (SSC)</span><br><span class="line">  dca  0x1f       Device capabilities (SMC)</span><br><span class="line">  dce  0x10,0x01  Device configuration extension (SSC)</span><br><span class="line">  dr   0x02       Disconnect-reconnect (SPC + transports)</span><br><span class="line">  eaa  0x1d       Element address assignment (SMC)</span><br><span class="line">  edc  0x1f,0x41  Extended device capabilities (SMC)</span><br><span class="line">  esm  0x14       Enclosure services management (SES)</span><br><span class="line">  fo   0x03       Format (SBC)</span><br><span class="line">  ie   0x1c       Informational exceptions control</span><br><span class="line">  lbp  0x1c,0x02  Logical block provisioning (SBC)</span><br><span class="line">  mco  0x1d       Medium configuration (SSC)</span><br><span class="line">  mpa  0x11       Medium partition (SSC)</span><br><span class="line">  mrw  0x03       Mount rainier reWritable (MMC)</span><br><span class="line">  pat  0x0a,0xf1  SAT pATA control</span><br><span class="line">  pl   0x18       Protocol specific logical unit</span><br><span class="line">  po   0x1a       Power condition</span><br><span class="line">  ps   0x1a,0x01  Power consumption</span><br><span class="line">  poo  0x0d       Power condition - old version</span><br><span class="line">  pp   0x19       Protocol specific port</span><br><span class="line">  rbc  0x06       RBC device parameters (RBC)</span><br><span class="line">  rd   0x04       Rigid disk (SBC)</span><br><span class="line">  rw   0x01       Read write error recovery</span><br><span class="line">  tgp  0x1e       Transport geometry parameters (SMC)</span><br><span class="line">  tp   0x1d       Timeout and protect (MMC)</span><br><span class="line">  ve   0x07       Verify error recovery (SBC)</span><br><span class="line">  wp   0x05       Write parameters (MMC)</span><br><span class="line">  xo   0x10       XOR control (SBC)</span><br><span class="line"></span><br><span class="line">$ sdparm --get WCE /dev/sdb</span><br><span class="line">    /dev/sdb: SEAGATE   ST10000NM0256     TT55</span><br><span class="line">WCE         0  [cha: y, def:  0, sav:  0]</span><br><span class="line"></span><br><span class="line">$ sdparm --enumerate --page=0x8 --long --long /dev/sda</span><br><span class="line">&lt;scsi_device&gt; as well as most options are ignored when &#x27;--enumerate&#x27; is given</span><br><span class="line">Caching (SBC) [ca: 0x8] [SBC-3] mode page:</span><br><span class="line">  IC         [0x02:7:1 ]  Initiator control</span><br><span class="line">        0: disk uses own adaptive caching algorithm</span><br><span class="line">        1: disk caching algorithm controlled by NCS or CCS</span><br><span class="line">  ABPF       [0x02:6:1 ]  Abort pre-fetch</span><br><span class="line">  CAP        [0x02:5:1 ]  Caching analysis permitted</span><br><span class="line">  DISC       [0x02:4:1 ]  Discontinuity</span><br><span class="line">        0: pre-fetch truncated or wrapped at time discontinuity</span><br><span class="line">        1: pre-fetch continues across time discontinuity</span><br><span class="line">  SIZE       [0x02:3:1 ]  Size enable</span><br><span class="line">        0: number of cache segments (NCS) controls cache segmentation</span><br><span class="line">        1: the cache segment size (CCS) controls cache segmentation</span><br><span class="line">  WCE        [0x02:2:1 ]  Write cache enable</span><br><span class="line">  MF         [0x02:1:1 ]  Multiplication factor</span><br><span class="line">        0: MIPF and MAPF specify blocks</span><br><span class="line">        1: multiply MIPF and MAPF by blocks in read command</span><br><span class="line">  RCD        [0x02:0:1 ]  Read cache disable</span><br><span class="line">  DRRP       [0x03:7:4 ]  Demand read retention priority</span><br><span class="line">        0: treat requested and other data equally</span><br><span class="line">        1: replace requested data before other data</span><br><span class="line">        15: replace other data before requested data</span><br><span class="line">  WRP        [0x03:3:4 ]  Write retention priority</span><br><span class="line">        0: treat requested and other data equally</span><br><span class="line">        1: replace requested data before other data</span><br><span class="line">        15: replace other data before requested data</span><br><span class="line">  DPTL       [0x04:7:16]  Disable pre-fetch transfer length</span><br><span class="line">  MIPF       [0x06:7:16]  Minimum pre-fetch</span><br><span class="line">  MAPF       [0x08:7:16]  Maximum pre-fetch</span><br><span class="line">  MAPFC      [0x0a:7:16]  Maximum pre-fetch ceiling</span><br><span class="line">  FSW        [0x0c:7:1 ]  Force sequential write</span><br><span class="line">  LBCSS      [0x0c:6:1 ]  Logical block cache segment size</span><br><span class="line">        0: CSS unit is bytes; 1: CSS unit is blocks</span><br><span class="line">  DRA        [0x0c:5:1 ]  Disable read ahead</span><br><span class="line">  SYNC_PROG  [0x0c:2:2 ]  Synchronous cache progress indication</span><br><span class="line">        0: no pollable sense data during sync</span><br><span class="line">        1: allow pollable sense data, allow all commands during sync</span><br><span class="line">        2: allow pollable sense data, allow some commands during sync</span><br><span class="line">  NV_DIS     [0x0c:0:1 ]  Non-volatile cache disable</span><br><span class="line">  NCS        [0x0d:7:8 ]  Number of cache segments</span><br><span class="line">  CSS        [0x0e:7:16]  Cache segment size</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">DRA (Disable READ-Ahead) bit</span><br><span class="line">0 When the DRA bit equals zero, the target may continue to read logical blocks into the buffer beyond the addressed</span><br><span class="line">logical block(s). means enable read-ahead</span><br><span class="line"></span><br><span class="line">RCD</span><br><span class="line"></span><br><span class="line">FSW (FORCE SEQUENTIAL WRITE) bit</span><br><span class="line">0 When the FSW bit equals zero, the target is allowed to reorder the sequence of writing addressed logical blocks in</span><br><span class="line">order to achieve a faster command completion.</span><br><span class="line"></span><br><span class="line">RCD (READ Cache Disable) bit</span><br><span class="line">0 SCSI READ commands may access the cache or the media.</span><br><span class="line"></span><br><span class="line">WCE (Write Cache Enable) bit</span><br><span class="line">1 SCSI WRITE commands may return status and completion message bytes as soon as all data has been received</span><br><span class="line">from the host</span><br><span class="line"></span><br><span class="line">ABPF (ABORT PREFETCH) bit</span><br><span class="line">0 When set to zero, with the DRA bit equal to zero, the termination of any active PREFETCH is dependent upon</span><br><span class="line">Caching Page bytes 4 through 11 and is operation and/or vendor-specific.</span><br><span class="line"></span><br><span class="line">DFUA (Disable Force Unit Access) bit</span><br><span class="line">1 When the Disable Force Unit Access (DFUA) bit is set to 1, the drive ignores the FUA bit in READ and WRITE com-</span><br><span class="line">mands. This can result in better drive performance in some circumstances.</span><br><span class="line">0 When the DFUA is set to 0, the drive obeys the FUA setting in READ and WRITE commands</span><br><span class="line"></span><br><span class="line">FUA - Force Unit Access</span><br><span class="line">FUA is a caching hint that indicates the data should be referenced directly from the media of the device. That is cache should be bypassed for this command.</span><br><span class="line"></span><br><span class="line">The Linux block layer provides two simple mechanisms that let filesystems control the caching behavior of the storage device. These mechanisms are a forced cache flush, and the Force Unit Access (FUA) flag for requests.</span><br><span class="line">The REQ_FUA flag can be OR ed into the r/w flags of a bio submitted from the filesystem and will make sure that I/O completion for this request is only signaled after the data has been committed to non-volatile storage.</span><br><span class="line"></span><br><span class="line">DPO - Disable Page Out</span><br><span class="line">DPO is a caching hint that indicates the data referenced by the command is not likely to be accessed again and therefore is not a good candidate to keep or maintain within cache.</span><br><span class="line"></span><br><span class="line">DPO (DISABLE PAGE OUT) bit</span><br><span class="line">If DPO = 1, the cache replacement algorithm should not replace existing cache data with the current data (if possible). If a</span><br><span class="line">cache segment must be overwritten, it should be made the LRU.</span><br><span class="line">FUA (FORCE UNIT ACCESS) bit(ATA/ATAPI-7 (since 2001, ANSI INCITS 397-2005), the same in T10 standard.</span><br><span class="line">READ: If FUA = 1, the requested data must be read from the media. If cache data which overlaps the request has not yet been written to the media, it should be written before the read is allowed to occur.</span><br><span class="line">WRITE: If FUA = 1, all data must be written to the media before the SCSI operation returns the status and completion message bytes( write through )</span><br><span class="line"></span><br><span class="line">Write Cache - Write Through</span><br><span class="line">While performing a write, a disk may store the data to be written temporarily in cache for staging writes to media. The write command will only indicate it has completed after all data has been written through the cache to the underlying disk media. This is called is write-through caching.</span><br><span class="line"></span><br><span class="line">$ sdparm -g WCE -H  /dev/sdb</span><br><span class="line">0x00 0x01 0x00 0x00</span><br><span class="line"></span><br><span class="line"># set it to default</span><br><span class="line">$ sdparm --page=ca --defaults --save /dev/sdd</span><br><span class="line"></span><br><span class="line"># the same</span><br><span class="line">$ sdparm --set=WCE --clear=RCD --save /dev/sdd</span><br><span class="line">$ sdparm -s WCE=1,RCD=0 -S /dev/sdd</span><br><span class="line"></span><br><span class="line"># set page value, not make sure</span><br><span class="line">$ sdparm --page=0 --hex /dev/sdd</span><br><span class="line">$ sdparm --page=0 --set=2:7:1=1 --save /dev/sdd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Mode Parameter Header</span><br><span class="line">         bit→</span><br><span class="line"> Byte        7        6         5         4         3         2         1         0</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  0     |                       Mode Data Length                                       |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  1     |                       Medium Type = 0 per specification for disks 6.5.1      |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  2     |   WP   |   Reserved        | DPOFUA  |      Reserved                         |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  3     |                       Block Descriptor Length = 8                            |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">Block Descriptor</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">   0    | (MSB)                                                                        |</span><br><span class="line">        +--------                                                              --------+</span><br><span class="line">        :                          Number of Logical Blocks                            :</span><br><span class="line">        +--------                                                              --------+</span><br><span class="line">   3    |                                                                        (LSB) |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">   4    |                                                                    |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">   5    | (MSB)                                                                        |</span><br><span class="line">        +--------                                                              --------+</span><br><span class="line">        :                             Logical Block Length                             :</span><br><span class="line">        +--------                                                              --------+</span><br><span class="line">   7    |                                                                        (LSB) |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">Caching mode page</span><br><span class="line"></span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">   0    |  PS    | SPF(0b) |                Page Code (08h)                            |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">   1    |                             Page Length (12h)                                |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">   2    |  IC    | ABPF    |  CAP    |  DISC   |  SIZE   |  WCE    |   MF    |   RCD   |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">   3    |   Demand Read Retension Priority     |      Write Retention Priority         |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">   4    | (MSB)                                                                        |</span><br><span class="line">        +--------            Disable Pre-fetch Transfer Length                 --------+</span><br><span class="line">   5    |                                                                        (LSB) |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">   6    | (MSB)                                                                        |</span><br><span class="line">        +--------            Minimum Pre-fetch                                 --------+</span><br><span class="line">   7    |                                                                        (LSB) |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">   8    | (MSB)                                                                        |</span><br><span class="line">        +--------            Maximum Pre-fetch                                 --------+</span><br><span class="line">   9    |                                                                        (LSB) |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  10    | (MSB)                                                                        |</span><br><span class="line">        +--------            Maximum Pre-fetch Ceiling                         --------+</span><br><span class="line">  11    |                                                                        (LSB) |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  12    |  FSW   | LBCSS   |  DRA    |  Vendor Specific  |  Sync_Prog        |  NV_DIS |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  13    |                    Number of Cache Segments                                  |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  14    | (MSB)                                                                        |</span><br><span class="line">        +--------            Cache Segment Size                                --------+</span><br><span class="line">  15    |                                                                        (LSB) |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  16    |                    Reserved                                                  |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">  17    |                                                                              |</span><br><span class="line">        +--------                                                              --------+</span><br><span class="line">  18    |                    Obsolete                                                  |</span><br><span class="line">        +--------                                                              --------+</span><br><span class="line">  19    |                                                                              |</span><br><span class="line">        +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ sg_modes -l</span><br><span class="line">    Assume peripheral device type: disk</span><br><span class="line">Page[,subpage]   Name</span><br><span class="line">=====================</span><br><span class="line"> 0x00            Unit Attention condition [vendor specific format]</span><br><span class="line"> 0x01            Read-Write error recovery</span><br><span class="line"> 0x02            Disconnect-Reconnect</span><br><span class="line"> 0x03            Format (obsolete)</span><br><span class="line"> 0x04            Rigid disk geometry (obsolete)</span><br><span class="line"> 0x05            Flexible geometry (obsolete)</span><br><span class="line"> 0x07            Verify error recovery</span><br><span class="line"> 0x08            Caching</span><br><span class="line"> 0x09            Peripheral device (obsolete)</span><br><span class="line"> 0x0a            Control</span><br><span class="line"> 0x0a,0x01       Control extension</span><br><span class="line"> 0x0a,0x02       Application tag</span><br><span class="line"> 0x0a,0xf1       Parallel ATA control (SAT)</span><br><span class="line"> 0x0a,0xf2       Reserved (SATA control) (SAT)</span><br><span class="line"> 0x0b            Medium types supported (obsolete)</span><br><span class="line"> 0x0c            Notch and partition (obsolete)</span><br><span class="line"> 0x0d            Power condition (obsolete, moved to 0x1a)</span><br><span class="line"> 0x10            XOR control</span><br><span class="line"> 0x15            Extended</span><br><span class="line"> 0x16            Extended device-type specific</span><br><span class="line"> 0x18            Protocol specific lu</span><br><span class="line"> 0x19            Protocol specific port</span><br><span class="line"> 0x1a            Power condition</span><br><span class="line"> 0x1a,0x01       Power consumption</span><br><span class="line"> 0x1a,0xf1       ATA Power condition</span><br><span class="line"> 0x1c            Informational exceptions control</span><br><span class="line"> 0x1c,0x01       Background control</span><br><span class="line"> 0x1c,0x02       Logical block provisioning</span><br><span class="line"> 0x3f            [yields all supported pages]</span><br><span class="line"> 0x3f,0xff       [yields all supported pages and subpages]</span><br><span class="line"></span><br><span class="line">$ sg_modes -e /dev/sdg</span><br><span class="line">    SEAGATE   ST6000NM0034      MS2A   peripheral_type: disk [0x0]</span><br><span class="line">Discovered mode pages:</span><br><span class="line">    Unit Attention condition [vendor specific format]</span><br><span class="line">    Read-Write error recovery</span><br><span class="line">    Disconnect-Reconnect</span><br><span class="line">    Format (obsolete)</span><br><span class="line">    Rigid disk geometry (obsolete)</span><br><span class="line">    Verify error recovery</span><br><span class="line">    Caching</span><br><span class="line">    Control</span><br><span class="line">    Protocol specific lu</span><br><span class="line">    Protocol specific port</span><br><span class="line">    Power condition</span><br><span class="line">    Informational exceptions control</span><br><span class="line">    [0x39]</span><br><span class="line">    [0x3a]</span><br><span class="line">    [0x3c]</span><br><span class="line"></span><br><span class="line">$ sg_modes -6 -vvvvvvv -p 0x8  /dev/sdg</span><br><span class="line">found bsg_major=248</span><br><span class="line">open /dev/sdg with flags=0x800</span><br><span class="line">    inquiry cdb: 12 00 00 00 24 00</span><br><span class="line">      duration=0 ms</span><br><span class="line">    SEAGATE   ST6000NM0034      MS2A   peripheral_type: disk [0x0]</span><br><span class="line">    mode sense (6) cdb: 1a 00 08 00 fc 00</span><br><span class="line">      duration=1 ms</span><br><span class="line">    mode sense (6): pass-through requested 252 bytes but got 32 bytes</span><br><span class="line">    mode sense (6): response</span><br><span class="line">        1f 00 10 08 ff ff ff ff  00 00 02 00 88 12 14 00</span><br><span class="line">        ff ff 00 00 ff ff ff ff  80 20 00 00 00 00 00 00</span><br><span class="line">Mode parameter header from MODE SENSE(6):</span><br><span class="line">  Mode data length=32, medium type=0x00, WP=0, DpoFua=1, longlba=0</span><br><span class="line">  Block descriptor length=8</span><br><span class="line">&gt; Direct access device block descriptors:</span><br><span class="line">   Density code=0x0</span><br><span class="line"> 00     ff ff ff ff 00 00 02 00</span><br><span class="line"></span><br><span class="line">&gt;&gt; Caching, page_control: current</span><br><span class="line"> 00     88 12 04 00 ff ff 00 00  ff ff ff ff 80 20 00 00</span><br><span class="line"> 10     00 00 00 00</span><br><span class="line">              ++</span><br><span class="line">              |</span><br><span class="line">              v</span><br><span class="line">       convert byte 2 from hex 14 to binary 0000.0100</span><br><span class="line">              |</span><br><span class="line">        +-----+--------------------------------------------------------------+</span><br><span class="line">        |                                                                    |</span><br><span class="line">        0        0         0         1    .    0         1         0         0</span><br><span class="line">    +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">    |  IC    | ABPF    |  CAP    |  DISC   |  SIZE   |  WCE    |   MF    |   RCD   |</span><br><span class="line">    +--------+---------+---------+---------+---------+---------+---------+---------+</span><br><span class="line">                                                         ^                    ^</span><br><span class="line">    WCE (bit 2)     set =                                |                    |</span><br><span class="line">    write cache enable is  on so is enabled -------------+                    |</span><br><span class="line">                                                                              |</span><br><span class="line">    RCD (bit 1) not set =                                                     |</span><br><span class="line">    read cache disable is off so is enabled (default is on/enabled) ----------+</span><br><span class="line"></span><br><span class="line">#the kernel log</span><br><span class="line">[sdb] Write cache: enabled, read cache: disabled, supports DPO and FUA</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">#### hdparm</span><br><span class="line">```bash</span><br><span class="line"># disable read-ahead</span><br><span class="line">$ sdparm --set DRA=1 /dev/sdx</span><br><span class="line">$ hdparm -A0 /dev/sdx</span><br><span class="line"></span><br><span class="line"># enable read-ahead</span><br><span class="line">$ sdparm --set DRA=0 /dev/sdx</span><br><span class="line">$ hdparm -A1 /dev/sdx</span><br><span class="line"></span><br><span class="line">#fetch the current device power state</span><br><span class="line">$ sdparm --comand=ready or --command=sense /dev/sdx</span><br><span class="line">$ hdparm -C /dev/sdx</span><br><span class="line"></span><br><span class="line">#sync</span><br><span class="line">$ sdparm --commnad=sync /dev/sdx</span><br><span class="line">$ hdparm -f /dev/sdx</span><br><span class="line"></span><br><span class="line"># INQUIRY response plus the &quot;device identification&quot; VPD page</span><br><span class="line">$ sdparm --inquiry /dev/sdx</span><br><span class="line">$ hdparm -I /dev/sdx</span><br><span class="line"></span><br><span class="line"># save</span><br><span class="line">$ sdparm --save /dev/sdx</span><br><span class="line">$ hdparm -K1 /dev/sdx</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">#### ATA T14</span><br><span class="line">```bash</span><br><span class="line">smartctl --identify  /dev/sdb</span><br><span class="line">smartctl 6.6 2017-11-05 r4594 [x86_64-linux-4.18.0-80.11.2.el8_0.x86_64] (local build)</span><br><span class="line">Copyright (C) 2002-17, Bruce Allen, Christian Franke, www.smartmontools.org</span><br><span class="line"></span><br><span class="line">=== ATA IDENTIFY DATA ===</span><br><span class="line">Word     Bit     Value   Description</span><br><span class="line"></span><br><span class="line">   0      -     0x045a   General configuration</span><br><span class="line">   0     14:8     0x04   Vendor specific [RET-3]</span><br><span class="line">   0      6          1   Not removable controller and/or device [OBS-6]</span><br><span class="line">   0      5:3      0x3   Vendor specific [RET-3]</span><br><span class="line">   0      1          1   Vendor specific [RET-3]</span><br><span class="line"></span><br><span class="line">   1      -     0x3fff   Cylinders [OBS-6]</span><br><span class="line"></span><br><span class="line">   2      -     0xc837   Specific configuration (0x37c8/738c/8c73/c837)</span><br><span class="line"></span><br><span class="line">   3      -     0x0010   Heads [OBS-6]</span><br><span class="line"></span><br><span class="line">   6      -     0x003f   Sectors per track [OBS-6]</span><br><span class="line"></span><br><span class="line">  10-19   -     .        Serial number (String)</span><br><span class="line">  10-13   .     0x2020:2020:2020:2020  &quot;        &quot;</span><br><span class="line">  14-17   .     0x2020:2020:3254:4b42  &quot;    2TKB&quot;</span><br><span class="line">  18-19   .     0x3645:4a44            &quot;6EJD&quot;</span><br><span class="line"></span><br><span class="line">  20      -     0x0003   Vendor specific [RET-3]</span><br><span class="line"></span><br><span class="line">  22      -     0x0038   Vendor specific bytes on READ/WRITE LONG [OBS-4]</span><br><span class="line"></span><br><span class="line">  23-26   -     .        Firmware revision (String)</span><br><span class="line">  23-26   .     0x4c48:4445:4c54:3134  &quot;LHDELT14&quot;</span><br><span class="line"></span><br><span class="line">  27-46   -     .        Model number (String)</span><br><span class="line">  27-30   .     0x4847:5354:2048:5548  &quot;HGST HUH&quot;</span><br><span class="line">  31-34   .     0x3732:3130:3130:414c  &quot;721010AL&quot;</span><br><span class="line">  35-38   .     0x4536:3030:2020:2020  &quot;E600    &quot;</span><br><span class="line">  39-42   .     0x2020:2020:2020:2020  &quot;        &quot;</span><br><span class="line">  43-46   .     0x2020:2020:2020:2020  &quot;        &quot;</span><br><span class="line"></span><br><span class="line">  47      -     0x8010   READ/WRITE MULTIPLE support</span><br><span class="line">  47     15:8     0x80   Must be set to 0x80</span><br><span class="line">  47      7:0     0x10   Maximum sectors per DRQ on READ/WRITE MULTIPLE</span><br><span class="line"></span><br><span class="line">  48      -     0x4000   Trusted Computing feature set options</span><br><span class="line">  48     15:14     0x1   Must be set to 0x1</span><br><span class="line"></span><br><span class="line">  49      -     0x2f00   Capabilities</span><br><span class="line">  49     13          1   Standard standby timer values supported</span><br><span class="line">  49     11          1   IORDY supported</span><br><span class="line">  49     10          1   IORDY may be disabled</span><br><span class="line">  49      9          1   LBA supported</span><br><span class="line">  49      8          1   DMA supported</span><br><span class="line"></span><br><span class="line">  50      -     0x4000   Capabilities</span><br><span class="line">  50     15:14     0x1   Must be set to 0x1</span><br><span class="line"></span><br><span class="line">  51      -     0x0200   PIO data transfer mode [OBS-5]</span><br><span class="line"></span><br><span class="line">  52      -     0x0200   Single Word DMA data transfer mode [OBS-3]</span><br><span class="line"></span><br><span class="line">  53      -     0x0007   Field validity / Free-fall Control</span><br><span class="line">  53      2          1   Word 88 (Ultra DMA modes) is valid</span><br><span class="line">  53      1          1   Words 64-70 (PIO modes) are valid</span><br><span class="line">  53      0          1   Words 54-58 (CHS) are valid [OBS-6]</span><br><span class="line"></span><br><span class="line">  54      -     0x3fff   Current cylinders [OBS-6]</span><br><span class="line"></span><br><span class="line">  55      -     0x0010   Current heads [OBS-6]</span><br><span class="line"></span><br><span class="line">  56      -     0x003f   Current sectors per track [OBS-6]</span><br><span class="line"></span><br><span class="line">  57-58   -     .        Current capacity in sectors (DWord) [OBS-6]</span><br><span class="line">  57-58   .     0xfc10:00fb  (16514064)</span><br><span class="line"></span><br><span class="line">  59      -     0x7100   Sanitize Device - READ/WRITE MULTIPLE support</span><br><span class="line">  59     14          1   OVERWRITE EXT supported</span><br><span class="line">  59     13          1   CRYPTO SCRAMBLE EXT supported</span><br><span class="line">  59     12          1   Sanitize Device feature set supported</span><br><span class="line">  59      8          1   Bits 7:0 are valid [OBS-ACS-4]</span><br><span class="line"></span><br><span class="line">  60-61   -     .        User addressable sectors for 28-bit commands (DWord)</span><br><span class="line">  60-61   .     0xffff:0fff  (268435455)</span><br><span class="line"></span><br><span class="line">  63      -     0x0007   Multiword DMA modes</span><br><span class="line">  63      2          1   Multiword DMA mode 2 and below supported</span><br><span class="line">  63      1          1   Multiword DMA mode 1 and below supported</span><br><span class="line">  63      0          1   Multiword DMA mode 0 supported</span><br><span class="line"></span><br><span class="line">  64      -     0x0003   PIO modes</span><br><span class="line">  64      1          1   PIO mode 4 supported</span><br><span class="line">  64      0          1   PIO mode 3 supported</span><br><span class="line"></span><br><span class="line">  65      -     0x0078   Minimum Multiword DMA cycle time per word in ns</span><br><span class="line"></span><br><span class="line">  66      -     0x0078   Recommended Multiword DMA cycle time in ns</span><br><span class="line"></span><br><span class="line">  67      -     0x0078   Minimum PIO cycle time without flow control in ns</span><br><span class="line"></span><br><span class="line">  68      -     0x0078   Minimum PIO cycle time with IORDY flow control in ns</span><br><span class="line"></span><br><span class="line">  69      -     0x0c18   Additional support</span><br><span class="line">  69     11          1   READ BUFFER DMA supported</span><br><span class="line">  69     10          1   WRITE BUFFER DMA supported</span><br><span class="line">  69      4          1   Device encrypts all user data</span><br><span class="line">  69      3          1   Extended number of user addressable sectors supported</span><br><span class="line"></span><br><span class="line">  75      -     0x001f   Queue depth</span><br><span class="line">  75      4:0     0x1f   Maximum queue depth - 1</span><br><span class="line"></span><br><span class="line">  76      -     0x950e   Serial ATA capabilities</span><br><span class="line">  76     15          1   READ LOG DMA EXT as equiv to READ LOG EXT supported</span><br><span class="line">  76     12          1   NCQ priority information supported</span><br><span class="line">  76     10          1   Phy Event Counters supported</span><br><span class="line">  76      8          1   NCQ feature set supported</span><br><span class="line">  76      3          1   SATA Gen3 signaling speed (6.0 Gb/s) supported</span><br><span class="line">  76      2          1   SATA Gen2 signaling speed (3.0 Gb/s) supported</span><br><span class="line">  76      1          1   SATA Gen1 signaling speed (1.5 Gb/s) supported</span><br><span class="line"></span><br><span class="line">  77      -     0x0076   Serial ATA additional capabilities</span><br><span class="line">  77      6          1   RECEIVE/SEND FPDMA QUEUED supported</span><br><span class="line">  77      5          1   NCQ Queue Management supported</span><br><span class="line">  77      4          1   NCQ Streaming supported</span><br><span class="line">  77      3:1      0x3   Current Serial ATA signal speed</span><br><span class="line"></span><br><span class="line">  78      -     0x04d4   Serial ATA features supported</span><br><span class="line">  78     10          1   Reserved for Serial ATA</span><br><span class="line">  78      7          1   NCQ Autosense supported</span><br><span class="line">  78      6          1   Software Settings Preservation supported</span><br><span class="line">  78      4          1   In-order data delivery supported</span><br><span class="line">  78      2          1   DMA Setup auto-activation supported</span><br><span class="line"></span><br><span class="line">  79      -     0x0044   Serial ATA features enabled</span><br><span class="line">  79      6          1   Software Settings Preservation enabled</span><br><span class="line">  79      2          1   DMA Setup auto-activation enabled</span><br><span class="line"></span><br><span class="line">  80      -     0x03fc   Major version number</span><br><span class="line">  80      9          1   ACS-2 supported</span><br><span class="line">  80      8          1   ATA8-ACS supported</span><br><span class="line">  80      7          1   ATA/ATAPI-7 supported [OBS-ACS-4]</span><br><span class="line">  80      6          1   ATA/ATAPI-6 supported [OBS-ACS-4]</span><br><span class="line">  80      5          1   ATA/ATAPI-5 supported [OBS-ACS-4]</span><br><span class="line">  80      4          1   ATA/ATAPI-4 supported [OBS-8]</span><br><span class="line">  80      3          1   ATA-3 supported [OBS-7]</span><br><span class="line">  80      2          1   ATA-2 supported [OBS-6]</span><br><span class="line"></span><br><span class="line">  81      -     0x0029   Minor version number</span><br><span class="line"></span><br><span class="line">  82      -     0x746b   Commands and feature sets supported</span><br><span class="line">  82     14          1   NOP supported</span><br><span class="line">  82     13          1   READ BUFFER supported</span><br><span class="line">  82     12          1   WRITE BUFFER supported</span><br><span class="line">  82     10          1   HPA feature set supported [OBS-ACS-3]</span><br><span class="line">  82      6          1   Read look-ahead supported</span><br><span class="line">  82      5          1   Volatile write cache supported</span><br><span class="line">  82      3          1   Power Management feature set supported</span><br><span class="line">  82      1          1   Security feature set supported</span><br><span class="line">  82      0          1   SMART feature set supported</span><br><span class="line"></span><br><span class="line">  83      -     0x7d69   Commands and feature sets supported</span><br><span class="line">  83     15:14     0x1   Must be set to 0x1</span><br><span class="line">  83     13          1   FLUSH CACHE EXT supported</span><br><span class="line">  83     12          1   FLUSH CACHE supported</span><br><span class="line">  83     11          1   DCO feature set supported [OBS-ACS-3]</span><br><span class="line">  83     10          1   48-bit Address feature set supported</span><br><span class="line">  83      8          1   SET MAX security extension supported [OBS-ACS-3]</span><br><span class="line">  83      6          1   SET FEATURES subcommand required to spin-up</span><br><span class="line">  83      5          1   PUIS feature set supported</span><br><span class="line">  83      3          1   APM feature set supported</span><br><span class="line">  83      0          1   DOWNLOAD MICROCODE supported</span><br><span class="line"></span><br><span class="line">  84      -     0x6773   Commands and feature sets supported</span><br><span class="line">  84     15:14     0x1   Must be set to 0x1</span><br><span class="line">  84     13          1   IDLE IMMEDIATE with UNLOAD feature supported</span><br><span class="line">  84     10          1   URG bit for WRITE STREAM (DMA) EXT supported [OBS-8]</span><br><span class="line">  84      9          1   URG bit for READ STREAM (DMA) EXT supported [OBS-8]</span><br><span class="line">  84      8          1   64-bit World Wide Name supported</span><br><span class="line">  84      6          1   WRITE DMA/MULTIPLE FUA EXT supported</span><br><span class="line">  84      5          1   GPL feature set supported</span><br><span class="line">  84      4          1   Streaming feature set supported</span><br><span class="line">  84      1          1   SMART self-test supported</span><br><span class="line">  84      0          1   SMART error logging supported</span><br><span class="line"></span><br><span class="line">  85      -     0x7469   Commands and feature sets supported or enabled</span><br><span class="line">  85     14          1   NOP supported</span><br><span class="line">  85     13          1   READ BUFFER supported</span><br><span class="line">  85     12          1   WRITE BUFFER supported</span><br><span class="line">  85     10          1   HPA feature set supported [OBS-ACS-3]</span><br><span class="line">  85      6          1   Read look-ahead enabled</span><br><span class="line">  85      5          1   Write cache enabled</span><br><span class="line">  85      3          1   Power Management feature set supported</span><br><span class="line">  85      0          1   SMART feature set enabled</span><br><span class="line"></span><br><span class="line">  86      -     0xbc41   Commands and feature sets supported or enabled</span><br><span class="line">  86     15          1   Words 119-120 are valid</span><br><span class="line">  86     13          1   FLUSH CACHE EXT supported</span><br><span class="line">  86     12          1   FLUSH CACHE supported</span><br><span class="line">  86     11          1   DCO feature set supported [OBS-ACS-3]</span><br><span class="line">  86     10          1   48-bit Address features set supported</span><br><span class="line">  86      6          1   SET FEATURES subcommand required to spin-up</span><br><span class="line">  86      0          1   DOWNLOAD MICROCODE supported</span><br><span class="line"></span><br><span class="line">  87      -     0x6773   Commands and feature sets supported or enabled</span><br><span class="line">  87     15:14     0x1   Must be set to 0x1</span><br><span class="line">  87     13          1   IDLE IMMEDIATE with UNLOAD FEATURE supported</span><br><span class="line">  87     10          1   URG bit for WRITE STREAM (DMA) EXT supported [OBS-8]</span><br><span class="line">  87      9          1   URG bit for READ STREAM (DMA) EXT supported [OBS-8]</span><br><span class="line">  87      8          1   64-bit World Wide Name supported</span><br><span class="line">  87      6          1   WRITE DMA/MULTIPLE FUA EXT supported</span><br><span class="line">  87      5          1   GPL feature set supported</span><br><span class="line">  87      4          1   Valid CONFIGURE STREAM has been executed [OBS-8]</span><br><span class="line">  87      1          1   SMART self-test supported</span><br><span class="line">  87      0          1   SMART error logging supported</span><br><span class="line"></span><br><span class="line">  88      -     0x407f   Ultra DMA modes</span><br><span class="line">  88     14          1   Ultra DMA mode 6 selected</span><br><span class="line">  88      6          1   Ultra DMA mode 6 and below supported</span><br><span class="line">  88      5          1   Ultra DMA mode 5 and below supported</span><br><span class="line">  88      4          1   Ultra DMA mode 4 and below supported</span><br><span class="line">  88      3          1   Ultra DMA mode 3 and below supported</span><br><span class="line">  88      2          1   Ultra DMA mode 2 and below supported</span><br><span class="line">  88      1          1   Ultra DMA mode 1 and below supported</span><br><span class="line">  88      0          1   Ultra DMA mode 0 supported</span><br><span class="line"></span><br><span class="line">  89      -     0x81d7   SECURITY ERASE UNIT time</span><br><span class="line">  89     15          1   Bits 14:8 of value are valid</span><br><span class="line">  89     14:0   0x01d7   SECURITY ERASE UNIT time value</span><br><span class="line"></span><br><span class="line">  91      -     0x00fe   Current APM level</span><br><span class="line">  91      7:0     0xfe   Current APM level value</span><br><span class="line"></span><br><span class="line">  92      -     0xfffe   Master Password Identifier</span><br><span class="line"></span><br><span class="line">  95      -     0x0008   Stream Minimum Request Size</span><br><span class="line"></span><br><span class="line">  96      -     0x00ca   Streaming Transfer Time - DMA</span><br><span class="line"></span><br><span class="line">  97      -     0x00f9   Streaming Access Latency - DMA and PIO</span><br><span class="line"></span><br><span class="line">  98-99   -     .        Streaming Performance Granularity (DWord)</span><br><span class="line">  98-99   .     0x2710:0000  (10000)</span><br><span class="line"></span><br><span class="line"> 100-103  -     .        User addressable sectors for 48-bit commands (QWord)</span><br><span class="line"> 100-103  .     0x0000:8c40:0004:0000  (19532873728)</span><br><span class="line"></span><br><span class="line"> 104      -     0x00ca   Streaming Transfer Time - PIO</span><br><span class="line"></span><br><span class="line"> 106      -     0x6003   Physical sector size / logical sector size</span><br><span class="line"> 106     15:14     0x1   Must be set to 0x1</span><br><span class="line"> 106     13          1   Multiple logical sectors per physical sector</span><br><span class="line"> 106      3:0      0x3   2^X logical sectors per physical sector</span><br><span class="line"></span><br><span class="line"> 107      -     0x5a87   Inter-seek delay for ISO 7779 acoustic testing</span><br><span class="line"></span><br><span class="line"> 108-111  -     .        World Wide Name</span><br><span class="line"> 108-111  .     0x5000:cca2:6aef:5ec1</span><br><span class="line"></span><br><span class="line"> 119      -     0x40dc   Commands and feature sets supported</span><br><span class="line"> 119     15:14     0x1   Must be set to 0x1</span><br><span class="line"> 119      7          1   Extended Power Conditions feature set supported</span><br><span class="line"> 119      6          1   Sense Data Reporting feature set supported</span><br><span class="line"> 119      4          1   DOWNLOAD MICROCODE with mode 3 supported</span><br><span class="line"> 119      3          1   READ/WRITE LOG DMA EXT supported</span><br><span class="line"> 119      2          1   WRITE UNCORRECTABLE EXT supported</span><br><span class="line"></span><br><span class="line"> 120      -     0x409c   Commands and feature sets supported or enabled</span><br><span class="line"> 120     15:14     0x1   Must be set to 0x1</span><br><span class="line"> 120      7          1   Extended Power Conditions feature set enabled</span><br><span class="line"> 120      4          1   DOWNLOAD MICROCODE with mode 3 supported</span><br><span class="line"> 120      3          1   READ/WRITE LOG DMA EXT supported</span><br><span class="line"> 120      2          1   WRITE UNCORRECTABLE EXT supported</span><br><span class="line"></span><br><span class="line"> 128      -     0x0001   Security status</span><br><span class="line"> 128      0          1   Security supported</span><br><span class="line"></span><br><span class="line"> 129-159  -     .        Vendor specific</span><br><span class="line"> 129-132  .     0x000b:0000:0000:0000</span><br><span class="line"> 133-136  .     0x0000:0000:0000:0000</span><br><span class="line"> 137-140  .     0x0000:0000:0000:0000</span><br><span class="line"> 141-144  .     0x0000:0000:0000:0000</span><br><span class="line"> 145-148  .     0x0000:0000:0000:0000</span><br><span class="line"> 149-152  .     0x0000:0000:0008:4445</span><br><span class="line"> 153-156  .     0x0000:0000:0000:0000</span><br><span class="line"> 157-159  .     0x0000:0000:0000</span><br><span class="line"></span><br><span class="line"> 168      -     0x0002   Form factor</span><br><span class="line"> 168      3:0      0x2   Nominal form factor: -, 5.25, 3.5, 2.5, 1.8, ...</span><br><span class="line"></span><br><span class="line"> 170-173  -     .        Additional product identifier (String)</span><br><span class="line"> 170-173  .     0x4445:4c4c:2874:6d29  &quot;DELL(tm)&quot;</span><br><span class="line"></span><br><span class="line"> 206      -     0x003d   SCT Command Transport</span><br><span class="line"> 206      5          1   SCT Data Tables supported</span><br><span class="line"> 206      4          1   SCT Feature Control supported</span><br><span class="line"> 206      3          1   SCT Error Recovery Control supported</span><br><span class="line"> 206      2          1   SCT Write Same supported</span><br><span class="line"> 206      0          1   SCT Command Transport supported</span><br><span class="line"></span><br><span class="line"> 209      -     0x4000   Alignment of logical sectors</span><br><span class="line"> 209     15:14     0x1   Must be set to 0x1</span><br><span class="line"></span><br><span class="line"> 217      -     0x1c20   Nominal media rotation rate</span><br><span class="line"></span><br><span class="line"> 222      -     0x10ff   Transport major version number</span><br><span class="line"> 222     15:12     0x1   Transport: 0x0 = Parallel, 0x1 = Serial, 0xe = PCIe</span><br><span class="line"> 222      7          1   Reserved    | SATA 3.2</span><br><span class="line"> 222      6          1   Reserved    | SATA 3.1</span><br><span class="line"> 222      5          1   Reserved    | SATA 3.0</span><br><span class="line"> 222      4          1   Reserved    | SATA 2.6</span><br><span class="line"> 222      3          1   Reserved    | SATA 2.5</span><br><span class="line"> 222      2          1   Reserved    | SATA II: Extensions</span><br><span class="line"> 222      1          1   ATA/ATAPI-7 | SATA 1.0a</span><br><span class="line"> 222      0          1   ATA8-APT    | ATA8-AST</span><br><span class="line"></span><br><span class="line"> 223      -     0x0021   Transport minor version number</span><br><span class="line"></span><br><span class="line"> 230-233  -     .        Extended number of user addressable sectors (QWord)</span><br><span class="line"> 230-233  .     0x0000:8c40:0004:0000  (19532873728)</span><br><span class="line"></span><br><span class="line"> 234      -     0x0001   Minimum blocks per DOWNLOAD MICROCODE mode 3 command</span><br><span class="line"></span><br><span class="line"> 255      -     0x26a5   Integrity word</span><br><span class="line"> 255     15:8     0x26   Checksum</span><br><span class="line"> 255      7:0     0xa5   Signature</span><br></pre></td></tr></table></figure>

<h4 id="SAS-2-Support-multiple-STP-affiliations"><a href="#SAS-2-Support-multiple-STP-affiliations" class="headerlink" title="SAS-2 Support multiple STP affiliations"></a><a target="_blank" rel="noopener" href="https://www.t10.org/ftp/t10/document.06/06-188r3.pdf">SAS-2 Support multiple STP affiliations</a></h4><p>The LSI SAS Expander has implemented this feature.<br>If the two server connectting with the single IO expander, the SATA device could read and write in two server and the same time.<br>And the SATA device could be brain split too.</p>
<h4 id="disable-background-scans"><a href="#disable-background-scans" class="headerlink" title="disable background scans"></a><a target="_blank" rel="noopener" href="https://www.reddit.com/r/DataHoarder/comments/e677p1/psa_if_you_have_sas_drives_check_the_background/">disable background scans</a></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># disable</span></span><br><span class="line">$ sdparm /dev/sdj -p bc -s EN_BMS=0</span><br><span class="line">Background scan results <span class="built_in">log</span></span><br><span class="line">  Status: no scans active</span><br><span class="line"></span><br><span class="line">$ sdparm /dev/sdj -p bc</span><br><span class="line">    /dev/sdj: HGST      HUH721010AL5200   LS14</span><br><span class="line">Background control (SBC) mode page:</span><br><span class="line">  S_L_FULL      0  [cha: y, def:  0, sav:  0]</span><br><span class="line">  LOWIR         0  [cha: y, def:  0, sav:  0]</span><br><span class="line">  EN_BMS        0  [cha: y, def:  1, sav:  1]</span><br><span class="line">  EN_PS         0  [cha: y, def:  0, sav:  0]</span><br><span class="line">  BMS_I         168  [cha: y, def:168, sav:168]</span><br><span class="line">  BPS_TL        0  [cha: y, def:  0, sav:  0]</span><br><span class="line">  MIN_IDLE      250  [cha: y, def:250, sav:250]</span><br><span class="line">  MAX_SUSP      0  [cha: y, def:  0, sav:  0]</span><br><span class="line"></span><br><span class="line">$ smartctl -x /dev/sdj</span><br><span class="line"></span><br><span class="line">Background scan results <span class="built_in">log</span></span><br><span class="line">  Status: waiting until BMS interval timer expires</span><br><span class="line">    Accumulated power on time, hours:minutes 13155:51 [789351 minutes]</span><br><span class="line">    Number of background scans performed: 73,  scan progress: 0.00%</span><br><span class="line">    Number of background medium scans performed: 73</span><br><span class="line"></span><br><span class="line">$ sdparm --clear=EN_BMS --save /dev/sdj</span><br><span class="line">change_mode_page: failed setting page: Background control (SBC)</span><br><span class="line"></span><br><span class="line">$ sdparm /dev/sdj -p bc -s EN_BMS=1</span><br><span class="line">Background scan results <span class="built_in">log</span></span><br><span class="line">  Status: waiting until BMS interval timer expires</span><br><span class="line">    Accumulated power on time, hours:minutes 13165:02 [789902 minutes]</span><br><span class="line">    Number of background scans performed: 73,  scan progress: 0.00%</span><br><span class="line">    Number of background medium scans performed: 73</span><br><span class="line"></span><br><span class="line"><span class="comment">#number of hours between media scans - here, run a scan every 24 hours</span></span><br><span class="line">$ sdparm /dev/sdb -p bc -s BMS_I=24</span><br><span class="line"></span><br><span class="line"><span class="comment"># how many milliseconds the drive must be idle before a scan can begin</span></span><br><span class="line"><span class="comment"># here, the drive must be idle for two second at time of scan start,</span></span><br><span class="line"><span class="comment">#     or else the scan will wait until the drive is idle for 2000ms.</span></span><br><span class="line"><span class="comment"># the same applies if scan is interrupted for user activity - scan resumes when</span></span><br><span class="line"><span class="comment">#     this period of time has elapsed with no activity.</span></span><br><span class="line">$ sdparm /dev/sdb -p bc -s MIN_IDLE=2000</span><br><span class="line"></span><br><span class="line"><span class="comment"># how many milliseconds the drive is permitted to take to return to regular service</span></span><br><span class="line"><span class="comment">#     if a command is received during a background media scan - here, the drive must</span></span><br><span class="line"><span class="comment">#     stop the BMS within 500ms of receiving a read/write command from the host</span></span><br><span class="line">$ sdparm /dev/sdb -p bc -s MAX_SUSP=500</span><br><span class="line"></span><br><span class="line"><span class="comment"># perform a background media scan (pre-scan) at the next disk power-on regardless of the timer</span></span><br><span class="line"><span class="comment"># this option is reset to 0 after disk power-up - it is only applied to the next disk power-up</span></span><br><span class="line">$ sdparm /dev/sdb -p bc -s EN_PS=1</span><br><span class="line"></span><br><span class="line"><span class="comment"># how long the background pre-scan is permitted to take after disk power on, in hours.</span></span><br><span class="line"><span class="comment"># if this many hours elapses and the pre-scan isn&#x27;t finished, the pre-scan is aborted.</span></span><br><span class="line"><span class="comment"># here, cancel scan if not done in 6 hours</span></span><br><span class="line">$ sdparm /dev/sdb -p bc -s BPS_TL=6</span><br><span class="line"></span><br><span class="line"><span class="comment"># if this is set to 1, only log events in the scan log that might require user intervention,</span></span><br><span class="line"><span class="comment">#     such as unrecoverable sectors. if 0, log any sectors the scan detects, even those that</span></span><br><span class="line"><span class="comment">#     the drive is able to fix on its own</span></span><br><span class="line">$ sdparm /dev/sdb -p bc -s LOWIR=1</span><br><span class="line"></span><br><span class="line"><span class="comment"># if set to 1, STOP running scans when the drive&#x27;s internal log fills up</span></span><br><span class="line">$ sdparm /dev/sdb -p bc -s S_L_FULL=0</span><br></pre></td></tr></table></figure>
<p>Since the background scan functions are only done during idle periods, BMS causes a negligible impact to system performance. The firstBMS scan for a newly manufactured drive is performed as quickly as possible to verify the media and protect data by setting the “Start timeafter idle” to 5ms, all subsequent scans begin after 500ms of idle time. Other features that normally use idle time to function will functionnormally because BMS functions for bursts of 800ms and then suspends activity for 100ms to allow other background functions to operate    </p>
<p>BMS interrupts immediately to service host commands from the interface bus while performing reads. BMS will complete any BMS-initiatederror recovery prior to returning to service host-initiated commands. Overhead associated with a return to host-servicing activity from BMSonly impacts the first command that interrupted BMS, this results in a typical delay of about 1 ms     </p>
<p>Media Pre-Scan is a feature that allows the drive to repair media errors that would otherwise have been found by the host system duringcritical data accesses early in the drive’s life. The default setting for Media Pre-Scan is enabled on standard products. Media Pre-Scanchecks each write command to determine if the destination LBAs have been scanned by BMS. If the LBAs have been verified, the driveproceeds with the normal write command. If the LBAs have not been verified by BMS, Pre-Scan will convert the write to a write verify tocertify that the data was properly written to the disk     </p>
<h4 id="sdparm-set-the-power-status-of-device"><a href="#sdparm-set-the-power-status-of-device" class="headerlink" title="sdparm set the power status of device"></a>sdparm set the power status of device</h4><ul>
<li><p>Idle_A</p>
<ul>
<li>Disables most of the servo system, reduces processor and channel power consumption</li>
<li>Disks rotating at full speed (7200 RPM)</li>
</ul>
</li>
<li><p>Idle_B</p>
<ul>
<li>Disables most of the servo system, reduces processor and channel power consumption</li>
<li>Heads are unloaded to drive ramp.</li>
<li>Disks rotating at full speed (7200 RPM)</li>
</ul>
</li>
<li><p>Idle_C&#x2F;Standby_Y (SAS Only)</p>
<ul>
<li>Disables most of the servo system, reduces processor and channel power consumption</li>
<li>Heads are unloaded to drive ramp.</li>
<li>Drive speed reduced to a lower RPM (reduced RPM)</li>
</ul>
</li>
<li><p>Standby_Z</p>
<ul>
<li>Heads are unloaded to drive ramp.</li>
<li>Drive motor is spun down.</li>
<li>Drive still responds to non-media access host commands</li>
</ul>
</li>
<li><p>0 is disable, 1 is enable the function</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">$ sdparm -p po /dev/sdj</span><br><span class="line">    /dev/sdj: HGST      HUH721010AL5200   LS14</span><br><span class="line">Power condition mode page:</span><br><span class="line">  PM_BG         0  [cha: n, def:  0, sav:  0]</span><br><span class="line">  STANDBY_Y     0  [cha: n, def:  0, sav:  0]</span><br><span class="line">  IDLE_C        0  [cha: y, def:  0, sav:  0]</span><br><span class="line">  IDLE_B        1  [cha: y, def:  1, sav:  1]</span><br><span class="line">  IDLE          1  [cha: y, def:  1, sav:  1]</span><br><span class="line">  STANDBY       0  [cha: y, def:  0, sav:  0]</span><br><span class="line">  ICT           20  [cha: n, def: 20, sav: 20]</span><br><span class="line">  SCT           0  [cha: y, def:  0, sav:  0]</span><br><span class="line">  IBCT          6000  [cha: n, def:6000, sav:6000]</span><br><span class="line">  ICCT          9000  [cha: n, def:9000, sav:9000]</span><br><span class="line">  SYCT          0  [cha: n, def:  0, sav:  0]</span><br><span class="line">  CCF_IDLE      1  [cha: y, def:  1, sav:  1]</span><br><span class="line">  CCF_STAND     2  [cha: y, def:  2, sav:  2]</span><br><span class="line">  CCF_STOPP     2  [cha: y, def:  2, sav:  2]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ sdparm --flexible -6 -p po -l /dev/sdj</span><br><span class="line">    /dev/sdj: HGST      HUH721010AL5200   LS14</span><br><span class="line">    Direct access device specific parameters: WP=0  DPOFUA=1</span><br><span class="line">Power condition [po] mode page:</span><br><span class="line">  PM_BG         0  [cha: n, def:  0, sav:  0]  Power management, background <span class="built_in">functions</span>, precedence</span><br><span class="line">  STANDBY_Y     0  [cha: n, def:  0, sav:  0]  Standby_y timer <span class="built_in">enable</span></span><br><span class="line">  IDLE_C        0  [cha: y, def:  0, sav:  0]  Idle_c timer <span class="built_in">enable</span></span><br><span class="line">  IDLE_B        1  [cha: y, def:  1, sav:  1]  Idle_b timer <span class="built_in">enable</span></span><br><span class="line">  IDLE          1  [cha: y, def:  1, sav:  1]  Idle_a timer <span class="built_in">enable</span></span><br><span class="line">  STANDBY       0  [cha: y, def:  0, sav:  0]  Standby_z timer <span class="built_in">enable</span></span><br><span class="line">  ICT           20  [cha: n, def: 20, sav: 20]  Idle_a condition timer (100 ms)</span><br><span class="line">  SCT           0  [cha: y, def:  0, sav:  0]  Standby_z condition timer (100 ms)</span><br><span class="line">  IBCT          6000  [cha: n, def:6000, sav:6000]  Idle_b condition timer (100 ms)</span><br><span class="line">  ICCT          9000  [cha: n, def:9000, sav:9000]  Idle_c condition timer (100 ms)</span><br><span class="line">  SYCT          0  [cha: n, def:  0, sav:  0]  Standby_y condition timer (100 ms)</span><br><span class="line">  CCF_IDLE      1  [cha: y, def:  1, sav:  1]  check condition on transition from idle</span><br><span class="line">  CCF_STAND     2  [cha: y, def:  2, sav:  2]  check condition on transition from standby</span><br><span class="line">  CCF_STOPP     2  [cha: y, def:  2, sav:  2]  check condition on transition from stopped</span><br></pre></td></tr></table></figure>

<h4 id="Disable-SATA-power-save"><a href="#Disable-SATA-power-save" class="headerlink" title="Disable SATA power save"></a><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Hdparm">Disable SATA power save</a></h4><p>-B Set the Advanced Power Management feature. Possible values are between 1 and 255, low values mean more aggressive power management and higher values mean better performance. Values from 1 to 127 permit spin-down, whereas values from 128 to 254 do not. A value of 255 completely disables the feature.    </p>
<p>-S Set the standby (spindown) timeout for the drive. The timeout specifies how long to wait in idle (with no disk activity) before turning off the motor to save power. The value of 0 disables spindown, the values from 1 to 240 specify multiples of 5 seconds and values from 241 to 251 specify multiples of 30 minutes.   </p>
<p>-M Set the Automatic Acoustic Management feature. Most modern hard disk drives have the ability to speed down the head movements to reduce their noise output. The possible value depends on the disk, some disks may not support this feature.     </p>
<p>-J Get&#x2F;set  the  Western  Digital (WD) Green Drive’s “idle3” timeout value.  This timeout controls how often the drive parks its heads and enters a low power consumption state.  The factory default is eight (8) seconds, which is a very  poor  choice  for use  with  Linux.   Leaving it at the default will result in hundreds of thousands of head load&#x2F;unload cycles in a very short period of time.  The drive mechanism is only rated for 300,000 to 1,000,000 cycles, so leaving it at the default could result in premature failure, not to mention the performance impact of the drive often having to wake-up before doing routine I&#x2F;O.    </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">$  hdparm -I /dev/sda | grep level</span><br><span class="line">        Advanced power management level: 128</span><br><span class="line">$  hdparm -B 255 /dev/sda</span><br><span class="line"></span><br><span class="line">/dev/sda:</span><br><span class="line"> setting Advanced Power Management level to disabled</span><br><span class="line"> APM_level      = off</span><br><span class="line"></span><br><span class="line">$ hdparm -I /dev/sdl | grep level</span><br><span class="line">        Advanced power management level: disabled</span><br><span class="line"></span><br><span class="line">$ hdparm -S 245 /dev/sdl</span><br><span class="line"></span><br><span class="line">/dev/sdl:</span><br><span class="line"> setting standby to 245 (2 hours + 30 minutes)</span><br><span class="line"></span><br><span class="line">$ hdparm -S 0 /dev/sdl</span><br><span class="line"></span><br><span class="line">/dev/sdl:</span><br><span class="line"> setting standby to 0 (off)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get/set  the  Western  Digital (WD) Green Drive&#x27;s &quot;idle3&quot; timeout value</span></span><br><span class="line">$ hdparm -J /dev/sda</span><br><span class="line"></span><br><span class="line">/dev/sda:</span><br><span class="line">wdidle3_vsc_enable_disable: Input/output error</span><br><span class="line"></span><br><span class="line">$ hdparm -J 30 --please-destroy-my-drive /dev/sda</span><br><span class="line"></span><br><span class="line">$ hdparm -M /dev/sda</span><br><span class="line"></span><br><span class="line">/dev/sda:</span><br><span class="line"> acoustic      = not supported</span><br><span class="line"></span><br><span class="line">$ hdparm --yes-i-know-what-i-am-doing --repair-sector SECTOR_NUMBER /dev/device</span><br></pre></td></tr></table></figure>

<h4 id="SAS-Link-layer-2-has-the-flow-control"><a href="#SAS-Link-layer-2-has-the-flow-control" class="headerlink" title="SAS Link layer 2 has the flow control"></a>SAS Link layer 2 has the flow control</h4><p>Inside an SSP connection</p>
<ul>
<li>Phys exchange SSP frames<br>  - SSP frame &#x3D; SOF primitive, data dwords, EOF primitive<br>  - Each frame results in an ACK or NAK primitive</li>
<li>Credit-based flow control<br>  - Permission to send a frame must be granted with RRDY primitives</li>
<li>Full duplex<br>  - SSP frames can be sent in both directions simultaneously<br>  - Independent credit for each direction</li>
<li>ACK, NAK, and RRDY primitives may be interjected among frame dwords<br>  – (so can ALIGNs and NOTIFYs)</li>
</ul>
<h4 id="Linux-mpt3sas-SCSI-error-handler"><a href="#Linux-mpt3sas-SCSI-error-handler" class="headerlink" title="Linux mpt3sas SCSI error handler"></a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/152213307">Linux mpt3sas SCSI error handler</a></h4><ul>
<li><p>Command abort (5 x retries)</p>
<ul>
<li>scmd skip retry flag<ul>
<li>REQ_FAILFAST_DEV<ul>
<li>goto error handler, no retry</li>
</ul>
</li>
</ul>
</li>
<li>first<ul>
<li>scsi_times_out<ul>
<li>scsi_abort_command(scmd_eh_abort_handler)</li>
</ul>
</li>
</ul>
</li>
<li>second<ul>
<li>scsi_times_out<ul>
<li>scsi_eh_scmd_add</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Send Test Unit Ready</p>
</li>
<li><p>Target Reset</p>
<ul>
<li>Lower level<ul>
<li>mpt3sas driver</li>
</ul>
</li>
</ul>
</li>
<li><p>Bus Reset</p>
<ul>
<li>Lower level<ul>
<li>mpt3sas driver</li>
</ul>
</li>
</ul>
</li>
<li><p>HBA Reset</p>
<ul>
<li>Lower level<ul>
<li>mpt3sas driver</li>
</ul>
</li>
</ul>
</li>
<li><p>Offline device</p>
<ul>
<li>Lower level<ul>
<li>mpt3sas driver</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>In my case, when the mpt3sas driver was loaded, scsi_eh no chance go to timeout, too many reset log in the dmesg, that means HBA always try to reset the target, if you are in the system BIOS not in Linux, the HBA reset operation will continue.     </p>
<p>HBA reset time - eh_deadline (from disable&#x2F;0 to 5 seconds, default was off), looks like HBA has itselft logic,<br>if the device could not offline by HBA. the HBA will in a dead reset loop. it ‘s HBA to ban the issue device and reset itselft, no any connect with linux kernel scsi_eh    </p>
<p>scsi_eh   </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">82:00.0 Serial Attached SCSI controller: Broadcom / LSI SAS3008 PCI-Express Fusion-MPT SAS-3 (rev 02)</span><br><span class="line">/sys/class/scsi_host/host12 -&gt; ../../devices/pci0000:80/0000:80:03.0/0000:82:00.0/host12/scsi_host/host12</span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> /sys/class/scsi_host/host12/eh_deadline</span><br><span class="line">off</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## retry</span></span><br><span class="line"> * Notes:       We will finish off the specified number of sectors.  If we</span><br><span class="line"> *              are <span class="keyword">done</span>, the <span class="built_in">command</span> block will be released and the queue</span><br><span class="line"> *              <span class="keyword">function</span> will be goosed.  If we are not <span class="keyword">done</span> <span class="keyword">then</span> we have to</span><br><span class="line"> *              figure out what to <span class="keyword">do</span> next:</span><br><span class="line"> *</span><br><span class="line"> *              a) We can call scsi_requeue_command().  The request</span><br><span class="line"> *                 will be unprepared and put back on the queue.  Then</span><br><span class="line"> *                 a new <span class="built_in">command</span> will be created <span class="keyword">for</span> it.  This should</span><br><span class="line"> *                 be used <span class="keyword">if</span> we made forward progress, or <span class="keyword">if</span> we want</span><br><span class="line"> *                 to switch from READ(10) to READ(6) <span class="keyword">for</span> example.</span><br><span class="line"> *</span><br><span class="line"> *              b) We can call __scsi_queue_insert().  The request will</span><br><span class="line"> *                 be put back on the queue and retried using the same</span><br><span class="line"> *                 <span class="built_in">command</span> as before, possibly after a delay.</span><br><span class="line"> *</span><br><span class="line"> *              c) We can call scsi_end_request() with -EIO to fail</span><br><span class="line"> *                 the remainder of the request.</span><br><span class="line"></span><br><span class="line">scsi_io_completion</span><br><span class="line">          <span class="keyword">case</span> ACTION_RETRY:</span><br><span class="line">                /* Retry the same <span class="built_in">command</span> immediately */</span><br><span class="line">                __scsi_queue_insert(cmd, SCSI_MLQUEUE_EH_RETRY, 0);</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line"></span><br><span class="line">scsi_set_blocked</span><br><span class="line">        <span class="keyword">case</span> SCSI_MLQUEUE_EH_RETRY:</span><br><span class="line">                atomic_set(&amp;device-&gt;device_blocked,</span><br><span class="line">                           device-&gt;max_device_blocked);</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line"></span><br><span class="line">        unsigned int max_device_blocked; /* what device_blocked counts down from  */</span><br><span class="line"><span class="comment">#define SCSI_DEFAULT_DEVICE_BLOCKED     3</span></span><br><span class="line"><span class="comment">#5x retries</span></span><br><span class="line">./linux-3.10.0-1127.el7/drivers/scsi/scsi_ioctl.c:              <span class="built_in">return</span> scsi_test_unit_ready(sdev, IOCTL_NORMAL_TIMEOUT, NORMAL_RETRIES, NULL);</span><br><span class="line">./linux-3.10.0-1127.el7/drivers/scsi/scsi_ioctl.c:<span class="comment">#define NORMAL_RETRIES                        5</span></span><br><span class="line">scsi_ioctl</span><br><span class="line">  scsi_test_unit_ready</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## error handler (only mid level, low lever will go to mpt3sas driver)</span></span><br><span class="line">scsi_softirq_done</span><br><span class="line">    -&gt; disposition = scsi_decide_disposition(cmd);</span><br><span class="line">    -&gt; scsi_eh_scmd_add(cmd, 0)</span><br><span class="line">        -&gt; scsi_host_set_state(shost, SHOST_RECOVERY)</span><br><span class="line">        -&gt; scsi_eh_wakeup(shost);</span><br><span class="line"></span><br><span class="line">scsi_schedule_eh</span><br><span class="line">  -&gt; scsi_host_set_state(shost, SHOST_RECOVERY)</span><br><span class="line">  -&gt; scsi_eh_wakeup</span><br><span class="line"></span><br><span class="line">scsi_error_handler</span><br><span class="line">    -&gt; scsi_unjam_host(shost)</span><br><span class="line">      -&gt; scsi_eh_get_sense(&amp;eh_work_q, &amp;eh_done_q))</span><br><span class="line">      -&gt; scsi_eh_abort_cmds(&amp;eh_work_q, &amp;eh_done_q))</span><br><span class="line">          -&gt; scsi_try_to_abort_cmd</span><br><span class="line">              -&gt; hostt-&gt;eh_abort_handler &lt;hba specific&gt;</span><br><span class="line">      -&gt; scsi_eh_ready_devs(shost, &amp;eh_work_q, &amp;eh_done_q);</span><br><span class="line">          -&gt;    <span class="keyword">if</span> (!scsi_eh_stu(shost, work_q, done_q))</span><br><span class="line">            <span class="keyword">if</span> (!scsi_eh_bus_device_reset(shost, work_q, done_q))</span><br><span class="line">            <span class="keyword">if</span> (!scsi_eh_target_reset(shost, work_q, done_q))</span><br><span class="line">                <span class="keyword">if</span> (!scsi_eh_bus_reset(shost, work_q, done_q))</span><br><span class="line">                    <span class="keyword">if</span> (!scsi_eh_host_reset(shost, work_q, done_q))</span><br><span class="line">                        scsi_eh_offline_sdevs(work_q,</span><br><span class="line">                                      done_q);</span><br></pre></td></tr></table></figure>
<p>mpt3sas   </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">int (* eh_abort_handler)(struct scsi_cmnd *);</span><br><span class="line">int (* eh_device_reset_handler)(struct scsi_cmnd *);</span><br><span class="line">int (* eh_target_reset_handler)(struct scsi_cmnd *);</span><br><span class="line">int (* eh_bus_reset_handler)(struct scsi_cmnd *);</span><br><span class="line">int (* eh_host_reset_handler)(struct scsi_cmnd *);</span><br></pre></td></tr></table></figure>
<h4 id="driver-mapping-page"><a href="#driver-mapping-page" class="headerlink" title="driver mapping page"></a>driver mapping page</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#serial number</span></span><br><span class="line">$ strings /sys/class/scsi_generic/sg83/device/vpd_pg80  | <span class="built_in">tr</span> -d <span class="string">&#x27;\040\011\012\015&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#sas addr</span></span><br><span class="line">$ strings /sys/class/scsi_generic/sg83/device/sas_addr  | <span class="built_in">tr</span> -d <span class="string">&#x27;\040\011\012\015&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="list-of-T10-Additional-Sense-Codes"><a href="#list-of-T10-Additional-Sense-Codes" class="headerlink" title="list of T10 Additional Sense Codes"></a>list of T10 Additional Sense Codes</h4><p>drivers&#x2F;scsi&#x2F;constants.c</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * The canonical list of T10 Additional Sense Codes is available at:</span></span><br><span class="line"><span class="comment"> * http://www.t10.org/lists/asc-num.txt [most recent: 20141221]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">error_info</span> <span class="title">additional</span>[] =</span></span><br><span class="line">&#123;</span><br></pre></td></tr></table></figure>

<h4 id="SAS-connection"><a href="#SAS-connection" class="headerlink" title="SAS connection"></a><a target="_blank" rel="noopener" href="https://www.seagate.com/staticfiles/support/disc/manuals/sas/100293071b.pdf">SAS connection</a></h4><ul>
<li>connnection<ul>
<li>If multiple potential pathways exist between the SAS initiator port(s) and the SAS target port(s), multiple connections may be established by a SAS port between the following:<ul>
<li>one SAS initiator port to multiple SAS target ports;</li>
<li>one SAS target port to multiple SAS initiator ports;</li>
<li>one SAS initiator port to one SAS target port;</li>
</ul>
</li>
<li>Ports (narrow ports and wide ports) bond sas port, bonding sas port, Phy Link Aggregation<ul>
<li>A port contains one or more phys. Ports in a device are associated with physical phys based on the identification sequence.<ul>
<li>transmit the same SAS address (see 2.2) during the identification sequence</li>
<li>receive the same SAS address during the identification sequence (i.e., the corresponding attached phy or phys transmit the same SAS address)</li>
</ul>
</li>
<li>A wide port is created if there is more than one phy in the port</li>
<li>A narrow port is a port with only one phy</li>
<li>A wide link is the set of physical links that attach a wide port to another wide port</li>
<li>A narrow link is the physical link that attaches a narrow port to another narrow port</li>
</ul>
</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://www.t10.org/ftp/t10/document.07/07-308r0.pdf">zoning</a><ul>
<li>SAS zoning access control is implemented by linked switch and expander devices, with zoning enabled. These devices define a Zoned Portion of a Service Delivery System (ZPSDS). No host device intervention is required. Each zoning switch and expander device maintains an identical zone permission table, so zone access control is maintained across the entire ZPSDS</li>
<li>To be part of the ZPSDS, the switch requires a SAS expander that supports saving the zone configuration, as explained in the T-10 SAS Specification. Any expander that does not support zone configuration saving is treated as a nonzoning expander and is not included in the ZPSDS.</li>
<li>Table 244 defines the response format</li>
<li>Zoning expander device requirements<ul>
<li>contain a zoning expander route table</li>
<li>contain a zone permission table that supports 128 zone groups</li>
<li>allow or deny connection requests based on the zoneing permission table</li>
<li>set the ZONE DEVICE bit to one in its SMP REPORT GENERAL response</li>
<li>be self-configuring</li>
<li>contain an SMP initiator port</li>
<li>support all zoning-related SMP functions</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="Sense-Keys-x2F-ASC-and-ASCQ-codes"><a href="#Sense-Keys-x2F-ASC-and-ASCQ-codes" class="headerlink" title="Sense Keys&#x2F;ASC and ASCQ codes"></a><a target="_blank" rel="noopener" href="https://www.ibm.com/docs/en/flashsystem-v7000u/1.5.2?topic=problems-smart-ascascq-error-codes-messages">Sense Keys&#x2F;ASC and ASCQ codes</a></h4><h5 id="CDB"><a href="#CDB" class="headerlink" title="CDB"></a>CDB</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[11987893.514700] sd 1:0:3:0: [sdc] tag#457 CDB: Read(32)</span><br><span class="line">[11987893.515148] sd 1:0:3:0: [sdc] tag#457 CDB[00]: 7f 00 00 00 00 00 00 18 00 09 20 00 00 00 00 03</span><br><span class="line">[11987893.515571] sd 1:0:3:0: [sdc] tag#457 CDB[10]: b3 eb ca 61 b3 eb ca 61 00 00 00 00 00 00 00 10</span><br><span class="line"></span><br><span class="line">7f 00 00 00 00 00 00 18 00 09 20 00 00 00 00 03   b3 eb ca 41 b3 eb ca 41 00 00 00 00 00 00 00 10</span><br><span class="line">7f=OPERATION CODE (7Fh fixed)</span><br><span class="line">18=ADDITIONAL CDB LENGTH (18h fixed)</span><br><span class="line">00 09=SERVICE ACTION (00 09h fixed)</span><br><span class="line">20=100000=RDPROTECT=1</span><br><span class="line">00=reserved</span><br><span class="line">00 00 00 03   b3 eb ca 41 = LOGICAL BLOCK ADDRESS</span><br><span class="line">b3 eb ca 41 = EXPECTED INITIAL LOGICAL BLOCK REFERENCE TAG</span><br><span class="line">00 00 = EXPECTED LOGICAL BLOCK APPLICATION TAG</span><br><span class="line">00 00 = LOGICAL BLOCK APPLICATION TAG MASK</span><br><span class="line">00 00 00 10 = TRANSFER LENGTH</span><br></pre></td></tr></table></figure>
<h4 id="sg-opcodes"><a href="#sg-opcodes" class="headerlink" title="sg_opcodes"></a>sg_opcodes</h4><p>sg_opcodes -n &#x2F;dev&#x2F;sg9</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line">sg_opcodes -n /dev/sg9</span><br><span class="line">--no-inquiry ignored because --pdt= not given</span><br><span class="line"></span><br><span class="line">Opcode  Service    CDB    CDLP   Name</span><br><span class="line">(hex)   action(h)  size</span><br><span class="line">-----------------------------------------------</span><br><span class="line"> 00                  6      0    Test Unit Ready</span><br><span class="line"> 01                  6      0    Rezero Unit</span><br><span class="line"> 03                  6      0    Request Sense</span><br><span class="line"> 04                  6      0    Format Unit</span><br><span class="line"> 07                  6      0    Reassign Blocks</span><br><span class="line"> 08                  6      0    Read(6)</span><br><span class="line"> 0a                  6      0    Write(6)</span><br><span class="line"> 0b                  6      0    Seek(6)</span><br><span class="line"> 12                  6      0    Inquiry</span><br><span class="line"> 15                  6      0    Mode select(6)</span><br><span class="line"> 16                  6      0    Reserve(6)</span><br><span class="line"> 17                  6      0    Release(6)</span><br><span class="line"> 1a                  6      0    Mode sense(6)</span><br><span class="line"> 1b                  6      0    Start stop unit</span><br><span class="line"> 1c                  6      0    Receive diagnostic results</span><br><span class="line"> 1d                  6      0    Send diagnostic</span><br><span class="line"> 25                 10      0    Read capacity(10)</span><br><span class="line"> 28                 10      0    Read(10)</span><br><span class="line"> 2a                 10      0    Write(10)</span><br><span class="line"> 2b                 10      0    Seek(10)</span><br><span class="line"> 2e                 10      0    Write and verify(10)</span><br><span class="line"> 2f                 10      0    Verify(10)</span><br><span class="line"> 34                 10      0    Pre-fetch(10)</span><br><span class="line"> 35                 10      0    Synchronize cache(10)</span><br><span class="line"> 37                 10      0    Read defect data(10)</span><br><span class="line"> 3b        0        10      0    Write buffer, combined header and data [or multiple modes]</span><br><span class="line"> 3b        2        10      0    Write buffer, data</span><br><span class="line"> 3b        4        10      0    Write buffer, download microcode and activate</span><br><span class="line"> 3b        5        10      0    Write buffer, download microcode, save, and activate</span><br><span class="line"> 3b        7        10      0    Write buffer, download microcode with offsets, save, and activate</span><br><span class="line"> 3b        a        10      0    Write buffer, write data to <span class="built_in">echo</span> buffer</span><br><span class="line"> 3b        d        10      0    Write buffer, download microcode with offsets, select activation events, save and defer activate</span><br><span class="line"> 3b        e        10      0    Write buffer, download microcode with offsets, save and defer activate</span><br><span class="line"> 3b        f        10      0    Write buffer, activate deferred microcode</span><br><span class="line"> 3b       1a        10      0    Write buffer, <span class="built_in">enable</span> expander comms protocol and <span class="built_in">echo</span> buffer</span><br><span class="line"> 3c        0        10      0    Read buffer(10), combined header and data [or multiple modes]</span><br><span class="line"> 3c        2        10      0    Read buffer(10), data</span><br><span class="line"> 3c        3        10      0    Read buffer(10), descriptor</span><br><span class="line"> 3c        a        10      0    Read buffer(10), <span class="built_in">read</span> data from <span class="built_in">echo</span> buffer</span><br><span class="line"> 3c        b        10      0    Read buffer(10), <span class="built_in">echo</span> buffer descriptor</span><br><span class="line"> 3c       1a        10      0    Read buffer(10), <span class="built_in">enable</span> expander comms protocol and <span class="built_in">echo</span> buffer</span><br><span class="line"> 3c       1c        10      0    Read buffer(10), error <span class="built_in">history</span></span><br><span class="line"> 3e                 10      0    Read long(10)</span><br><span class="line"> 3f                 10      0    Write long(10)</span><br><span class="line"> 41                 10      0    Write same(10)</span><br><span class="line"> 48        1        10      0    Sanitize, overwrite</span><br><span class="line"> 48        3        10      0    Sanitize, cryptographic erase</span><br><span class="line"> 48       1f        10      0    Sanitize, <span class="built_in">exit</span> failure mode</span><br><span class="line"> 4c                 10      0    Log select</span><br><span class="line"> 4d                 10      0    Log sense</span><br><span class="line"> 55                 10      0    Mode select(10)</span><br><span class="line"> 56                 10      0    Reserve(10)</span><br><span class="line"> 57                 10      0    Release(10)</span><br><span class="line"> 5a                 10      0    Mode sense(10)</span><br><span class="line"> 5e        0        10      0    Persistent reserve <span class="keyword">in</span>, <span class="built_in">read</span> keys</span><br><span class="line"> 5e        1        10      0    Persistent reserve <span class="keyword">in</span>, <span class="built_in">read</span> reservation</span><br><span class="line"> 5e        2        10      0    Persistent reserve <span class="keyword">in</span>, report capabilities</span><br><span class="line"> 5e        3        10      0    Persistent reserve <span class="keyword">in</span>, <span class="built_in">read</span> full status</span><br><span class="line"> 5f        0        10      0    Persistent reserve out, register</span><br><span class="line"> 5f        1        10      0    Persistent reserve out, reserve</span><br><span class="line"> 5f        2        10      0    Persistent reserve out, release</span><br><span class="line"> 5f        3        10      0    Persistent reserve out, clear</span><br><span class="line"> 5f        4        10      0    Persistent reserve out, preempt</span><br><span class="line"> 5f        5        10      0    Persistent reserve out, preempt and abort</span><br><span class="line"> 5f        6        10      0    Persistent reserve out, register and ignore existing key</span><br><span class="line"> 88                 16      0    Read(16)</span><br><span class="line"> 8a                 16      0    Write(16)</span><br><span class="line"> 8e                 16      0    Write and verify(16)</span><br><span class="line"> 8f                 16      0    Verify(16)</span><br><span class="line"> 90                 16      0    Pre-fetch(16)</span><br><span class="line"> 91                 16      0    Synchronize cache(16)</span><br><span class="line"> 93                 16      0    Write same(16)</span><br><span class="line"> 9e       10        16      0    Read capacity(16)</span><br><span class="line"> 9e       11        16      0    Read long(16)</span><br><span class="line"> 9f       11        16      0    Write long(16)</span><br><span class="line"> a0                 12      0    Report luns</span><br><span class="line"> a3        5        12      0    Report identifying information</span><br><span class="line"> a3        c        12      0    Report supported operation codes</span><br><span class="line"> a3        d        12      0    Report supported task management <span class="built_in">functions</span></span><br><span class="line"> a3        f        12      0    Report timestamp</span><br><span class="line"> a4        6        12      0    Set identifying information</span><br><span class="line"> a4        f        12      0    Set timestamp</span><br><span class="line"> a8                 12      0    Read(12)</span><br><span class="line"> aa                 12      0    Write(12)</span><br><span class="line"> ae                 12      0    Write and verify(12)</span><br><span class="line"> af                 12      0    Verify(12)</span><br><span class="line"> b7                 12      0    Read defect data(12)</span><br><span class="line"></span><br><span class="line"><span class="comment"># not show in HDD</span></span><br><span class="line">05 READ BLOCK LIMITS Manufacturer Specific Tape drives only</span><br><span class="line">09 Manufacturer Specific Manufacturer Specific</span><br><span class="line">0F READ REVERSE Manufacturer Specific</span><br><span class="line">10 WRITE FILEMARKS Optional Tape drives only</span><br><span class="line">11 SPACE Optional</span><br><span class="line">13 VERIFY (06) Manufacturer Specific</span><br><span class="line">14 RECOVER BUFFERED DATA Manufacturer Specific</span><br><span class="line">18 18 COPY Optional</span><br><span class="line">19 ERASE Optional Tape drives mandatory</span><br><span class="line">1E PREVENT/ALLOW MEDIUM REMOVAL Optional</span><br><span class="line">24 SET WINDOW Manufacturer Specific Scanners mandatory</span><br><span class="line">29 READ GENERATION Manufacturer Specific</span><br><span class="line">2C ERASE (10) Manufacturer Specific</span><br><span class="line">2D READ UPDATED BLOCK Manufacturer Specific</span><br><span class="line">2E WRITE AND VERIFY (10) Optional</span><br><span class="line">30 SEARCH DATA HIGH (10) Optional</span><br><span class="line">31 SEARCH DATA EQUAL (10) Optional</span><br><span class="line">32 SEARCH DATA LOW (10) Optional</span><br><span class="line">33 SET LIMITS (10) Optional</span><br><span class="line">36 LOCK UNLOCK CACHE Optional</span><br><span class="line">39 COMPARE Optional</span><br><span class="line">3A COPY and VERIFY Optional</span><br><span class="line">40 CHANGE DEFINITION Optional</span><br><span class="line">42 READ SUB CHANNEL CD-ROM only, optional</span><br><span class="line">43 READ TOC CD-ROM only, optional</span><br><span class="line">44 READ HEADER CD-ROM only, optional</span><br><span class="line">45 PLAY AUDIO CD-ROM only, optional</span><br><span class="line">47 PLAY AUDIO MSF CD-ROM only, optional</span><br><span class="line">49 PLAY TRACK RELATIVE (10) CD-ROM only, optional</span><br><span class="line">4B PAUSE / RESUME CD-ROM only, optional</span><br><span class="line">5A MODE SENSE (10) Optional</span><br><span class="line">A5 PLAY AUDIO (12) CD-ROM only, optional</span><br><span class="line">A8 READ (12) CD-ROM only, optional</span><br><span class="line">A9 PLAY TRACK RELATIVE (12) CD-ROM only, optional</span><br><span class="line">AF VERIFY (12) CD-ROM only, optional</span><br><span class="line">B0 SEARCH DATA HIGH (12) CD-ROM only, optional</span><br><span class="line">B1 SEARCH DATA EQUAL (12) CD-ROM only, optional</span><br><span class="line">B2 SEARCH DATA LOW (12) CD-ROM only, optional</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Byte 0 is the operation code (<span class="built_in">command</span>). SCSI Operation codes are listed <span class="keyword">in</span> the table below: For example, the 2a operational code indicates that a WRITE <span class="built_in">command</span> was issued</span><br><span class="line">Table 1: CDB Content</span><br><span class="line">bit→</span><br><span class="line">↓byte    7      6     5       4     3     2     1      0</span><br><span class="line">0                       Operation code  &lt;---------------------------Byte 0</span><br><span class="line">1              LUN       |               Reserved</span><br><span class="line">2                       Reserved</span><br><span class="line">3                       Reserved</span><br><span class="line">4                       Allocation length</span><br><span class="line">5                       Control</span><br></pre></td></tr></table></figure>

<p>Decode the CDB(Command Descriptor Block)    </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">Command Descriptor Block (CDB)</span><br><span class="line">Intel ® RAID controllers addressed in this document support 4 kinds of the CDB length – 6-byte commands, 10-byte commands, 12-byte commands and 16-byte commands</span><br><span class="line">Typical CDB for 6-byte commands</span><br><span class="line">Typical CDB for 10-byte commands</span><br><span class="line">Typical CDB for 12-byte commands</span><br><span class="line">Typical CDB for 16-byte commands</span><br><span class="line">Typical CDB for long LBA 16-byte commands</span><br><span class="line">Typical variable length CDB for long LBA 32-byte commands</span><br><span class="line"></span><br><span class="line">0x2a 0x00 0x00 0x02 0xf2 0x00 0x00 0x00 0x80 0x00</span><br><span class="line"></span><br><span class="line">In the earlier error message example the CDB (CDB = 0x2a 0x00 0x00 0x02 0xf2 0x00 0x00 0x00 0x80 0x00) was decoded as a WRITE command.</span><br><span class="line"></span><br><span class="line">The sense code portion of this error message is shown below.</span><br><span class="line">        Byte0  B1  B2   B3  B4   B5   B6   B7   B8   B9   B10  B11  B12  B13  B14  B16</span><br><span class="line">sense=  0xf0  0x0 0x0b 0x0 0x02 0xf2 0x2d 0x0a 0x00 0x00 0x00 0x00 0x4b 0x05 0x00 0x00 0x00</span><br><span class="line">         |         |                                                 |    |</span><br><span class="line">Err code--         --- Sense key                                     |    |</span><br><span class="line">                         |                                           --------------Addition sense code and Addition sense code qualifier bytes</span><br><span class="line">                         |</span><br><span class="line">                         |</span><br><span class="line">0h      NO SENSE         |</span><br><span class="line">1h      RECOVERED ERROR  |</span><br><span class="line">2h      NOT READY        |</span><br><span class="line">3h      MEDIUM ERROR     |</span><br><span class="line">4h      HARDWARE ERROR   |</span><br><span class="line">5h      ILLEGAL REQUEST  |</span><br><span class="line">6h      UNIT ATTENTION   |</span><br><span class="line">7h      DATA PROTECT     |</span><br><span class="line">8h      BLANK CHECK      |</span><br><span class="line">9h      VENDOR SPECIFIC  |</span><br><span class="line">Ah      COPY ABORTED     |</span><br><span class="line">Bh      ABORTED COMMAND---</span><br><span class="line">Dh      VOLUME OVERFLOW</span><br><span class="line">Eh      MISCOMPARE</span><br><span class="line">Fh      COMPLETED</span><br><span class="line"></span><br><span class="line">#The Error Code (Byte 0) for an unexpected sense code is usually 70. Sometimes this byte contains F0 instead because the 7 th bit of the Byte 0 is valid, e.g., 0xF0 = 0x70 | 0x80, 0x70 indicates the current error on the target device and 0x80 indicates that the field contains valid information</span><br><span class="line"></span><br><span class="line">Sense Codes (SK, ASC, ASCQ)</span><br><span class="line">https://www.stix.id.au/wiki/SCSI_Sense_Data</span><br><span class="line"># The Error Code at Byte0 indicates that an error occurred and the sense message contains usable informationThe Error Code at Byte0 indicates that an error occurred and the sense message contains usable information</span><br><span class="line"></span><br><span class="line"># Sense Key at Byte2 is 0B and indicates that a command was aborted by the device</span><br><span class="line"></span><br><span class="line"># ASC at Byte 12 is 4B and the ASCQ at Byte 13 is 05, which indicates that there was a Data Phase Error - DATA OFFSET ERROR(4Bh/05h  DZTPROMAEBK    DATA OFFSET ERROR)</span><br><span class="line"></span><br><span class="line">An error event in the log may be followed by a second error event that can provide additional information. For example a CDB is issued to VERIFY a data block is shown below.</span><br><span class="line">CDB: 2f 00 13 8e 93 05 00 80 00 00</span><br><span class="line">The CDB indicates that the drive will verify the 0x8000 block written data on the medium using ECC starting from LBA 0x138E9305.</span><br><span class="line"></span><br><span class="line">It is followed by the sense data, which indicates that the drive returned an unrecoverable read error on the LBA 0x138EF588.</span><br><span class="line">Sense Code: f0 00 03 13 8e f5 88 0a 00 00 00 00 11 00 00 00 00 0</span><br><span class="line">Next the Controller tries to fix the error using the WRITE and VERIFY command, which indicates that the drive will write 0x01 block data and then verify the written data in the medium using ECC starting from LAB 0x138EF588.</span><br><span class="line"></span><br><span class="line">CDB: 2e 00 13 8e f5 88 00 00 01 00</span><br><span class="line">It is followed by the sense data, which indicates that the drive failed the read command again.</span><br><span class="line">Sense Code: f0 00 03 13 8e f5 88 0a 00 00 00 00 11 00 00 00 00 0</span><br></pre></td></tr></table></figure>


<p><a target="_blank" rel="noopener" href="https://www.t10.org/lists/asc-num.txt">asc-num</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">         D - Direct Access Block Device (SBC-4)             device column key</span><br><span class="line">         .Z - Host Managed Zoned Block Device (ZBC)        -------------------</span><br><span class="line">         . T - Sequential Access Device (SSC-5)               blank = reserved</span><br><span class="line">         .  P - Processor Device (SPC-2)                   not blank = allowed</span><br><span class="line">         .  .R - C/DVD Device (MMC-6)</span><br><span class="line">         .  . O - Optical Memory Block Device (SBC)</span><br><span class="line">         .  .  M - Media Changer Device (SMC-3)</span><br><span class="line">         .  .  .A - Storage Array Device (SCC-2)</span><br><span class="line">         .  .  . E - SCSI Enclosure Services device (SES-3)</span><br><span class="line">         .  .  .  B - Simplified Direct-Access (Reduced Block) device (RBC)</span><br><span class="line">         .  .  .  .K - Optical Card Reader/Writer device (OCRW)</span><br><span class="line">         .  .  .  . V - Automation/Device Interface device (ADC-4)</span><br><span class="line">         .  .  .  .  F - Object-based Storage Device (OSD-2)</span><br><span class="line">ASC/ASCQ DZTPROMAEBKVF  Description</span><br><span class="line">-------- -------------  ----------------------------------------------------</span><br><span class="line">00h/00h  DZTPROMAEBKVF  NO ADDITIONAL SENSE INFORMATION</span><br><span class="line">00h/01h    T            FILEMARK DETECTED</span><br><span class="line">00h/02h    T            END-OF-PARTITION/MEDIUM DETECTED</span><br><span class="line">00h/03h    T            SETMARK DETECTED</span><br><span class="line">00h/04h    T            BEGINNING-OF-PARTITION/MEDIUM DETECTED</span><br><span class="line">00h/05h    T            END-OF-DATA DETECTED</span><br><span class="line">00h/06h  DZTPROMAEBKVF  I/O PROCESS TERMINATED</span><br><span class="line">00h/07h    T            PROGRAMMABLE EARLY WARNING DETECTED</span><br><span class="line">00h/11h      R          AUDIO PLAY OPERATION IN PROGRESS</span><br><span class="line">00h/12h      R          AUDIO PLAY OPERATION PAUSED</span><br><span class="line">00h/13h      R          AUDIO PLAY OPERATION SUCCESSFULLY COMPLETED</span><br><span class="line">00h/14h      R          AUDIO PLAY OPERATION STOPPED DUE TO ERROR</span><br><span class="line">00h/15h      R          NO CURRENT AUDIO STATUS TO RETURN</span><br><span class="line">00h/16h  DZTPROMAEBKVF  OPERATION IN PROGRESS</span><br><span class="line">00h/17h  DZT ROMAEBKVF  CLEANING REQUESTED</span><br><span class="line">00h/18h    T            ERASE OPERATION IN PROGRESS</span><br><span class="line">00h/19h    T            LOCATE OPERATION IN PROGRESS</span><br><span class="line">00h/1Ah    T            REWIND OPERATION IN PROGRESS</span><br><span class="line">00h/1Bh    T            SET CAPACITY OPERATION IN PROGRESS</span><br><span class="line">00h/1Ch    T            VERIFY OPERATION IN PROGRESS</span><br><span class="line">00h/1Dh  DZT      B     ATA PASS THROUGH INFORMATION AVAILABLE</span><br><span class="line">00h/1Eh  DZT R MAEBKV   CONFLICTING SA CREATION REQUEST</span><br><span class="line">00h/1Fh  DZT      B     LOGICAL UNIT TRANSITIONING TO ANOTHER POWER CONDITION</span><br><span class="line">00h/20h  DZTP     B     EXTENDED COPY INFORMATION AVAILABLE</span><br><span class="line">00h/21h  DZ             ATOMIC COMMAND ABORTED DUE TO ACA</span><br><span class="line">00h/22h  DZ             DEFERRED MICROCODE IS PENDING</span><br><span class="line">01h/00h  DZ   O   BK    NO INDEX/SECTOR SIGNAL</span><br><span class="line">02h/00h  DZ  RO   BK    NO SEEK COMPLETE</span><br><span class="line">03h/00h  DZT  O   BK    PERIPHERAL DEVICE WRITE FAULT</span><br><span class="line">03h/01h    T            NO WRITE CURRENT</span><br><span class="line">03h/02h    T            EXCESSIVE WRITE ERRORS</span><br><span class="line">04h/00h  DZTPROMAEBKVF  LOGICAL UNIT NOT READY, CAUSE NOT REPORTABLE</span><br><span class="line">04h/01h  DZTPROMAEBKVF  LOGICAL UNIT IS IN PROCESS OF BECOMING READY</span><br><span class="line">04h/02h  DZTPROMAEBKVF  LOGICAL UNIT NOT READY, INITIALIZING COMMAND REQUIRED</span><br><span class="line">04h/03h  DZTPROMAEBKVF  LOGICAL UNIT NOT READY, MANUAL INTERVENTION REQUIRED</span><br><span class="line">04h/04h  DZT RO   B     LOGICAL UNIT NOT READY, FORMAT IN PROGRESS</span><br><span class="line">04h/05h  DZT  O A BK F  LOGICAL UNIT NOT READY, REBUILD IN PROGRESS</span><br><span class="line">04h/06h  DZT  O A BK    LOGICAL UNIT NOT READY, RECALCULATION IN PROGRESS</span><br><span class="line">04h/07h  DZTPROMAEBKVF  LOGICAL UNIT NOT READY, OPERATION IN PROGRESS</span><br><span class="line">04h/08h      R          LOGICAL UNIT NOT READY, LONG WRITE IN PROGRESS</span><br><span class="line">04h/09h  DZTPROMAEBKVF  LOGICAL UNIT NOT READY, SELF-TEST IN PROGRESS</span><br><span class="line">04h/0Ah  DZTPROMAEBKVF  LOGICAL UNIT NOT ACCESSIBLE, ASYMMETRIC ACCESS STATE TRANSITION</span><br><span class="line">04h/0Bh  DZTPROMAEBKVF  LOGICAL UNIT NOT ACCESSIBLE, TARGET PORT IN STANDBY STATE</span><br><span class="line">04h/0Ch  DZTPROMAEBKVF  LOGICAL UNIT NOT ACCESSIBLE, TARGET PORT IN UNAVAILABLE STATE</span><br><span class="line">04h/0Dh              F  LOGICAL UNIT NOT READY, STRUCTURE CHECK REQUIRED</span><br><span class="line">04h/0Eh  DZT R MAEBKVF  LOGICAL UNIT NOT READY, SECURITY SESSION IN PROGRESS</span><br><span class="line">04h/10h  DZT ROM  B     LOGICAL UNIT NOT READY, AUXILIARY MEMORY NOT ACCESSIBLE</span><br><span class="line">04h/11h  DZT RO AEB VF  LOGICAL UNIT NOT READY, NOTIFY (ENABLE SPINUP) REQUIRED</span><br><span class="line">04h/12h        M    V   LOGICAL UNIT NOT READY, OFFLINE</span><br><span class="line">04h/13h  DZT R MAEBKV   LOGICAL UNIT NOT READY, SA CREATION IN PROGRESS</span><br><span class="line">04h/14h  DZ       B     LOGICAL UNIT NOT READY, SPACE ALLOCATION IN PROGRESS</span><br><span class="line">04h/15h        M        LOGICAL UNIT NOT READY, ROBOTICS DISABLED</span><br><span class="line">04h/16h        M        LOGICAL UNIT NOT READY, CONFIGURATION REQUIRED</span><br><span class="line">04h/17h        M        LOGICAL UNIT NOT READY, CALIBRATION REQUIRED</span><br><span class="line">04h/18h        M        LOGICAL UNIT NOT READY, A DOOR IS OPEN</span><br><span class="line">04h/19h        M        LOGICAL UNIT NOT READY, OPERATING IN SEQUENTIAL MODE</span><br><span class="line">04h/1Ah  DZ       B     LOGICAL UNIT NOT READY, START STOP UNIT COMMAND IN PROGRESS</span><br><span class="line">04h/1Bh  DZ       B     LOGICAL UNIT NOT READY, SANITIZE IN PROGRESS</span><br><span class="line">04h/1Ch  DZT   MAEB     LOGICAL UNIT NOT READY, ADDITIONAL POWER USE NOT YET GRANTED</span><br><span class="line">04h/1Dh  DZ             LOGICAL UNIT NOT READY, CONFIGURATION IN PROGRESS</span><br><span class="line">04h/1Eh  DZ             LOGICAL UNIT NOT READY, MICROCODE ACTIVATION REQUIRED</span><br><span class="line">04h/1Fh  DZTPROMAEBKVF  LOGICAL UNIT NOT READY, MICROCODE DOWNLOAD REQUIRED</span><br><span class="line">04h/20h  DZTPROMAEBKVF  LOGICAL UNIT NOT READY, LOGICAL UNIT RESET REQUIRED</span><br><span class="line">04h/21h  DZTPROMAEBKVF  LOGICAL UNIT NOT READY, HARD RESET REQUIRED</span><br><span class="line">04h/22h  DZTPROMAEBKVF  LOGICAL UNIT NOT READY, POWER CYCLE REQUIRED</span><br><span class="line">04h/23h  DZ             LOGICAL UNIT NOT READY, AFFILIATION REQUIRED</span><br><span class="line">04h/24h  DZ             DEPOPULATION IN PROGRESS</span><br><span class="line">04h/25h  DZ             DEPOPULATION RESTORATION IN PROGRESS</span><br><span class="line">05h/00h  DZT ROMAEBKVF  LOGICAL UNIT DOES NOT RESPOND TO SELECTION</span><br><span class="line">06h/00h  DZ  ROM  BK    NO REFERENCE POSITION FOUND</span><br><span class="line">07h/00h  DZT ROM  BK    MULTIPLE PERIPHERAL DEVICES SELECTED</span><br><span class="line">08h/00h  DZT ROMAEBKVF  LOGICAL UNIT COMMUNICATION FAILURE</span><br><span class="line">08h/01h  DZT ROMAEBKVF  LOGICAL UNIT COMMUNICATION TIME-OUT</span><br><span class="line">08h/02h  DZT ROMAEBKVF  LOGICAL UNIT COMMUNICATION PARITY ERROR</span><br><span class="line">08h/03h  DZT ROM  BK    LOGICAL UNIT COMMUNICATION CRC ERROR (ULTRA-DMA/32)</span><br><span class="line">08h/04h  DZTPRO    K    UNREACHABLE COPY TARGET</span><br><span class="line">09h/00h  DZT RO   B     TRACK FOLLOWING ERROR</span><br><span class="line">09h/01h      RO    K    TRACKING SERVO FAILURE</span><br><span class="line">09h/02h      RO    K    FOCUS SERVO FAILURE</span><br><span class="line">09h/03h      RO         SPINDLE SERVO FAILURE</span><br><span class="line">09h/04h  DZT RO   B     HEAD SELECT FAULT</span><br><span class="line">09h/05h  DZT RO   B     VIBRATION INDUCED TRACKING ERROR</span><br><span class="line">0Ah/00h  DZTPROMAEBKVF  ERROR LOG OVERFLOW</span><br><span class="line">0Bh/00h  DZTPROMAEBKVF  WARNING</span><br><span class="line">0Bh/01h  DZTPROMAEBKVF  WARNING - SPECIFIED TEMPERATURE EXCEEDED</span><br><span class="line">0Bh/02h  DZTPROMAEBKVF  WARNING - ENCLOSURE DEGRADED</span><br><span class="line">0Bh/03h  DZTPROMAEBKVF  WARNING - BACKGROUND SELF-TEST FAILED</span><br><span class="line">0Bh/04h  DZTPRO AEBKVF  WARNING - BACKGROUND PRE-SCAN DETECTED MEDIUM ERROR</span><br><span class="line">0Bh/05h  DZTPRO AEBKVF  WARNING - BACKGROUND MEDIUM SCAN DETECTED MEDIUM ERROR</span><br><span class="line">0Bh/06h  DZTPROMAEBKVF  WARNING - NON-VOLATILE CACHE NOW VOLATILE</span><br><span class="line">0Bh/07h  DZTPROMAEBKVF  WARNING - DEGRADED POWER TO NON-VOLATILE CACHE</span><br><span class="line">0Bh/08h  DZTPROMAEBKVF  WARNING - POWER LOSS EXPECTED</span><br><span class="line">0Bh/09h  DZ             WARNING - DEVICE STATISTICS NOTIFICATION ACTIVE</span><br><span class="line">0Bh/0Ah  DZTPROMAEBKV   WARNING - HIGH CRITICAL TEMPERATURE LIMIT EXCEEDED</span><br><span class="line">0Bh/0Bh  DZTPROMAEBKV   WARNING - LOW CRITICAL TEMPERATURE LIMIT EXCEEDED</span><br><span class="line">0Bh/0Ch  DZTPROMAEBKV   WARNING - HIGH OPERATING TEMPERATURE LIMIT EXCEEDED</span><br><span class="line">0Bh/0Dh  DZTPROMAEBKV   WARNING - LOW OPERATING TEMPERATURE LIMIT EXCEEDED</span><br><span class="line">0Bh/0Eh  DZTPROMAEBKV   WARNING - HIGH CRITICAL HUMIDITY LIMIT EXCEEDED</span><br><span class="line">0Bh/0Fh  DZTPROMAEBKV   WARNING - LOW CRITICAL HUMIDITY LIMIT EXCEEDED</span><br><span class="line">0Bh/10h  DZTPROMAEBKV   WARNING - HIGH OPERATING HUMIDITY LIMIT EXCEEDED</span><br><span class="line">0Bh/11h  DZTPROMAEBKV   WARNING - LOW OPERATING HUMIDITY LIMIT EXCEEDED</span><br><span class="line">0Bh/12h  DZTPROMAEBKVF  WARNING - MICROCODE SECURITY AT RISK</span><br><span class="line">0Bh/13h  DZTPROMAEBKVF  WARNING - MICROCODE DIGITAL SIGNATURE VALIDATION FAILURE</span><br><span class="line">0Bh/14h  DZ             WARNING - PHYSICAL ELEMENT STATUS CHANGE</span><br><span class="line">0Ch/00h  DZT R          WRITE ERROR</span><br><span class="line">0Ch/01h  DZ        K    WRITE ERROR - RECOVERED WITH AUTO REALLOCATION</span><br><span class="line">0Ch/02h  DZ   O   BK    WRITE ERROR - AUTO REALLOCATION FAILED</span><br><span class="line">0Ch/03h  DZ   O   BK    WRITE ERROR - RECOMMEND REASSIGNMENT</span><br><span class="line">0Ch/04h  DZT  O   B     COMPRESSION CHECK MISCOMPARE ERROR</span><br><span class="line">0Ch/05h  DZT  O   B     DATA EXPANSION OCCURRED DURING COMPRESSION</span><br><span class="line">0Ch/06h  DZT  O   B     BLOCK NOT COMPRESSIBLE</span><br><span class="line">0Ch/07h  DZ  R          WRITE ERROR - RECOVERY NEEDED</span><br><span class="line">0Ch/08h      R          WRITE ERROR - RECOVERY FAILED</span><br><span class="line">0Ch/09h      R          WRITE ERROR - LOSS OF STREAMING</span><br><span class="line">0Ch/0Ah      R          WRITE ERROR - PADDING BLOCKS ADDED</span><br><span class="line">0Ch/0Bh  DZT ROM  B     AUXILIARY MEMORY WRITE ERROR</span><br><span class="line">0Ch/0Ch  DZTPRO AEBKVF  WRITE ERROR - UNEXPECTED UNSOLICITED DATA</span><br><span class="line">0Ch/0Dh  DZTPRO AEBKVF  WRITE ERROR - NOT ENOUGH UNSOLICITED DATA</span><br><span class="line">0Ch/0Eh  DZT  O   BK    MULTIPLE WRITE ERRORS</span><br><span class="line">0Ch/0Fh      R          DEFECTS IN ERROR WINDOW</span><br><span class="line">0Ch/10h  DZ             INCOMPLETE MULTIPLE ATOMIC WRITE OPERATIONS</span><br><span class="line">0Ch/11h  DZ             WRITE ERROR - RECOVERY SCAN NEEDED</span><br><span class="line">0Ch/12h  DZ             WRITE ERROR - INSUFFICIENT ZONE RESOURCES</span><br><span class="line">0Dh/00h  DZTPRO A  K    ERROR DETECTED BY THIRD PARTY TEMPORARY INITIATOR</span><br><span class="line">0Dh/01h  DZTPRO A  K    THIRD PARTY DEVICE FAILURE</span><br><span class="line">0Dh/02h  DZTPRO A  K    COPY TARGET DEVICE NOT REACHABLE</span><br><span class="line">0Dh/03h  DZTPRO A  K    INCORRECT COPY TARGET DEVICE TYPE</span><br><span class="line">0Dh/04h  DZTPRO A  K    COPY TARGET DEVICE DATA UNDERRUN</span><br><span class="line">0Dh/05h  DZTPRO A  K    COPY TARGET DEVICE DATA OVERRUN</span><br><span class="line">0Eh/00h  DZTPROMAEBK F  INVALID INFORMATION UNIT</span><br><span class="line">0Eh/01h  DZTPROMAEBK F  INFORMATION UNIT TOO SHORT</span><br><span class="line">0Eh/02h  DZTPROMAEBK F  INFORMATION UNIT TOO LONG</span><br><span class="line">0Eh/03h  DZTPR MAEBK F  INVALID FIELD IN COMMAND INFORMATION UNIT</span><br><span class="line">0Fh/00h</span><br><span class="line">10h/00h  DZ   O   BK    ID CRC OR ECC ERROR</span><br><span class="line">10h/01h  DZT  O         LOGICAL BLOCK GUARD CHECK FAILED</span><br><span class="line">10h/02h  DZT  O         LOGICAL BLOCK APPLICATION TAG CHECK FAILED</span><br><span class="line">10h/03h  DZT  O         LOGICAL BLOCK REFERENCE TAG CHECK FAILED</span><br><span class="line">10h/04h    T            LOGICAL BLOCK PROTECTION ERROR ON RECOVER BUFFERED DATA</span><br><span class="line">10h/05h    T            LOGICAL BLOCK PROTECTION METHOD ERROR</span><br><span class="line">11h/00h  DZT RO   BK    UNRECOVERED READ ERROR</span><br><span class="line">11h/01h  DZT RO   BK    READ RETRIES EXHAUSTED</span><br><span class="line">11h/02h  DZT RO   BK    ERROR TOO LONG TO CORRECT</span><br><span class="line">11h/03h  DZT  O   BK    MULTIPLE READ ERRORS</span><br><span class="line">11h/04h  DZ   O   BK    UNRECOVERED READ ERROR - AUTO REALLOCATE FAILED</span><br><span class="line">11h/05h      RO   B     L-EC UNCORRECTABLE ERROR</span><br><span class="line">11h/06h      RO   B     CIRC UNRECOVERED ERROR</span><br><span class="line">11h/07h       O   B     DATA RE-SYNCHRONIZATION ERROR</span><br><span class="line">11h/08h    T            INCOMPLETE BLOCK READ</span><br><span class="line">11h/09h    T            NO GAP FOUND</span><br><span class="line">11h/0Ah  DZT  O   BK    MISCORRECTED ERROR</span><br><span class="line">11h/0Bh  DZ   O   BK    UNRECOVERED READ ERROR - RECOMMEND REASSIGNMENT</span><br><span class="line">11h/0Ch  DZ   O   BK    UNRECOVERED READ ERROR - RECOMMEND REWRITE THE DATA</span><br><span class="line">11h/0Dh  DZT RO   B     DE-COMPRESSION CRC ERROR</span><br><span class="line">11h/0Eh  DZT RO   B     CANNOT DECOMPRESS USING DECLARED ALGORITHM</span><br><span class="line">11h/0Fh      R          ERROR READING UPC/EAN NUMBER</span><br><span class="line">11h/10h      R          ERROR READING ISRC NUMBER</span><br><span class="line">11h/11h      R          READ ERROR - LOSS OF STREAMING</span><br><span class="line">11h/12h  DZT ROM  B     AUXILIARY MEMORY READ ERROR</span><br><span class="line">11h/13h  DZTPRO AEBKVF  READ ERROR - FAILED RETRANSMISSION REQUEST</span><br><span class="line">11h/14h  DZ             READ ERROR - LBA MARKED BAD BY APPLICATION CLIENT</span><br><span class="line">11h/15h  DZ             WRITE AFTER SANITIZE REQUIRED</span><br><span class="line">12h/00h  DZ   O   BK    ADDRESS MARK NOT FOUND FOR ID FIELD</span><br><span class="line">13h/00h  DZ   O   BK    ADDRESS MARK NOT FOUND FOR DATA FIELD</span><br><span class="line">14h/00h  DZT RO   BK    RECORDED ENTITY NOT FOUND</span><br><span class="line">14h/01h  DZT RO   BK    RECORD NOT FOUND</span><br><span class="line">14h/02h    T            FILEMARK OR SETMARK NOT FOUND</span><br><span class="line">14h/03h    T            END-OF-DATA NOT FOUND</span><br><span class="line">14h/04h    T            BLOCK SEQUENCE ERROR</span><br><span class="line">14h/05h  DZT  O   BK    RECORD NOT FOUND - RECOMMEND REASSIGNMENT</span><br><span class="line">14h/06h  DZT  O   BK    RECORD NOT FOUND - DATA AUTO-REALLOCATED</span><br><span class="line">14h/07h    T            LOCATE OPERATION FAILURE</span><br><span class="line">15h/00h  DZT ROM  BK    RANDOM POSITIONING ERROR</span><br><span class="line">15h/01h  DZT ROM  BK    MECHANICAL POSITIONING ERROR</span><br><span class="line">15h/02h  DZT RO   BK    POSITIONING ERROR DETECTED BY READ OF MEDIUM</span><br><span class="line">16h/00h  DZ   O   BK    DATA SYNCHRONIZATION MARK ERROR</span><br><span class="line">16h/01h  DZ   O   BK    DATA SYNC ERROR - DATA REWRITTEN</span><br><span class="line">16h/02h  DZ   O   BK    DATA SYNC ERROR - RECOMMEND REWRITE</span><br><span class="line">16h/03h  DZ   O   BK    DATA SYNC ERROR - DATA AUTO-REALLOCATED</span><br><span class="line">16h/04h  DZ   O   BK    DATA SYNC ERROR - RECOMMEND REASSIGNMENT</span><br><span class="line">17h/00h  DZT RO   BK    RECOVERED DATA WITH NO ERROR CORRECTION APPLIED</span><br><span class="line">17h/01h  DZT RO   BK    RECOVERED DATA WITH RETRIES</span><br><span class="line">17h/02h  DZT RO   BK    RECOVERED DATA WITH POSITIVE HEAD OFFSET</span><br><span class="line">17h/03h  DZT RO   BK    RECOVERED DATA WITH NEGATIVE HEAD OFFSET</span><br><span class="line">17h/04h      RO   B     RECOVERED DATA WITH RETRIES AND/OR CIRC APPLIED</span><br><span class="line">17h/05h  DZ  RO   BK    RECOVERED DATA USING PREVIOUS SECTOR ID</span><br><span class="line">17h/06h  DZ   O   BK    RECOVERED DATA WITHOUT ECC - DATA AUTO-REALLOCATED</span><br><span class="line">17h/07h  DZ  RO   BK    RECOVERED DATA WITHOUT ECC - RECOMMEND REASSIGNMENT</span><br><span class="line">17h/08h  DZ  RO   BK    RECOVERED DATA WITHOUT ECC - RECOMMEND REWRITE</span><br><span class="line">17h/09h  DZ  RO   BK    RECOVERED DATA WITHOUT ECC - DATA REWRITTEN</span><br><span class="line">18h/00h  DZT RO   BK    RECOVERED DATA WITH ERROR CORRECTION APPLIED</span><br><span class="line">18h/01h  DZ  RO   BK    RECOVERED DATA WITH ERROR CORR. &amp; RETRIES APPLIED</span><br><span class="line">18h/02h  DZ  RO   BK    RECOVERED DATA - DATA AUTO-REALLOCATED</span><br><span class="line">18h/03h      R          RECOVERED DATA WITH CIRC</span><br><span class="line">18h/04h      R          RECOVERED DATA WITH L-EC</span><br><span class="line">18h/05h  DZ  RO   BK    RECOVERED DATA - RECOMMEND REASSIGNMENT</span><br><span class="line">18h/06h  DZ  RO   BK    RECOVERED DATA - RECOMMEND REWRITE</span><br><span class="line">18h/07h  DZ   O   BK    RECOVERED DATA WITH ECC - DATA REWRITTEN</span><br><span class="line">18h/08h      R          RECOVERED DATA WITH LINKING</span><br><span class="line">19h/00h  DZ   O    K    DEFECT LIST ERROR</span><br><span class="line">19h/01h  DZ   O    K    DEFECT LIST NOT AVAILABLE</span><br><span class="line">19h/02h  DZ   O    K    DEFECT LIST ERROR IN PRIMARY LIST</span><br><span class="line">19h/03h  DZ   O    K    DEFECT LIST ERROR IN GROWN LIST</span><br><span class="line">1Ah/00h  DZTPROMAEBKVF  PARAMETER LIST LENGTH ERROR</span><br><span class="line">1Bh/00h  DZTPROMAEBKVF  SYNCHRONOUS DATA TRANSFER ERROR</span><br><span class="line">1Ch/00h  DZ   O   BK    DEFECT LIST NOT FOUND</span><br><span class="line">1Ch/01h  DZ   O   BK    PRIMARY DEFECT LIST NOT FOUND</span><br><span class="line">1Ch/02h  DZ   O   BK    GROWN DEFECT LIST NOT FOUND</span><br><span class="line">1Dh/00h  DZT RO   BK    MISCOMPARE DURING VERIFY OPERATION</span><br><span class="line">1Dh/01h  DZ       B     MISCOMPARE VERIFY OF UNMAPPED LBA</span><br><span class="line">1Eh/00h  DZ   O   BK    RECOVERED ID WITH ECC CORRECTION</span><br><span class="line">1Fh/00h  DZ   O    K    PARTIAL DEFECT LIST TRANSFER</span><br><span class="line">20h/00h  DZTPROMAEBKVF  INVALID COMMAND OPERATION CODE</span><br><span class="line">20h/01h  DZTPROMAEBK    ACCESS DENIED - INITIATOR PENDING-ENROLLED</span><br><span class="line">20h/02h  DZTPROMAEBK    ACCESS DENIED - NO ACCESS RIGHTS</span><br><span class="line">20h/03h  DZTPROMAEBK    ACCESS DENIED - INVALID MGMT ID KEY</span><br><span class="line">20h/04h    T            ILLEGAL COMMAND WHILE IN WRITE CAPABLE STATE</span><br><span class="line">20h/05h    T            Obsolete</span><br><span class="line">20h/06h    T            ILLEGAL COMMAND WHILE IN EXPLICIT ADDRESS MODE</span><br><span class="line">20h/07h    T            ILLEGAL COMMAND WHILE IN IMPLICIT ADDRESS MODE</span><br><span class="line">20h/08h  DZTPROMAEBK    ACCESS DENIED - ENROLLMENT CONFLICT</span><br><span class="line">20h/09h  DZTPROMAEBK    ACCESS DENIED - INVALID LU IDENTIFIER</span><br><span class="line">20h/0Ah  DZTPROMAEBK    ACCESS DENIED - INVALID PROXY TOKEN</span><br><span class="line">20h/0Bh  DZTPROMAEBK    ACCESS DENIED - ACL LUN CONFLICT</span><br><span class="line">20h/0Ch    T            ILLEGAL COMMAND WHEN NOT IN APPEND-ONLY MODE</span><br><span class="line">20h/0Dh  D              NOT AN ADMINISTRATIVE LOGICAL UNIT</span><br><span class="line">20h/0Eh  D              NOT A SUBSIDIARY LOGICAL UNIT</span><br><span class="line">20h/0Fh  D              NOT A CONGLOMERATE LOGICAL UNIT</span><br><span class="line">21h/00h  DZT RO   BK    LOGICAL BLOCK ADDRESS OUT OF RANGE</span><br><span class="line">21h/01h  DZT ROM  BK    INVALID ELEMENT ADDRESS</span><br><span class="line">21h/02h      R          INVALID ADDRESS FOR WRITE</span><br><span class="line">21h/03h      R          INVALID WRITE CROSSING LAYER JUMP</span><br><span class="line">21h/04h  DZ             UNALIGNED WRITE COMMAND</span><br><span class="line">21h/05h  DZ             WRITE BOUNDARY VIOLATION</span><br><span class="line">21h/06h  DZ             ATTEMPT TO READ INVALID DATA</span><br><span class="line">21h/07h  DZ             READ BOUNDARY VIOLATION</span><br><span class="line">21h/08h  DZ             MISALIGNED WRITE COMMAND</span><br><span class="line">21h/09h  DZ             ATTEMPT TO ACCESS GAP ZONE</span><br><span class="line">22h/00h  DZ             ILLEGAL FUNCTION (USE 20 00, 24 00, OR 26 00)</span><br><span class="line">23h/00h  DZTP     B     INVALID TOKEN OPERATION, CAUSE NOT REPORTABLE</span><br><span class="line">23h/01h  DZTP     B     INVALID TOKEN OPERATION, UNSUPPORTED TOKEN TYPE</span><br><span class="line">23h/02h  DZTP     B     INVALID TOKEN OPERATION, REMOTE TOKEN USAGE NOT SUPPORTED</span><br><span class="line">23h/03h  DZTP     B     INVALID TOKEN OPERATION, REMOTE ROD TOKEN CREATION NOT SUPPORTED</span><br><span class="line">23h/04h  DZTP     B     INVALID TOKEN OPERATION, TOKEN UNKNOWN</span><br><span class="line">23h/05h  DZTP     B     INVALID TOKEN OPERATION, TOKEN CORRUPT</span><br><span class="line">23h/06h  DZTP     B     INVALID TOKEN OPERATION, TOKEN REVOKED</span><br><span class="line">23h/07h  DZTP     B     INVALID TOKEN OPERATION, TOKEN EXPIRED</span><br><span class="line">23h/08h  DZTP     B     INVALID TOKEN OPERATION, TOKEN CANCELLED</span><br><span class="line">23h/09h  DZTP     B     INVALID TOKEN OPERATION, TOKEN DELETED</span><br><span class="line">23h/0Ah  DZTP     B     INVALID TOKEN OPERATION, INVALID TOKEN LENGTH</span><br><span class="line">24h/00h  DZTPROMAEBKVF  INVALID FIELD IN CDB</span><br><span class="line">24h/01h  DZTPRO AEBKVF  CDB DECRYPTION ERROR</span><br><span class="line">24h/02h    T            Obsolete</span><br><span class="line">24h/03h    T            Obsolete</span><br><span class="line">24h/04h              F  SECURITY AUDIT VALUE FROZEN</span><br><span class="line">24h/05h              F  SECURITY WORKING KEY FROZEN</span><br><span class="line">24h/06h              F  NONCE NOT UNIQUE</span><br><span class="line">24h/07h              F  NONCE TIMESTAMP OUT OF RANGE</span><br><span class="line">24h/08h  DZT R MAEBKV   INVALID XCDB</span><br><span class="line">24h/09h  DZ             INVALID FAST FORMAT</span><br><span class="line">25h/00h  DZTPROMAEBKVF  LOGICAL UNIT NOT SUPPORTED</span><br><span class="line">26h/00h  DZTPROMAEBKVF  INVALID FIELD IN PARAMETER LIST</span><br><span class="line">26h/01h  DZTPROMAEBKVF  PARAMETER NOT SUPPORTED</span><br><span class="line">26h/02h  DZTPROMAEBKVF  PARAMETER VALUE INVALID</span><br><span class="line">26h/03h  DZTPROMAE K    THRESHOLD PARAMETERS NOT SUPPORTED</span><br><span class="line">26h/04h  DZTPROMAEBKVF  INVALID RELEASE OF PERSISTENT RESERVATION</span><br><span class="line">26h/05h  DZTPRO A BK    DATA DECRYPTION ERROR</span><br><span class="line">26h/06h  DZTPRO    K    TOO MANY TARGET DESCRIPTORS</span><br><span class="line">26h/07h  DZTPRO    K    UNSUPPORTED TARGET DESCRIPTOR TYPE CODE</span><br><span class="line">26h/08h  DZTPRO    K    TOO MANY SEGMENT DESCRIPTORS</span><br><span class="line">26h/09h  DZTPRO    K    UNSUPPORTED SEGMENT DESCRIPTOR TYPE CODE</span><br><span class="line">26h/0Ah  DZTPRO    K    UNEXPECTED INEXACT SEGMENT</span><br><span class="line">26h/0Bh  DZTPRO    K    INLINE DATA LENGTH EXCEEDED</span><br><span class="line">26h/0Ch  DZTPRO    K    INVALID OPERATION FOR COPY SOURCE OR DESTINATION</span><br><span class="line">26h/0Dh  DZTPRO    K    COPY SEGMENT GRANULARITY VIOLATION</span><br><span class="line">26h/0Eh  DZTPROMAEBK    INVALID PARAMETER WHILE PORT IS ENABLED</span><br><span class="line">26h/0Fh              F  INVALID DATA-OUT BUFFER INTEGRITY CHECK VALUE</span><br><span class="line">26h/10h    T            DATA DECRYPTION KEY FAIL LIMIT REACHED</span><br><span class="line">26h/11h    T            INCOMPLETE KEY-ASSOCIATED DATA SET</span><br><span class="line">26h/12h    T            VENDOR SPECIFIC KEY REFERENCE NOT FOUND</span><br><span class="line">26h/13h  D              APPLICATION TAG MODE PAGE IS INVALID</span><br><span class="line">26h/14h    T            TAPE STREAM MIRRORING PREVENTED</span><br><span class="line">26h/15h    T            COPY SOURCE OR COPY DESTINATION NOT AUTHORIZED</span><br><span class="line">26h/16h  DZ             FAST COPY NOT POSSIBLE</span><br><span class="line">27h/00h  DZT RO   BK    WRITE PROTECTED</span><br><span class="line">27h/01h  DZT RO   BK    HARDWARE WRITE PROTECTED</span><br><span class="line">27h/02h  DZT RO   BK    LOGICAL UNIT SOFTWARE WRITE PROTECTED</span><br><span class="line">27h/03h    T R          ASSOCIATED WRITE PROTECT</span><br><span class="line">27h/04h    T R          PERSISTENT WRITE PROTECT</span><br><span class="line">27h/05h    T R          PERMANENT WRITE PROTECT</span><br><span class="line">27h/06h      R       F  CONDITIONAL WRITE PROTECT</span><br><span class="line">27h/07h  DZ       B     SPACE ALLOCATION FAILED WRITE PROTECT</span><br><span class="line">27h/08h  DZ             ZONE IS READ ONLY</span><br><span class="line">28h/00h  DZTPROMAEBKVF  NOT READY TO READY CHANGE, MEDIUM MAY HAVE CHANGED</span><br><span class="line">28h/01h  DZT ROM  B     IMPORT OR EXPORT ELEMENT ACCESSED</span><br><span class="line">28h/02h      R          FORMAT-LAYER MAY HAVE CHANGED</span><br><span class="line">28h/03h        M        IMPORT/EXPORT ELEMENT ACCESSED, MEDIUM CHANGED</span><br><span class="line">29h/00h  DZTPROMAEBKVF  POWER ON, RESET, OR BUS DEVICE RESET OCCURRED</span><br><span class="line">   |</span><br><span class="line">   |</span><br><span class="line">   V</span><br><span class="line">https://access.redhat.com/solutions/6188261</span><br><span class="line"></span><br><span class="line">kernel: sd 1:0:4:41: Power-on or device reset occurred</span><br><span class="line">kernel: sd 2:0:1:58: Power-on or device reset occurred</span><br><span class="line">kernel: sd 1:0:5:1: Power-on or device reset occurred</span><br><span class="line">kernel: sd 2:0:1:44: Power-on or device reset occurred</span><br><span class="line">kernel: sd 2:0:2:58: Power-on or device reset occurred</span><br><span class="line">drivers/scsi/scsi_error.c</span><br><span class="line"> 380  * scsi_report_sense - Examine scsi sense information and log messages for</span><br><span class="line"> 381  *                     certain conditions, also issue uevents for some of them.</span><br><span class="line"> 382  * @sdev:       Device reporting the sense code</span><br><span class="line"> 383  * @sshdr:      sshdr to be examined</span><br><span class="line"> 384  */</span><br><span class="line"> 385 static void scsi_report_sense(struct scsi_device *sdev,</span><br><span class="line"> 386                               struct scsi_sense_hdr *sshdr)</span><br><span class="line"> 387 &#123;</span><br><span class="line"></span><br><span class="line"> 418                 if (sshdr-&gt;asc == 0x29) &#123;</span><br><span class="line"> 419                         evt_type = SDEV_EVT_POWER_ON_RESET_OCCURRED;</span><br><span class="line"> 420                         sdev_printk(KERN_WARNING, sdev,</span><br><span class="line"> 421                                     &quot;Power-on or device reset occurred\n&quot;);</span><br><span class="line"> 422                 &#125;</span><br><span class="line"></span><br><span class="line">scsi_decide_disposition</span><br><span class="line">        `---&gt;   scsi_check_sense</span><br><span class="line">                        `---&gt;   scsi_report_sense</span><br><span class="line"></span><br><span class="line">scsi_decide_disposition</span><br><span class="line">        ^</span><br><span class="line">        |___ this showed that SCSI command got completed with CHECK_CONDITION:</span><br><span class="line"></span><br><span class="line">        1913         case CHECK_CONDITION:</span><br><span class="line">        1914                 rtn = scsi_check_sense(scmd);</span><br><span class="line"></span><br><span class="line">So, the &quot;scsi_check_sense&quot; function was called to check the sense data.</span><br><span class="line">Checking the sense data returned Additional Sense Code of &quot;0x29&quot; and it was logged by &quot;scsi_report_sense&quot;:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">29h/01h  DZTPROMAEBKVF  POWER ON OCCURRED</span><br><span class="line">29h/02h  DZTPROMAEBKVF  SCSI BUS RESET OCCURRED</span><br><span class="line">29h/03h  DZTPROMAEBKVF  BUS DEVICE RESET FUNCTION OCCURRED</span><br><span class="line">29h/04h  DZTPROMAEBKVF  DEVICE INTERNAL RESET</span><br><span class="line">29h/05h  DZTPROMAEBKVF  TRANSCEIVER MODE CHANGED TO SINGLE-ENDED</span><br><span class="line">29h/06h  DZTPROMAEBKVF  TRANSCEIVER MODE CHANGED TO LVD</span><br><span class="line">29h/07h  DZTPROMAEBKVF  I_T NEXUS LOSS OCCURRED</span><br><span class="line">2Ah/00h  DZT ROMAEBKVF  PARAMETERS CHANGED</span><br><span class="line">2Ah/01h  DZT ROMAEBKVF  MODE PARAMETERS CHANGED</span><br><span class="line">2Ah/02h  DZT ROMAE K    LOG PARAMETERS CHANGED</span><br><span class="line">2Ah/03h  DZTPROMAE K    RESERVATIONS PREEMPTED</span><br><span class="line">2Ah/04h  DZTPROMAE      RESERVATIONS RELEASED</span><br><span class="line">2Ah/05h  DZTPROMAE      REGISTRATIONS PREEMPTED</span><br><span class="line">2Ah/06h  DZTPROMAEBKVF  ASYMMETRIC ACCESS STATE CHANGED</span><br><span class="line">2Ah/07h  DZTPROMAEBKVF  IMPLICIT ASYMMETRIC ACCESS STATE TRANSITION FAILED</span><br><span class="line">2Ah/08h  DZT ROMAEBKVF  PRIORITY CHANGED</span><br><span class="line">2Ah/09h  DZ             CAPACITY DATA HAS CHANGED</span><br><span class="line">2Ah/0Ah  DZT            ERROR HISTORY I_T NEXUS CLEARED</span><br><span class="line">2Ah/0Bh  DZT            ERROR HISTORY SNAPSHOT RELEASED</span><br><span class="line">2Ah/0Ch              F  ERROR RECOVERY ATTRIBUTES HAVE CHANGED</span><br><span class="line">2Ah/0Dh    T            DATA ENCRYPTION CAPABILITIES CHANGED</span><br><span class="line">2Ah/10h  DZT   M E  V   TIMESTAMP CHANGED</span><br><span class="line">2Ah/11h    T            DATA ENCRYPTION PARAMETERS CHANGED BY ANOTHER I_T NEXUS</span><br><span class="line">2Ah/12h    T            DATA ENCRYPTION PARAMETERS CHANGED BY VENDOR SPECIFIC EVENT</span><br><span class="line">2Ah/13h    T            DATA ENCRYPTION KEY INSTANCE COUNTER HAS CHANGED</span><br><span class="line">2Ah/14h  DZT R MAEBKV   SA CREATION CAPABILITIES DATA HAS CHANGED</span><br><span class="line">2Ah/15h    T   M    V   MEDIUM REMOVAL PREVENTION PREEMPTED</span><br><span class="line">2Ah/16h  DZ             ZONE RESET WRITE POINTER RECOMMENDED</span><br><span class="line">2Bh/00h  DZTPRO    K    COPY CANNOT EXECUTE SINCE HOST CANNOT DISCONNECT</span><br><span class="line">2Ch/00h  DZTPROMAEBKVF  COMMAND SEQUENCE ERROR</span><br><span class="line">2Ch/01h                 TOO MANY WINDOWS SPECIFIED</span><br><span class="line">2Ch/02h                 INVALID COMBINATION OF WINDOWS SPECIFIED</span><br><span class="line">2Ch/03h      R          CURRENT PROGRAM AREA IS NOT EMPTY</span><br><span class="line">2Ch/04h      R          CURRENT PROGRAM AREA IS EMPTY</span><br><span class="line">2Ch/05h           B     ILLEGAL POWER CONDITION REQUEST</span><br><span class="line">2Ch/06h      R          PERSISTENT PREVENT CONFLICT</span><br><span class="line">2Ch/07h  DZTPROMAEBKVF  PREVIOUS BUSY STATUS</span><br><span class="line">2Ch/08h  DZTPROMAEBKVF  PREVIOUS TASK SET FULL STATUS</span><br><span class="line">2Ch/09h  DZTPROM EBKVF  PREVIOUS RESERVATION CONFLICT STATUS</span><br><span class="line">2Ch/0Ah              F  PARTITION OR COLLECTION CONTAINS USER OBJECTS</span><br><span class="line">2Ch/0Bh    T            NOT RESERVED</span><br><span class="line">2Ch/0Ch  DZ             ORWRITE GENERATION DOES NOT MATCH</span><br><span class="line">2Ch/0Dh  DZ             RESET WRITE POINTER NOT ALLOWED</span><br><span class="line">2Ch/0Eh  DZ             ZONE IS OFFLINE</span><br><span class="line">2Ch/0Fh  DZ             STREAM NOT OPEN</span><br><span class="line">2Ch/10h  DZ             UNWRITTEN DATA IN ZONE</span><br><span class="line">2Ch/11h  D              DESCRIPTOR FORMAT SENSE DATA REQUIRED</span><br><span class="line">2Ch/12h  DZ             ZONE IS INACTIVE</span><br><span class="line">2Ch/13h  DZTPROMAEBKVF  WELL KNOWN LOGICAL UNIT ACCESS REQUIRED</span><br><span class="line">2Dh/00h    T            OVERWRITE ERROR ON UPDATE IN PLACE</span><br><span class="line">2Eh/00h  DZ  ROM  B     INSUFFICIENT TIME FOR OPERATION</span><br><span class="line">2Eh/01h  DZ   OM  B     COMMAND TIMEOUT BEFORE PROCESSING</span><br><span class="line">2Eh/02h  DZ   OM  B     COMMAND TIMEOUT DURING PROCESSING</span><br><span class="line">2Eh/03h  DZ   OM  B     COMMAND TIMEOUT DURING PROCESSING DUE TO ERROR RECOVERY</span><br><span class="line">2Fh/00h  DZTPROMAEBKVF  COMMANDS CLEARED BY ANOTHER INITIATOR</span><br><span class="line">2Fh/01h  DZ             COMMANDS CLEARED BY POWER LOSS NOTIFICATION</span><br><span class="line">2Fh/02h  DZTPROMAEBKVF  COMMANDS CLEARED BY DEVICE SERVER</span><br><span class="line">2Fh/03h  DZTPROMAEBKVF  SOME COMMANDS CLEARED BY QUEUING LAYER EVENT</span><br><span class="line">30h/00h  DZT ROM  BK    INCOMPATIBLE MEDIUM INSTALLED</span><br><span class="line">30h/01h  DZT RO   BK    CANNOT READ MEDIUM - UNKNOWN FORMAT</span><br><span class="line">30h/02h  DZT RO   BK    CANNOT READ MEDIUM - INCOMPATIBLE FORMAT</span><br><span class="line">30h/03h  DZT R M   K    CLEANING CARTRIDGE INSTALLED</span><br><span class="line">30h/04h  DZT RO   BK    CANNOT WRITE MEDIUM - UNKNOWN FORMAT</span><br><span class="line">30h/05h  DZT RO   BK    CANNOT WRITE MEDIUM - INCOMPATIBLE FORMAT</span><br><span class="line">30h/06h  DZT RO   B     CANNOT FORMAT MEDIUM - INCOMPATIBLE MEDIUM</span><br><span class="line">30h/07h  DZT ROMAEBKVF  CLEANING FAILURE</span><br><span class="line">30h/08h      R          CANNOT WRITE - APPLICATION CODE MISMATCH</span><br><span class="line">30h/09h      R          CURRENT SESSION NOT FIXATED FOR APPEND</span><br><span class="line">30h/0Ah  DZT RO AEBK    CLEANING REQUEST REJECTED</span><br><span class="line">30h/0Ch    T            WORM MEDIUM - OVERWRITE ATTEMPTED</span><br><span class="line">30h/0Dh    T            WORM MEDIUM - INTEGRITY CHECK</span><br><span class="line">30h/10h      R          MEDIUM NOT FORMATTED</span><br><span class="line">30h/11h        M        INCOMPATIBLE VOLUME TYPE</span><br><span class="line">30h/12h        M        INCOMPATIBLE VOLUME QUALIFIER</span><br><span class="line">30h/13h        M        CLEANING VOLUME EXPIRED</span><br><span class="line">31h/00h  DZT RO   BK    MEDIUM FORMAT CORRUPTED</span><br><span class="line">31h/01h  DZ  RO   B     FORMAT COMMAND FAILED</span><br><span class="line">31h/02h      R          ZONED FORMATTING FAILED DUE TO SPARE LINKING</span><br><span class="line">31h/03h  DZ       B     SANITIZE COMMAND FAILED</span><br><span class="line">31h/04h  DZ             DEPOPULATION FAILED</span><br><span class="line">31h/05h  DZ             DEPOPULATION RESTORATION FAILED</span><br><span class="line">32h/00h  DZ   O   BK    NO DEFECT SPARE LOCATION AVAILABLE</span><br><span class="line">32h/01h  DZ   O   BK    DEFECT LIST UPDATE FAILURE</span><br><span class="line">33h/00h    T            TAPE LENGTH ERROR</span><br><span class="line">34h/00h  DZTPROMAEBKVF  ENCLOSURE FAILURE</span><br><span class="line">35h/00h  DZTPROMAEBKVF  ENCLOSURE SERVICES FAILURE</span><br><span class="line">35h/01h  DZTPROMAEBKVF  UNSUPPORTED ENCLOSURE FUNCTION</span><br><span class="line">35h/02h  DZTPROMAEBKVF  ENCLOSURE SERVICES UNAVAILABLE</span><br><span class="line">35h/03h  DZTPROMAEBKVF  ENCLOSURE SERVICES TRANSFER FAILURE</span><br><span class="line">35h/04h  DZTPROMAEBKVF  ENCLOSURE SERVICES TRANSFER REFUSED</span><br><span class="line">35h/05h  DZT ROMAEBKVF  ENCLOSURE SERVICES CHECKSUM ERROR</span><br><span class="line">36h/00h                 RIBBON, INK, OR TONER FAILURE</span><br><span class="line">37h/00h  DZT ROMAEBKVF  ROUNDED PARAMETER</span><br><span class="line">38h/00h           B     EVENT STATUS NOTIFICATION</span><br><span class="line">38h/02h           B     ESN - POWER MANAGEMENT CLASS EVENT</span><br><span class="line">38h/04h           B     ESN - MEDIA CLASS EVENT</span><br><span class="line">38h/06h           B     ESN - DEVICE BUSY CLASS EVENT</span><br><span class="line">38h/07h  DZ             THIN PROVISIONING SOFT THRESHOLD REACHED</span><br><span class="line">38h/08h  DZ             DEPOPULATION INTERRUPTED</span><br><span class="line">39h/00h  DZT ROMAE K    SAVING PARAMETERS NOT SUPPORTED</span><br><span class="line">3Ah/00h  DZT ROM  BK    MEDIUM NOT PRESENT</span><br><span class="line">3Ah/01h  DZT ROM  BK    MEDIUM NOT PRESENT - TRAY CLOSED</span><br><span class="line">3Ah/02h  DZT ROM  BK    MEDIUM NOT PRESENT - TRAY OPEN</span><br><span class="line">3Ah/03h  DZT ROM  B     MEDIUM NOT PRESENT - LOADABLE</span><br><span class="line">3Ah/04h  DZT RO   B     MEDIUM NOT PRESENT - MEDIUM AUXILIARY MEMORY ACCESSIBLE</span><br><span class="line">3Bh/00h    T            SEQUENTIAL POSITIONING ERROR</span><br><span class="line">3Bh/01h    T            TAPE POSITION ERROR AT BEGINNING-OF-MEDIUM</span><br><span class="line">3Bh/02h    T            TAPE POSITION ERROR AT END-OF-MEDIUM</span><br><span class="line">3Bh/03h                 TAPE OR ELECTRONIC VERTICAL FORMS UNIT NOT READY</span><br><span class="line">3Bh/04h                 SLEW FAILURE</span><br><span class="line">3Bh/05h                 PAPER JAM</span><br><span class="line">3Bh/06h                 FAILED TO SENSE TOP-OF-FORM</span><br><span class="line">3Bh/07h                 FAILED TO SENSE BOTTOM-OF-FORM</span><br><span class="line">3Bh/08h    T            REPOSITION ERROR</span><br><span class="line">3Bh/09h                 READ PAST END OF MEDIUM</span><br><span class="line">3Bh/0Ah                 READ PAST BEGINNING OF MEDIUM</span><br><span class="line">3Bh/0Bh                 POSITION PAST END OF MEDIUM</span><br><span class="line">3Bh/0Ch    T            POSITION PAST BEGINNING OF MEDIUM</span><br><span class="line">3Bh/0Dh  DZT ROM  BK    MEDIUM DESTINATION ELEMENT FULL</span><br><span class="line">3Bh/0Eh  DZT ROM  BK    MEDIUM SOURCE ELEMENT EMPTY</span><br><span class="line">3Bh/0Fh      R          END OF MEDIUM REACHED</span><br><span class="line">3Bh/11h  DZT ROM  BK    MEDIUM MAGAZINE NOT ACCESSIBLE</span><br><span class="line">3Bh/12h  DZT ROM  BK    MEDIUM MAGAZINE REMOVED</span><br><span class="line">3Bh/13h  DZT ROM  BK    MEDIUM MAGAZINE INSERTED</span><br><span class="line">3Bh/14h  DZT ROM  BK    MEDIUM MAGAZINE LOCKED</span><br><span class="line">3Bh/15h  DZT ROM  BK    MEDIUM MAGAZINE UNLOCKED</span><br><span class="line">3Bh/16h      R          MECHANICAL POSITIONING OR CHANGER ERROR</span><br><span class="line">3Bh/17h              F  READ PAST END OF USER OBJECT</span><br><span class="line">3Bh/18h        M        ELEMENT DISABLED</span><br><span class="line">3Bh/19h        M        ELEMENT ENABLED</span><br><span class="line">3Bh/1Ah        M        DATA TRANSFER DEVICE REMOVED</span><br><span class="line">3Bh/1Bh        M        DATA TRANSFER DEVICE INSERTED</span><br><span class="line">3Bh/1Ch    T            TOO MANY LOGICAL OBJECTS ON PARTITION TO SUPPORT OPERATION</span><br><span class="line">3Bh/20h        M        ELEMENT STATIC INFORMATION CHANGED</span><br><span class="line">3Ch/00h</span><br><span class="line">3Dh/00h  DZTPROMAE K    INVALID BITS IN IDENTIFY MESSAGE</span><br><span class="line">3Eh/00h  DZTPROMAEBKVF  LOGICAL UNIT HAS NOT SELF-CONFIGURED YET</span><br><span class="line">3Eh/01h  DZTPROMAEBKVF  LOGICAL UNIT FAILURE</span><br><span class="line">3Eh/02h  DZTPROMAEBKVF  TIMEOUT ON LOGICAL UNIT</span><br><span class="line">3Eh/03h  DZTPROMAEBKVF  LOGICAL UNIT FAILED SELF-TEST</span><br><span class="line">3Eh/04h  DZTPROMAEBKVF  LOGICAL UNIT UNABLE TO UPDATE SELF-TEST LOG</span><br><span class="line">3Fh/00h  DZTPROMAEBKVF  TARGET OPERATING CONDITIONS HAVE CHANGED</span><br><span class="line">3Fh/01h  DZTPROMAEBKVF  MICROCODE HAS BEEN CHANGED</span><br><span class="line">3Fh/02h  DZTPROM  BK    CHANGED OPERATING DEFINITION</span><br><span class="line">3Fh/03h  DZTPROMAEBKVF  INQUIRY DATA HAS CHANGED</span><br><span class="line">3Fh/04h  DZT ROMAEBK    COMPONENT DEVICE ATTACHED</span><br><span class="line">3Fh/05h  DZT ROMAEBK    DEVICE IDENTIFIER CHANGED</span><br><span class="line">3Fh/06h  DZT ROMAEB     REDUNDANCY GROUP CREATED OR MODIFIED</span><br><span class="line">3Fh/07h  DZT ROMAEB     REDUNDANCY GROUP DELETED</span><br><span class="line">3Fh/08h  DZT ROMAEB     SPARE CREATED OR MODIFIED</span><br><span class="line">3Fh/09h  DZT ROMAEB     SPARE DELETED</span><br><span class="line">3Fh/0Ah  DZT ROMAEBK    VOLUME SET CREATED OR MODIFIED</span><br><span class="line">3Fh/0Bh  DZT ROMAEBK    VOLUME SET DELETED</span><br><span class="line">3Fh/0Ch  DZT ROMAEBK    VOLUME SET DEASSIGNED</span><br><span class="line">3Fh/0Dh  DZT ROMAEBK    VOLUME SET REASSIGNED</span><br><span class="line">3Fh/0Eh  DZTPROMAE      REPORTED LUNS DATA HAS CHANGED</span><br><span class="line">3Fh/0Fh  DZTPROMAEBKVF  ECHO BUFFER OVERWRITTEN</span><br><span class="line">3Fh/10h  DZT ROM  B     MEDIUM LOADABLE</span><br><span class="line">3Fh/11h  DZT ROM  B     MEDIUM AUXILIARY MEMORY ACCESSIBLE</span><br><span class="line">3Fh/12h  DZTPR MAEBK F  iSCSI IP ADDRESS ADDED</span><br><span class="line">3Fh/13h  DZTPR MAEBK F  iSCSI IP ADDRESS REMOVED</span><br><span class="line">3Fh/14h  DZTPR MAEBK F  iSCSI IP ADDRESS CHANGED</span><br><span class="line">3Fh/15h  DZTPR MAEBK    INSPECT REFERRALS SENSE DESCRIPTORS</span><br><span class="line">3Fh/16h  DZTPROMAEBKVF  MICROCODE HAS BEEN CHANGED WITHOUT RESET</span><br><span class="line">3Fh/17h  DZ             ZONE TRANSITION TO FULL</span><br><span class="line">3Fh/18h  D              BIND COMPLETED</span><br><span class="line">3Fh/19h  D              BIND REDIRECTED</span><br><span class="line">3Fh/1Ah  D              SUBSIDIARY BINDING CHANGED</span><br><span class="line">40h/00h  DZ             RAM FAILURE (SHOULD USE 40 NN)</span><br><span class="line">40h/NNh  DZTPROMAEBKVF  DIAGNOSTIC FAILURE ON COMPONENT NN (80h-FFh)</span><br><span class="line">41h/00h  DZ             DATA PATH FAILURE (SHOULD USE 40 NN)</span><br><span class="line">42h/00h  DZ             POWER-ON OR SELF-TEST FAILURE (SHOULD USE 40 NN)</span><br><span class="line">43h/00h  DZTPROMAEBKVF  MESSAGE ERROR</span><br><span class="line">44h/00h  DZTPROMAEBKVF  INTERNAL TARGET FAILURE</span><br><span class="line">44h/01h  DZTP  MAEBKVF  PERSISTENT RESERVATION INFORMATION LOST</span><br><span class="line">44h/71h  DZT      B     ATA DEVICE FAILED SET FEATURES</span><br><span class="line">45h/00h  DZTPROMAEBKVF  SELECT OR RESELECT FAILURE</span><br><span class="line">46h/00h  DZTPROM  BK    UNSUCCESSFUL SOFT RESET</span><br><span class="line">47h/00h  DZTPROMAEBKVF  SCSI PARITY ERROR</span><br><span class="line">47h/01h  DZTPROMAEBKVF  DATA PHASE CRC ERROR DETECTED</span><br><span class="line">47h/02h  DZTPROMAEBKVF  SCSI PARITY ERROR DETECTED DURING ST DATA PHASE</span><br><span class="line">47h/03h  DZTPROMAEBKVF  INFORMATION UNIT iuCRC ERROR DETECTED</span><br><span class="line">47h/04h  DZTPROMAEBKVF  ASYNCHRONOUS INFORMATION PROTECTION ERROR DETECTED</span><br><span class="line">47h/05h  DZTPROMAEBKVF  PROTOCOL SERVICE CRC ERROR</span><br><span class="line">47h/06h  DZT   MAEBKVF  PHY TEST FUNCTION IN PROGRESS</span><br><span class="line">47h/7Fh  DZTPROMAEBK    SOME COMMANDS CLEARED BY ISCSI PROTOCOL EVENT</span><br><span class="line">48h/00h  DZTPROMAEBKVF  INITIATOR DETECTED ERROR MESSAGE RECEIVED</span><br><span class="line">49h/00h  DZTPROMAEBKVF  INVALID MESSAGE ERROR</span><br><span class="line">4Ah/00h  DZTPROMAEBKVF  COMMAND PHASE ERROR</span><br><span class="line">4Bh/00h  DZTPROMAEBKVF  DATA PHASE ERROR</span><br><span class="line">4Bh/01h  DZTPROMAEBK    INVALID TARGET PORT TRANSFER TAG RECEIVED</span><br><span class="line">4Bh/02h  DZTPROMAEBK    TOO MUCH WRITE DATA</span><br><span class="line">4Bh/03h  DZTPROMAEBK    ACK/NAK TIMEOUT</span><br><span class="line">4Bh/04h  DZTPROMAEBK    NAK RECEIVED</span><br><span class="line">4Bh/05h  DZTPROMAEBK    DATA OFFSET ERROR</span><br><span class="line">4Bh/06h  DZTPROMAEBK    INITIATOR RESPONSE TIMEOUT</span><br><span class="line">4Bh/07h  DZTPROMAEBK F  CONNECTION LOST</span><br><span class="line">4Bh/08h  DZTPROMAEBK F  DATA-IN BUFFER OVERFLOW - DATA BUFFER SIZE</span><br><span class="line">4Bh/09h  DZTPROMAEBK F  DATA-IN BUFFER OVERFLOW - DATA BUFFER DESCRIPTOR AREA</span><br><span class="line">4Bh/0Ah  DZTPROMAEBK F  DATA-IN BUFFER ERROR</span><br><span class="line">4Bh/0Bh  DZTPROMAEBK F  DATA-OUT BUFFER OVERFLOW - DATA BUFFER SIZE</span><br><span class="line">4Bh/0Ch  DZTPROMAEBK F  DATA-OUT BUFFER OVERFLOW - DATA BUFFER DESCRIPTOR AREA</span><br><span class="line">4Bh/0Dh  DZTPROMAEBK F  DATA-OUT BUFFER ERROR</span><br><span class="line">4Bh/0Eh  DZTPROMAEBK F  PCIE FABRIC ERROR</span><br><span class="line">4Bh/0Fh  DZTPROMAEBK F  PCIE COMPLETION TIMEOUT</span><br><span class="line">4Bh/10h  DZTPROMAEBK F  PCIE COMPLETER ABORT</span><br><span class="line">4Bh/11h  DZTPROMAEBK F  PCIE POISONED TLP RECEIVED</span><br><span class="line">4Bh/12h  DZTPROMAEBK F  PCIE ECRC CHECK FAILED</span><br><span class="line">4Bh/13h  DZTPROMAEBK F  PCIE UNSUPPORTED REQUEST</span><br><span class="line">4Bh/14h  DZTPROMAEBK F  PCIE ACS VIOLATION</span><br><span class="line">4Bh/15h  DZTPROMAEBK F  PCIE TLP PREFIX BLOCKED</span><br><span class="line">4Ch/00h  DZTPROMAEBKVF  LOGICAL UNIT FAILED SELF-CONFIGURATION</span><br><span class="line">4Dh/NNh  DZTPROMAEBKVF  TAGGED OVERLAPPED COMMANDS (NN = TASK TAG)</span><br><span class="line">4Eh/00h  DZTPROMAEBKVF  OVERLAPPED COMMANDS ATTEMPTED</span><br><span class="line">4Fh/00h</span><br><span class="line">50h/00h    T            WRITE APPEND ERROR</span><br><span class="line">50h/01h    T            WRITE APPEND POSITION ERROR</span><br><span class="line">50h/02h    T            POSITION ERROR RELATED TO TIMING</span><br><span class="line">51h/00h  DZT RO         ERASE FAILURE</span><br><span class="line">51h/01h  DZ  R          ERASE FAILURE - INCOMPLETE ERASE OPERATION DETECTED</span><br><span class="line">52h/00h    T            CARTRIDGE FAULT</span><br><span class="line">53h/00h  DZT ROM  BK    MEDIA LOAD OR EJECT FAILED</span><br><span class="line">53h/01h    T            UNLOAD TAPE FAILURE</span><br><span class="line">53h/02h  DZT ROM  BK    MEDIUM REMOVAL PREVENTED</span><br><span class="line">53h/03h        M        MEDIUM REMOVAL PREVENTED BY DATA TRANSFER ELEMENT</span><br><span class="line">53h/04h    T            MEDIUM THREAD OR UNTHREAD FAILURE</span><br><span class="line">53h/05h        M        VOLUME IDENTIFIER INVALID</span><br><span class="line">53h/06h        M        VOLUME IDENTIFIER MISSING</span><br><span class="line">53h/07h        M        DUPLICATE VOLUME IDENTIFIER</span><br><span class="line">53h/08h        M        ELEMENT STATUS UNKNOWN</span><br><span class="line">53h/09h        M        DATA TRANSFER DEVICE ERROR - LOAD FAILED</span><br><span class="line">53h/0Ah        M        DATA TRANSFER DEVICE ERROR - UNLOAD FAILED</span><br><span class="line">53h/0Bh        M        DATA TRANSFER DEVICE ERROR - UNLOAD MISSING</span><br><span class="line">53h/0Ch        M        DATA TRANSFER DEVICE ERROR - EJECT FAILED</span><br><span class="line">53h/0Dh        M        DATA TRANSFER DEVICE ERROR - LIBRARY COMMUNICATION FAILED</span><br><span class="line">54h/00h     P           SCSI TO HOST SYSTEM INTERFACE FAILURE</span><br><span class="line">55h/00h     P           SYSTEM RESOURCE FAILURE</span><br><span class="line">55h/01h  DZ   O   BK    SYSTEM BUFFER FULL</span><br><span class="line">55h/02h  DZTPROMAE K    INSUFFICIENT RESERVATION RESOURCES</span><br><span class="line">55h/03h  DZTPROMAE K    INSUFFICIENT RESOURCES</span><br><span class="line">55h/04h  DZTPROMAE K    INSUFFICIENT REGISTRATION RESOURCES</span><br><span class="line">55h/05h  DZTPROMAEBK    INSUFFICIENT ACCESS CONTROL RESOURCES</span><br><span class="line">55h/06h  DZT ROM  B     AUXILIARY MEMORY OUT OF SPACE</span><br><span class="line">55h/07h              F  QUOTA ERROR</span><br><span class="line">55h/08h    T            MAXIMUM NUMBER OF SUPPLEMENTAL DECRYPTION KEYS EXCEEDED</span><br><span class="line">55h/09h        M        MEDIUM AUXILIARY MEMORY NOT ACCESSIBLE</span><br><span class="line">55h/0Ah  DZ    M        DATA CURRENTLY UNAVAILABLE</span><br><span class="line">55h/0Bh  DZTPROMAEBKVF  INSUFFICIENT POWER FOR OPERATION</span><br><span class="line">55h/0Ch  DZTP     B     INSUFFICIENT RESOURCES TO CREATE ROD</span><br><span class="line">55h/0Dh  DZTP     B     INSUFFICIENT RESOURCES TO CREATE ROD TOKEN</span><br><span class="line">55h/0Eh  DZ             INSUFFICIENT ZONE RESOURCES</span><br><span class="line">55h/0Fh  DZ             INSUFFICIENT ZONE RESOURCES TO COMPLETE WRITE</span><br><span class="line">55h/10h  DZ             MAXIMUM NUMBER OF STREAMS OPEN</span><br><span class="line">55h/11h  D              INSUFFICIENT RESOURCES TO BIND</span><br><span class="line">56h/00h</span><br><span class="line">57h/00h      R          UNABLE TO RECOVER TABLE-OF-CONTENTS</span><br><span class="line">58h/00h       O         GENERATION DOES NOT EXIST</span><br><span class="line">59h/00h       O         UPDATED BLOCK READ</span><br><span class="line">5Ah/00h  DZTPRO   BK    OPERATOR REQUEST OR STATE CHANGE INPUT</span><br><span class="line">5Ah/01h  DZT ROM  BK    OPERATOR MEDIUM REMOVAL REQUEST</span><br><span class="line">5Ah/02h  DZT RO A BK    OPERATOR SELECTED WRITE PROTECT</span><br><span class="line">5Ah/03h  DZT RO A BK    OPERATOR SELECTED WRITE PERMIT</span><br><span class="line">5Bh/00h  DZTPROM   K    LOG EXCEPTION</span><br><span class="line">5Bh/01h  DZTPROM   K    THRESHOLD CONDITION MET</span><br><span class="line">5Bh/02h  DZTPROM   K    LOG COUNTER AT MAXIMUM</span><br><span class="line">5Bh/03h  DZTPROM   K    LOG LIST CODES EXHAUSTED</span><br><span class="line">5Ch/00h  DZ   O         RPL STATUS CHANGE</span><br><span class="line">5Ch/01h  DZ   O         SPINDLES SYNCHRONIZED</span><br><span class="line">5Ch/02h  DZ   O         SPINDLES NOT SYNCHRONIZED</span><br><span class="line">5Dh/00h  DZTPROMAEBKVF  FAILURE PREDICTION THRESHOLD EXCEEDED</span><br><span class="line">5Dh/01h      R    B     MEDIA FAILURE PREDICTION THRESHOLD EXCEEDED</span><br><span class="line">5Dh/02h      R          LOGICAL UNIT FAILURE PREDICTION THRESHOLD EXCEEDED</span><br><span class="line">5Dh/03h      R          SPARE AREA EXHAUSTION PREDICTION THRESHOLD EXCEEDED</span><br><span class="line">5Dh/10h  DZ       B     HARDWARE IMPENDING FAILURE GENERAL HARD DRIVE FAILURE</span><br><span class="line">5Dh/11h  DZ       B     HARDWARE IMPENDING FAILURE DRIVE ERROR RATE TOO HIGH</span><br><span class="line">5Dh/12h  DZ       B     HARDWARE IMPENDING FAILURE DATA ERROR RATE TOO HIGH</span><br><span class="line">5Dh/13h  DZ       B     HARDWARE IMPENDING FAILURE SEEK ERROR RATE TOO HIGH</span><br><span class="line">5Dh/14h  DZ       B     HARDWARE IMPENDING FAILURE TOO MANY BLOCK REASSIGNS</span><br><span class="line">5Dh/15h  DZ       B     HARDWARE IMPENDING FAILURE ACCESS TIMES TOO HIGH</span><br><span class="line">5Dh/16h  DZ       B     HARDWARE IMPENDING FAILURE START UNIT TIMES TOO HIGH</span><br><span class="line">5Dh/17h  DZ       B     HARDWARE IMPENDING FAILURE CHANNEL PARAMETRICS</span><br><span class="line">5Dh/18h  DZ       B     HARDWARE IMPENDING FAILURE CONTROLLER DETECTED</span><br><span class="line">5Dh/19h  DZ       B     HARDWARE IMPENDING FAILURE THROUGHPUT PERFORMANCE</span><br><span class="line">5Dh/1Ah  DZ       B     HARDWARE IMPENDING FAILURE SEEK TIME PERFORMANCE</span><br><span class="line">5Dh/1Bh  DZ       B     HARDWARE IMPENDING FAILURE SPIN-UP RETRY COUNT</span><br><span class="line">5Dh/1Ch  DZ       B     HARDWARE IMPENDING FAILURE DRIVE CALIBRATION RETRY COUNT</span><br><span class="line">5Dh/1Dh  DZ       B     HARDWARE IMPENDING FAILURE POWER LOSS PROTECTION CIRCUIT</span><br><span class="line">5Dh/20h  DZ       B     CONTROLLER IMPENDING FAILURE GENERAL HARD DRIVE FAILURE</span><br><span class="line">5Dh/21h  DZ       B     CONTROLLER IMPENDING FAILURE DRIVE ERROR RATE TOO HIGH</span><br><span class="line">5Dh/22h  DZ       B     CONTROLLER IMPENDING FAILURE DATA ERROR RATE TOO HIGH</span><br><span class="line">5Dh/23h  DZ       B     CONTROLLER IMPENDING FAILURE SEEK ERROR RATE TOO HIGH</span><br><span class="line">5Dh/24h  DZ       B     CONTROLLER IMPENDING FAILURE TOO MANY BLOCK REASSIGNS</span><br><span class="line">5Dh/25h  DZ       B     CONTROLLER IMPENDING FAILURE ACCESS TIMES TOO HIGH</span><br><span class="line">5Dh/26h  DZ       B     CONTROLLER IMPENDING FAILURE START UNIT TIMES TOO HIGH</span><br><span class="line">5Dh/27h  DZ       B     CONTROLLER IMPENDING FAILURE CHANNEL PARAMETRICS</span><br><span class="line">5Dh/28h  DZ       B     CONTROLLER IMPENDING FAILURE CONTROLLER DETECTED</span><br><span class="line">5Dh/29h  DZ       B     CONTROLLER IMPENDING FAILURE THROUGHPUT PERFORMANCE</span><br><span class="line">5Dh/2Ah  DZ       B     CONTROLLER IMPENDING FAILURE SEEK TIME PERFORMANCE</span><br><span class="line">5Dh/2Bh  DZ       B     CONTROLLER IMPENDING FAILURE SPIN-UP RETRY COUNT</span><br><span class="line">5Dh/2Ch  DZ       B     CONTROLLER IMPENDING FAILURE DRIVE CALIBRATION RETRY COUNT</span><br><span class="line">5Dh/30h  DZ       B     DATA CHANNEL IMPENDING FAILURE GENERAL HARD DRIVE FAILURE</span><br><span class="line">5Dh/31h  DZ       B     DATA CHANNEL IMPENDING FAILURE DRIVE ERROR RATE TOO HIGH</span><br><span class="line">5Dh/32h  DZ       B     DATA CHANNEL IMPENDING FAILURE DATA ERROR RATE TOO HIGH</span><br><span class="line">5Dh/33h  DZ       B     DATA CHANNEL IMPENDING FAILURE SEEK ERROR RATE TOO HIGH</span><br><span class="line">5Dh/34h  DZ       B     DATA CHANNEL IMPENDING FAILURE TOO MANY BLOCK REASSIGNS</span><br><span class="line">5Dh/35h  DZ       B     DATA CHANNEL IMPENDING FAILURE ACCESS TIMES TOO HIGH</span><br><span class="line">5Dh/36h  DZ       B     DATA CHANNEL IMPENDING FAILURE START UNIT TIMES TOO HIGH</span><br><span class="line">5Dh/37h  DZ       B     DATA CHANNEL IMPENDING FAILURE CHANNEL PARAMETRICS</span><br><span class="line">5Dh/38h  DZ       B     DATA CHANNEL IMPENDING FAILURE CONTROLLER DETECTED</span><br><span class="line">5Dh/39h  DZ       B     DATA CHANNEL IMPENDING FAILURE THROUGHPUT PERFORMANCE</span><br><span class="line">5Dh/3Ah  DZ       B     DATA CHANNEL IMPENDING FAILURE SEEK TIME PERFORMANCE</span><br><span class="line">5Dh/3Bh  DZ       B     DATA CHANNEL IMPENDING FAILURE SPIN-UP RETRY COUNT</span><br><span class="line">5Dh/3Ch  DZ       B     DATA CHANNEL IMPENDING FAILURE DRIVE CALIBRATION RETRY COUNT</span><br><span class="line">5Dh/40h  DZ       B     SERVO IMPENDING FAILURE GENERAL HARD DRIVE FAILURE</span><br><span class="line">5Dh/41h  DZ       B     SERVO IMPENDING FAILURE DRIVE ERROR RATE TOO HIGH</span><br><span class="line">5Dh/42h  DZ       B     SERVO IMPENDING FAILURE DATA ERROR RATE TOO HIGH</span><br><span class="line">5Dh/43h  DZ       B     SERVO IMPENDING FAILURE SEEK ERROR RATE TOO HIGH</span><br><span class="line">5Dh/44h  DZ       B     SERVO IMPENDING FAILURE TOO MANY BLOCK REASSIGNS</span><br><span class="line">5Dh/45h  DZ       B     SERVO IMPENDING FAILURE ACCESS TIMES TOO HIGH</span><br><span class="line">5Dh/46h  DZ       B     SERVO IMPENDING FAILURE START UNIT TIMES TOO HIGH</span><br><span class="line">5Dh/47h  DZ       B     SERVO IMPENDING FAILURE CHANNEL PARAMETRICS</span><br><span class="line">5Dh/48h  DZ       B     SERVO IMPENDING FAILURE CONTROLLER DETECTED</span><br><span class="line">5Dh/49h  DZ       B     SERVO IMPENDING FAILURE THROUGHPUT PERFORMANCE</span><br><span class="line">5Dh/4Ah  DZ       B     SERVO IMPENDING FAILURE SEEK TIME PERFORMANCE</span><br><span class="line">5Dh/4Bh  DZ       B     SERVO IMPENDING FAILURE SPIN-UP RETRY COUNT</span><br><span class="line">5Dh/4Ch  DZ       B     SERVO IMPENDING FAILURE DRIVE CALIBRATION RETRY COUNT</span><br><span class="line">5Dh/50h  DZ       B     SPINDLE IMPENDING FAILURE GENERAL HARD DRIVE FAILURE</span><br><span class="line">5Dh/51h  DZ       B     SPINDLE IMPENDING FAILURE DRIVE ERROR RATE TOO HIGH</span><br><span class="line">5Dh/52h  DZ       B     SPINDLE IMPENDING FAILURE DATA ERROR RATE TOO HIGH</span><br><span class="line">5Dh/53h  DZ       B     SPINDLE IMPENDING FAILURE SEEK ERROR RATE TOO HIGH</span><br><span class="line">5Dh/54h  DZ       B     SPINDLE IMPENDING FAILURE TOO MANY BLOCK REASSIGNS</span><br><span class="line">5Dh/55h  DZ       B     SPINDLE IMPENDING FAILURE ACCESS TIMES TOO HIGH</span><br><span class="line">5Dh/56h  DZ       B     SPINDLE IMPENDING FAILURE START UNIT TIMES TOO HIGH</span><br><span class="line">5Dh/57h  DZ       B     SPINDLE IMPENDING FAILURE CHANNEL PARAMETRICS</span><br><span class="line">5Dh/58h  DZ       B     SPINDLE IMPENDING FAILURE CONTROLLER DETECTED</span><br><span class="line">5Dh/59h  DZ       B     SPINDLE IMPENDING FAILURE THROUGHPUT PERFORMANCE</span><br><span class="line">5Dh/5Ah  DZ       B     SPINDLE IMPENDING FAILURE SEEK TIME PERFORMANCE</span><br><span class="line">5Dh/5Bh  DZ       B     SPINDLE IMPENDING FAILURE SPIN-UP RETRY COUNT</span><br><span class="line">5Dh/5Ch  DZ       B     SPINDLE IMPENDING FAILURE DRIVE CALIBRATION RETRY COUNT</span><br><span class="line">5Dh/60h  DZ       B     FIRMWARE IMPENDING FAILURE GENERAL HARD DRIVE FAILURE</span><br><span class="line">5Dh/61h  DZ       B     FIRMWARE IMPENDING FAILURE DRIVE ERROR RATE TOO HIGH</span><br><span class="line">5Dh/62h  DZ       B     FIRMWARE IMPENDING FAILURE DATA ERROR RATE TOO HIGH</span><br><span class="line">5Dh/63h  DZ       B     FIRMWARE IMPENDING FAILURE SEEK ERROR RATE TOO HIGH</span><br><span class="line">5Dh/64h  DZ       B     FIRMWARE IMPENDING FAILURE TOO MANY BLOCK REASSIGNS</span><br><span class="line">5Dh/65h  DZ       B     FIRMWARE IMPENDING FAILURE ACCESS TIMES TOO HIGH</span><br><span class="line">5Dh/66h  DZ       B     FIRMWARE IMPENDING FAILURE START UNIT TIMES TOO HIGH</span><br><span class="line">5Dh/67h  DZ       B     FIRMWARE IMPENDING FAILURE CHANNEL PARAMETRICS</span><br><span class="line">5Dh/68h  DZ       B     FIRMWARE IMPENDING FAILURE CONTROLLER DETECTED</span><br><span class="line">5Dh/69h  DZ       B     FIRMWARE IMPENDING FAILURE THROUGHPUT PERFORMANCE</span><br><span class="line">5Dh/6Ah  DZ       B     FIRMWARE IMPENDING FAILURE SEEK TIME PERFORMANCE</span><br><span class="line">5Dh/6Bh  DZ       B     FIRMWARE IMPENDING FAILURE SPIN-UP RETRY COUNT</span><br><span class="line">5Dh/6Ch  DZ       B     FIRMWARE IMPENDING FAILURE DRIVE CALIBRATION RETRY COUNT</span><br><span class="line">5Dh/73h  DZ       B     MEDIA IMPENDING FAILURE ENDURANCE LIMIT MET</span><br><span class="line">5Dh/FFh  DZTPROMAEBKVF  FAILURE PREDICTION THRESHOLD EXCEEDED (FALSE)</span><br><span class="line">5Eh/00h  DZTPRO A  K    LOW POWER CONDITION ON</span><br><span class="line">5Eh/01h  DZTPRO A  K    IDLE CONDITION ACTIVATED BY TIMER</span><br><span class="line">5Eh/02h  DZTPRO A  K    STANDBY CONDITION ACTIVATED BY TIMER</span><br><span class="line">5Eh/03h  DZTPRO A  K    IDLE CONDITION ACTIVATED BY COMMAND</span><br><span class="line">5Eh/04h  DZTPRO A  K    STANDBY CONDITION ACTIVATED BY COMMAND</span><br><span class="line">5Eh/05h  DZTPRO A  K    IDLE_B CONDITION ACTIVATED BY TIMER</span><br><span class="line">5Eh/06h  DZTPRO A  K    IDLE_B CONDITION ACTIVATED BY COMMAND</span><br><span class="line">5Eh/07h  DZTPRO A  K    IDLE_C CONDITION ACTIVATED BY TIMER</span><br><span class="line">5Eh/08h  DZTPRO A  K    IDLE_C CONDITION ACTIVATED BY COMMAND</span><br><span class="line">5Eh/09h  DZTPRO A  K    STANDBY_Y CONDITION ACTIVATED BY TIMER</span><br><span class="line">5Eh/0Ah  DZTPRO A  K    STANDBY_Y CONDITION ACTIVATED BY COMMAND</span><br><span class="line">5Eh/41h           B     POWER STATE CHANGE TO ACTIVE</span><br><span class="line">5Eh/42h           B     POWER STATE CHANGE TO IDLE</span><br><span class="line">5Eh/43h           B     POWER STATE CHANGE TO STANDBY</span><br><span class="line">5Eh/45h           B     POWER STATE CHANGE TO SLEEP</span><br><span class="line">5Eh/47h           BK    POWER STATE CHANGE TO DEVICE CONTROL</span><br><span class="line">5Fh/00h</span><br><span class="line">60h/00h                 LAMP FAILURE</span><br><span class="line">61h/00h                 VIDEO ACQUISITION ERROR</span><br><span class="line">61h/01h                 UNABLE TO ACQUIRE VIDEO</span><br><span class="line">61h/02h                 OUT OF FOCUS</span><br><span class="line">62h/00h                 SCAN HEAD POSITIONING ERROR</span><br><span class="line">63h/00h      R          END OF USER AREA ENCOUNTERED ON THIS TRACK</span><br><span class="line">63h/01h      R          PACKET DOES NOT FIT IN AVAILABLE SPACE</span><br><span class="line">64h/00h      R          ILLEGAL MODE FOR THIS TRACK</span><br><span class="line">64h/01h      R          INVALID PACKET SIZE</span><br><span class="line">65h/00h  DZTPROMAEBKVF  VOLTAGE FAULT</span><br><span class="line">66h/00h                 AUTOMATIC DOCUMENT FEEDER COVER UP</span><br><span class="line">66h/01h                 AUTOMATIC DOCUMENT FEEDER LIFT UP</span><br><span class="line">66h/02h                 DOCUMENT JAM IN AUTOMATIC DOCUMENT FEEDER</span><br><span class="line">66h/03h                 DOCUMENT MISS FEED AUTOMATIC IN DOCUMENT FEEDER</span><br><span class="line">67h/00h         A       CONFIGURATION FAILURE</span><br><span class="line">67h/01h         A       CONFIGURATION OF INCAPABLE LOGICAL UNITS FAILED</span><br><span class="line">67h/02h         A       ADD LOGICAL UNIT FAILED</span><br><span class="line">67h/03h         A       MODIFICATION OF LOGICAL UNIT FAILED</span><br><span class="line">67h/04h         A       EXCHANGE OF LOGICAL UNIT FAILED</span><br><span class="line">67h/05h         A       REMOVE OF LOGICAL UNIT FAILED</span><br><span class="line">67h/06h         A       ATTACHMENT OF LOGICAL UNIT FAILED</span><br><span class="line">67h/07h         A       CREATION OF LOGICAL UNIT FAILED</span><br><span class="line">67h/08h         A       ASSIGN FAILURE OCCURRED</span><br><span class="line">67h/09h         A       MULTIPLY ASSIGNED LOGICAL UNIT</span><br><span class="line">67h/0Ah  DZTPROMAEBKVF  SET TARGET PORT GROUPS COMMAND FAILED</span><br><span class="line">67h/0Bh  DZT      B     ATA DEVICE FEATURE NOT ENABLED</span><br><span class="line">67h/0Ch  D              COMMAND REJECTED</span><br><span class="line">67h/0Dh  D              EXPLICIT BIND NOT ALLOWED</span><br><span class="line">68h/00h         A       LOGICAL UNIT NOT CONFIGURED</span><br><span class="line">68h/01h  DZ             SUBSIDIARY LOGICAL UNIT NOT CONFIGURED</span><br><span class="line">69h/00h         A       DATA LOSS ON LOGICAL UNIT</span><br><span class="line">69h/01h         A       MULTIPLE LOGICAL UNIT FAILURES</span><br><span class="line">69h/02h         A       PARITY/DATA MISMATCH</span><br><span class="line">6Ah/00h         A       INFORMATIONAL, REFER TO LOG</span><br><span class="line">6Bh/00h         A       STATE CHANGE HAS OCCURRED</span><br><span class="line">6Bh/01h         A       REDUNDANCY LEVEL GOT BETTER</span><br><span class="line">6Bh/02h         A       REDUNDANCY LEVEL GOT WORSE</span><br><span class="line">6Ch/00h         A       REBUILD FAILURE OCCURRED</span><br><span class="line">6Dh/00h         A       RECALCULATE FAILURE OCCURRED</span><br><span class="line">6Eh/00h         A       COMMAND TO LOGICAL UNIT FAILED</span><br><span class="line">6Fh/00h      R          COPY PROTECTION KEY EXCHANGE FAILURE - AUTHENTICATION FAILURE</span><br><span class="line">6Fh/01h      R          COPY PROTECTION KEY EXCHANGE FAILURE - KEY NOT PRESENT</span><br><span class="line">6Fh/02h      R          COPY PROTECTION KEY EXCHANGE FAILURE - KEY NOT ESTABLISHED</span><br><span class="line">6Fh/03h      R          READ OF SCRAMBLED SECTOR WITHOUT AUTHENTICATION</span><br><span class="line">6Fh/04h      R          MEDIA REGION CODE IS MISMATCHED TO LOGICAL UNIT REGION</span><br><span class="line">6Fh/05h      R          DRIVE REGION MUST BE PERMANENT/REGION RESET COUNT ERROR</span><br><span class="line">6Fh/06h      R          INSUFFICIENT BLOCK COUNT FOR BINDING NONCE RECORDING</span><br><span class="line">6Fh/07h      R          CONFLICT IN BINDING NONCE RECORDING</span><br><span class="line">6Fh/08h      R          INSUFFICIENT PERMISSION</span><br><span class="line">6Fh/09h      R          INVALID DRIVE-HOST PAIRING SERVER</span><br><span class="line">6Fh/0Ah      R          DRIVE-HOST PAIRING SUSPENDED</span><br><span class="line">70h/NNh    T            DECOMPRESSION EXCEPTION SHORT ALGORITHM ID OF NN</span><br><span class="line">71h/00h    T            DECOMPRESSION EXCEPTION LONG ALGORITHM ID</span><br><span class="line">72h/00h      R          SESSION FIXATION ERROR</span><br><span class="line">72h/01h      R          SESSION FIXATION ERROR WRITING LEAD-IN</span><br><span class="line">72h/02h      R          SESSION FIXATION ERROR WRITING LEAD-OUT</span><br><span class="line">72h/03h      R          SESSION FIXATION ERROR - INCOMPLETE TRACK IN SESSION</span><br><span class="line">72h/04h      R          EMPTY OR PARTIALLY WRITTEN RESERVED TRACK</span><br><span class="line">72h/05h      R          NO MORE TRACK RESERVATIONS ALLOWED</span><br><span class="line">72h/06h      R          RMZ EXTENSION IS NOT ALLOWED</span><br><span class="line">72h/07h      R          NO MORE TEST ZONE EXTENSIONS ARE ALLOWED</span><br><span class="line">73h/00h      R          CD CONTROL ERROR</span><br><span class="line">73h/01h      R          POWER CALIBRATION AREA ALMOST FULL</span><br><span class="line">73h/02h      R          POWER CALIBRATION AREA IS FULL</span><br><span class="line">73h/03h      R          POWER CALIBRATION AREA ERROR</span><br><span class="line">73h/04h      R          PROGRAM MEMORY AREA UPDATE FAILURE</span><br><span class="line">73h/05h      R          PROGRAM MEMORY AREA IS FULL</span><br><span class="line">73h/06h      R          RMA/PMA IS ALMOST FULL</span><br><span class="line">73h/10h      R          CURRENT POWER CALIBRATION AREA ALMOST FULL</span><br><span class="line">73h/11h      R          CURRENT POWER CALIBRATION AREA IS FULL</span><br><span class="line">73h/17h      R          RDZ IS FULL</span><br><span class="line">74h/00h    T            SECURITY ERROR</span><br><span class="line">74h/01h    T            UNABLE TO DECRYPT DATA</span><br><span class="line">74h/02h    T            UNENCRYPTED DATA ENCOUNTERED WHILE DECRYPTING</span><br><span class="line">74h/03h    T            INCORRECT DATA ENCRYPTION KEY</span><br><span class="line">74h/04h    T            CRYPTOGRAPHIC INTEGRITY VALIDATION FAILED</span><br><span class="line">74h/05h    T            ERROR DECRYPTING DATA</span><br><span class="line">74h/06h    T            UNKNOWN SIGNATURE VERIFICATION KEY</span><br><span class="line">74h/07h    T            ENCRYPTION PARAMETERS NOT USEABLE</span><br><span class="line">74h/08h  DZT R M E  VF  DIGITAL SIGNATURE VALIDATION FAILURE</span><br><span class="line">74h/09h    T            ENCRYPTION MODE MISMATCH ON READ</span><br><span class="line">74h/0Ah    T            ENCRYPTED BLOCK NOT RAW READ ENABLED</span><br><span class="line">74h/0Bh    T            INCORRECT ENCRYPTION PARAMETERS</span><br><span class="line">74h/0Ch  DZT R MAEBKV   UNABLE TO DECRYPT PARAMETER LIST</span><br><span class="line">74h/0Dh    T            ENCRYPTION ALGORITHM DISABLED</span><br><span class="line">74h/10h  DZT R MAEBKV   SA CREATION PARAMETER VALUE INVALID</span><br><span class="line">74h/11h  DZT R MAEBKV   SA CREATION PARAMETER VALUE REJECTED</span><br><span class="line">74h/12h  DZT R MAEBKV   INVALID SA USAGE</span><br><span class="line">74h/21h    T            DATA ENCRYPTION CONFIGURATION PREVENTED</span><br><span class="line">74h/30h  DZT R MAEBKV   SA CREATION PARAMETER NOT SUPPORTED</span><br><span class="line">74h/40h  DZT R MAEBKV   AUTHENTICATION FAILED</span><br><span class="line">74h/61h             V   EXTERNAL DATA ENCRYPTION KEY MANAGER ACCESS ERROR</span><br><span class="line">74h/62h             V   EXTERNAL DATA ENCRYPTION KEY MANAGER ERROR</span><br><span class="line">74h/63h             V   EXTERNAL DATA ENCRYPTION KEY NOT FOUND</span><br><span class="line">74h/64h             V   EXTERNAL DATA ENCRYPTION REQUEST NOT AUTHORIZED</span><br><span class="line">74h/6Eh    T            EXTERNAL DATA ENCRYPTION CONTROL TIMEOUT</span><br><span class="line">74h/6Fh    T            EXTERNAL DATA ENCRYPTION CONTROL ERROR</span><br><span class="line">74h/71h  DZT R M E  V   LOGICAL UNIT ACCESS NOT AUTHORIZED</span><br><span class="line">74h/79h  DZ             SECURITY CONFLICT IN TRANSLATED DEVICE</span><br><span class="line">75h/00h</span><br><span class="line">76h/00h</span><br><span class="line">77h/00h</span><br><span class="line">78h/00h</span><br><span class="line">79h/00h</span><br><span class="line">7Ah/00h</span><br><span class="line">7Bh/00h</span><br><span class="line">7Ch/00h</span><br><span class="line">7Dh/00h</span><br><span class="line">7Eh/00h</span><br><span class="line">7Fh/00h</span><br><span class="line"></span><br><span class="line">The cmd= field contains  the  SCSI  command  issued  to  the drive.    Any   SCSI  command  may  be  issued  through  the SDIOPASSTHRU ioctl in the driver.   The  following commands may be issued in normal operation by the disk driver:</span><br><span class="line"></span><br><span class="line">0x00 TEST UNIT READY</span><br><span class="line">0x03 REQUEST SENSE</span><br><span class="line">0x04 FORMAT UNIT</span><br><span class="line">0x07 REASSIGN BLOCK</span><br><span class="line">0x08 READ</span><br><span class="line">0x0A WRITE</span><br><span class="line">0x12 INQUIRY</span><br><span class="line">0x15 MODE SELECT</span><br><span class="line">0x1A MODE SENSE</span><br><span class="line">0x1C RECEIVE DIAGNOSTIC RESULTS</span><br><span class="line">0x1D SEND DIAGNOSTIC</span><br><span class="line">0x25 READ CAPACITY</span><br><span class="line">0x28 READ EXTENDED</span><br><span class="line">0x2A WRITE EXTENDED</span><br><span class="line">0x37 READ DEFECT DATA</span><br><span class="line"></span><br><span class="line">https://support.hpe.com/hpesc/public/docDisplay?docId=ns100.0.74598064.4145332en_us&amp;docLocale=en_US</span><br><span class="line"></span><br><span class="line">=== START OF READ SMART DATA SECTION ===</span><br><span class="line">SMART Health Status: WARNING: ascq=0x97 [asc=b, ascq=97]</span><br><span class="line">or</span><br><span class="line">Warning 2017/01/25 07:44:52 System 127.0.0.1 localhost USB port 4 Read I/O error, sense_key=0×0, asc=0×0, ascq=0×0, CDB=28 00 57 09 ed 18 00 00 10 00 .</span><br><span class="line"></span><br><span class="line">bit→</span><br><span class="line">↓byte    7     6     5     4     3      2     1     0</span><br><span class="line">0      Valid |              Error Code</span><br><span class="line">1                   Segment Number</span><br><span class="line">2   Filemark|EOM| ILI|Reserved|       Sense Key</span><br><span class="line">3               (MSB) Information (MSB)</span><br><span class="line">4               (MSB) Information (MSB)</span><br><span class="line">5               (MSB) Information (MSB)</span><br><span class="line">6               (MSB) Information (MSB)</span><br><span class="line">7               Additional Sense Length (n-7)</span><br><span class="line">8               (MSB) Information (MSB)</span><br><span class="line">9               (MSB) Information (MSB)</span><br><span class="line">10              (MSB) Information (MSB)</span><br><span class="line">11              (MSB) Information (MSB)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">bit→</span><br><span class="line">↓byte    7     6     5     4     3      2     1     0</span><br><span class="line">12              Additional Sense Code</span><br><span class="line">13              Additional Sense Code Qualifier</span><br><span class="line">14              Field Replaceable Unit Code</span><br><span class="line">15</span><br><span class="line">17              SKSV Sense Key Specific</span><br><span class="line">18</span><br><span class="line">to (from 18 util 254)</span><br><span class="line">254             Additional Sense Byte</span><br></pre></td></tr></table></figure>

<h3 id="WRITE-SAME-failed-Manually-zeroing"><a href="#WRITE-SAME-failed-Manually-zeroing" class="headerlink" title="WRITE SAME failed. Manually zeroing"></a><a target="_blank" rel="noopener" href="https://access.redhat.com/solutions/2994251">WRITE SAME failed. Manually zeroing</a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## set max_write_same_blocks = 0</span></span><br><span class="line"><span class="comment"># cat /etc/udev/rules.d/99-write_same.rules</span></span><br><span class="line">ACTION==<span class="string">&quot;add|change&quot;</span>, SUBSYSTEM==<span class="string">&quot;scsi_disk&quot;</span>, ATTR&#123;max_write_same_blocks&#125;=<span class="string">&quot;0&quot;</span></span><br><span class="line"></span><br><span class="line">$ udevadm control --reload-rules</span><br><span class="line">$ udevadm trigger --<span class="built_in">type</span>=devices --action=change</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">block/blk-core.c</span><br><span class="line">ool <span class="title function_">blk_update_request</span><span class="params">(<span class="keyword">struct</span> request *req, <span class="type">int</span> error, <span class="type">unsigned</span> <span class="type">int</span> nr_bytes)</span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="type">int</span> total_bytes;</span><br><span class="line"></span><br><span class="line">        trace_block_rq_complete(req-&gt;q, req, nr_bytes);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!req-&gt;bio)</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">[.... ]</span><br><span class="line">        <span class="keyword">if</span> (req-&gt;cmd_type == REQ_TYPE_FS)</span><br><span class="line">                req-&gt;errors = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (error &amp;&amp; req-&gt;cmd_type == REQ_TYPE_FS &amp;&amp;</span><br><span class="line">            !(req-&gt;cmd_flags &amp; REQ_QUIET)) &#123;</span><br><span class="line">                <span class="type">char</span> *error_type;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">switch</span> (error) &#123;</span><br><span class="line">                <span class="keyword">case</span> -ENOLINK:</span><br><span class="line">                        error_type = <span class="string">&quot;recoverable transport&quot;</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> -EREMOTEIO:</span><br><span class="line">                        error_type = <span class="string">&quot;critical target&quot;</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> -EBADE:</span><br><span class="line">                        error_type = <span class="string">&quot;critical nexus&quot;</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> -ENOSPC:</span><br><span class="line">                        error_type = <span class="string">&quot;critical space allocation&quot;</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> -ENODATA:</span><br><span class="line">                        error_type = <span class="string">&quot;critical medium&quot;</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> -EIO:</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                        error_type = <span class="string">&quot;I/O&quot;</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                printk_ratelimited(KERN_ERR <span class="string">&quot;%s: %s error, dev %s, sector %llu\n&quot;</span>,</span><br><span class="line">                                   __func__, error_type, req-&gt;rq_disk ?</span><br><span class="line">                                   req-&gt;rq_disk-&gt;disk_name : <span class="string">&quot;?&quot;</span>,</span><br><span class="line">                                   (<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>)blk_rq_pos(req));</span><br><span class="line"></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>block&#x2F;blk-lib.c</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * blkdev_issue_zeroout - zero-fill a block range</span></span><br><span class="line"><span class="comment"> * @bdev:       blockdev to write</span></span><br><span class="line"><span class="comment"> * @sector:     start sector</span></span><br><span class="line"><span class="comment"> * @nr_sects:   number of sectors to write</span></span><br><span class="line"><span class="comment"> * @gfp_mask:   memory allocation flags (for bio_alloc)</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Description:</span></span><br><span class="line"><span class="comment"> *  Generate and issue number of bios with zerofiled pages.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">blkdev_issue_zeroout</span><span class="params">(<span class="keyword">struct</span> block_device *bdev, <span class="type">sector_t</span> sector,</span></span><br><span class="line"><span class="params">                         <span class="type">sector_t</span> nr_sects, <span class="type">gfp_t</span> gfp_mask)</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * blkdev_issue_write_same - queue a write same operation</span></span><br><span class="line"><span class="comment"> * @bdev:       target blockdev</span></span><br><span class="line"><span class="comment"> * @sector:     start sector</span></span><br><span class="line"><span class="comment"> * @nr_sects:   number of sectors to write</span></span><br><span class="line"><span class="comment"> * @gfp_mask:   memory allocation flags (for bio_alloc)</span></span><br><span class="line"><span class="comment"> * @page:       page containing data to write</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Description:</span></span><br><span class="line"><span class="comment"> *    Issue a write same request for the sectors in question.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">blkdev_issue_write_same</span><span class="params">(<span class="keyword">struct</span> block_device *bdev, <span class="type">sector_t</span> sector,</span></span><br><span class="line"><span class="params">                            <span class="type">sector_t</span> nr_sects, <span class="type">gfp_t</span> gfp_mask,</span></span><br><span class="line"><span class="params">                            <span class="keyword">struct</span> page *page)</span></span><br><span class="line">&#123;</span><br><span class="line">  </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * blkdev_issue_zeroout - generate number of zero filed write bios</span></span><br><span class="line"><span class="comment"> * @bdev:       blockdev to issue</span></span><br><span class="line"><span class="comment"> * @sector:     start sector</span></span><br><span class="line"><span class="comment"> * @nr_sects:   number of sectors to write</span></span><br><span class="line"><span class="comment"> * @gfp_mask:   memory allocation flags (for bio_alloc)</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Description:</span></span><br><span class="line"><span class="comment"> *  Generate and issue number of bios with zerofiled pages.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> __blkdev_issue_zeroout(<span class="keyword">struct</span> block_device *bdev, <span class="type">sector_t</span> sector,</span><br><span class="line">                                  <span class="type">sector_t</span> nr_sects, <span class="type">gfp_t</span> gfp_mask)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">nclude/linux/blkdev.h</span><br><span class="line"><span class="type">static</span> <span class="keyword">inline</span> <span class="type">int</span> <span class="title function_">sb_issue_zeroout</span><span class="params">(<span class="keyword">struct</span> super_block *sb, <span class="type">sector_t</span> block,</span></span><br><span class="line"><span class="params">                <span class="type">sector_t</span> nr_blocks, <span class="type">gfp_t</span> gfp_mask)</span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="keyword">return</span> blkdev_issue_zeroout(sb-&gt;s_bdev,</span><br><span class="line">                                    block &lt;&lt; (sb-&gt;s_blocksize_bits - <span class="number">9</span>),</span><br><span class="line">                                    nr_blocks &lt;&lt; (sb-&gt;s_blocksize_bits - <span class="number">9</span>),</span><br><span class="line">                                    gfp_mask);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">block/ioctl.c</span><br><span class="line">        <span class="keyword">case</span> BLKZEROOUT: &#123;</span><br><span class="line">                <span class="type">uint64_t</span> range[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (!(mode &amp; FMODE_WRITE))</span><br><span class="line">                        <span class="keyword">return</span> -EBADF;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (copy_from_user(range, (<span class="type">void</span> __user *)arg, <span class="keyword">sizeof</span>(range)))</span><br><span class="line">                        <span class="keyword">return</span> -EFAULT;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> blk_ioctl_zeroout(bdev, range[<span class="number">0</span>], range[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">blk_ioctl_zeroout</span><span class="params">(<span class="keyword">struct</span> block_device *bdev, <span class="type">uint64_t</span> start,</span></span><br><span class="line"><span class="params">                             <span class="type">uint64_t</span> len)</span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="keyword">if</span> (start &amp; <span class="number">511</span>)</span><br><span class="line">                <span class="keyword">return</span> -EINVAL;</span><br><span class="line">        <span class="keyword">if</span> (len &amp; <span class="number">511</span>)</span><br><span class="line">                <span class="keyword">return</span> -EINVAL;</span><br><span class="line">        start &gt;&gt;= <span class="number">9</span>;</span><br><span class="line">        len &gt;&gt;= <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (start + len &gt; (i_size_read(bdev-&gt;bd_inode) &gt;&gt; <span class="number">9</span>))</span><br><span class="line">                <span class="keyword">return</span> -EINVAL;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> blkdev_issue_zeroout(bdev, start, len, GFP_KERNEL);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>The device support the scsi WRITE SAME , and WRITE SAME failed.   </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env stap</span><br><span class="line">probe kernel.function(<span class="string">&quot;blkdev_issue_zeroout&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;name : %s, pid : %d, start sector : %d, sector number : %d.\n&quot;</span>, execname(), pid(), $sector, $nr_sects)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Device-parameters"><span class="toc-number">1.</span> <span class="toc-text">Device parameters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#How-many-devices-can-you-connect"><span class="toc-number">2.</span> <span class="toc-text">How many devices can you connect?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Does-the-SAS-support-the-full-duplex"><span class="toc-number">3.</span> <span class="toc-text">Does the SAS support the full-duplex ?</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#set-parameter-for-storage-system"><span class="toc-number">3.1.</span> <span class="toc-text">set parameter for storage system</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SCSI-command"><span class="toc-number">3.2.</span> <span class="toc-text">SCSI command</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#view-pages-from-the-enclosure"><span class="toc-number">3.2.1.</span> <span class="toc-text">view pages from the enclosure</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Avoid-multiple-JBOD-devs-across-in-single-raidz-script-flag"><span class="toc-number">3.2.2.</span> <span class="toc-text">Avoid multiple JBOD devs across in single raidz script_flag</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#map-element-index-and-sas-addr-script-flag"><span class="toc-number">3.2.3.</span> <span class="toc-text">map element index and sas addr script_flag</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#sg-modes-at-the-next"><span class="toc-number">3.2.4.</span> <span class="toc-text">sg_modes at the next</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Enable-SATA-TLER-x2F-ERC-x2F-CCTL"><span class="toc-number">3.3.</span> <span class="toc-text">Enable SATA TLER&#x2F;ERC&#x2F;CCTL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Get-hide-area-from-SATA-SSD"><span class="toc-number">3.4.</span> <span class="toc-text">Get hide area from SATA SSD</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Enable-SAS-x2F-SATA-dev-cache"><span class="toc-number">3.5.</span> <span class="toc-text">Enable SAS&#x2F;SATA dev cache</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#SAS-cache"><span class="toc-number">3.5.1.</span> <span class="toc-text">SAS cache</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SATA-cache"><span class="toc-number">3.6.</span> <span class="toc-text">SATA cache</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sector-size"><span class="toc-number">3.7.</span> <span class="toc-text">sector size</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#512e-SATA"><span class="toc-number">3.7.1.</span> <span class="toc-text">512e SATA</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4KN"><span class="toc-number">3.7.2.</span> <span class="toc-text">4KN</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Nominal-media-rotation-rate"><span class="toc-number">3.7.3.</span> <span class="toc-text">Nominal media rotation rate</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Does-devices-support-the-scsi-Persistent-Reservation"><span class="toc-number">3.8.</span> <span class="toc-text">Does devices support the scsi-Persistent-Reservation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#multipath"><span class="toc-number">3.9.</span> <span class="toc-text">multipath</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sg-read"><span class="toc-number">3.10.</span> <span class="toc-text">sg_read</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sg-readcap"><span class="toc-number">3.11.</span> <span class="toc-text">sg_readcap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sginfo"><span class="toc-number">3.12.</span> <span class="toc-text">sginfo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sg-logs"><span class="toc-number">3.13.</span> <span class="toc-text">sg_logs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sg-reassign"><span class="toc-number">3.14.</span> <span class="toc-text">sg_reassign</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SATA-reassign"><span class="toc-number">3.15.</span> <span class="toc-text">SATA reassign</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sg-senddiag"><span class="toc-number">3.16.</span> <span class="toc-text">sg_senddiag</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sg-inq"><span class="toc-number">3.17.</span> <span class="toc-text">sg_inq</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sg-vpd"><span class="toc-number">3.18.</span> <span class="toc-text">sg_vpd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SAS-2-Support-multiple-STP-affiliations"><span class="toc-number">3.19.</span> <span class="toc-text">SAS-2 Support multiple STP affiliations</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#disable-background-scans"><span class="toc-number">3.20.</span> <span class="toc-text">disable background scans</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sdparm-set-the-power-status-of-device"><span class="toc-number">3.21.</span> <span class="toc-text">sdparm set the power status of device</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Disable-SATA-power-save"><span class="toc-number">3.22.</span> <span class="toc-text">Disable SATA power save</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SAS-Link-layer-2-has-the-flow-control"><span class="toc-number">3.23.</span> <span class="toc-text">SAS Link layer 2 has the flow control</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux-mpt3sas-SCSI-error-handler"><span class="toc-number">3.24.</span> <span class="toc-text">Linux mpt3sas SCSI error handler</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#driver-mapping-page"><span class="toc-number">3.25.</span> <span class="toc-text">driver mapping page</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#list-of-T10-Additional-Sense-Codes"><span class="toc-number">3.26.</span> <span class="toc-text">list of T10 Additional Sense Codes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SAS-connection"><span class="toc-number">3.27.</span> <span class="toc-text">SAS connection</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Sense-Keys-x2F-ASC-and-ASCQ-codes"><span class="toc-number">3.28.</span> <span class="toc-text">Sense Keys&#x2F;ASC and ASCQ codes</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#CDB"><span class="toc-number">3.28.1.</span> <span class="toc-text">CDB</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sg-opcodes"><span class="toc-number">3.29.</span> <span class="toc-text">sg_opcodes</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WRITE-SAME-failed-Manually-zeroing"><span class="toc-number">4.</span> <span class="toc-text">WRITE SAME failed. Manually zeroing</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2022/11/13/scsi/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2022/11/13/scsi/&text=SCSI"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2022/11/13/scsi/&title=SCSI"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2022/11/13/scsi/&is_video=false&description=SCSI"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=SCSI&body=Check out this article: http://example.com/2022/11/13/scsi/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2022/11/13/scsi/&title=SCSI"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2022/11/13/scsi/&title=SCSI"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2022/11/13/scsi/&title=SCSI"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2022/11/13/scsi/&title=SCSI"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2022/11/13/scsi/&name=SCSI&description=&lt;h3 id=&#34;Device-parameters&#34;&gt;&lt;a href=&#34;#Device-parameters&#34; class=&#34;headerlink&#34; title=&#34;Device parameters&#34;&gt;&lt;/a&gt;&lt;a href=&#34;https://www.seagate.com/www-content/surveillance-center/files/Understanding-Reliability-Metrics.pdf&#34;&gt;Device parameters&lt;/a&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;MTBF Mean Time Between Failure&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MTBF, however, can be subject to misinterpretation. For example, an HDD might carry a 1M-hour MTBF, causing some customers to erroneously assume that the drive should be able to run 24 hours a day for a century or more. Obviously, this is theoretical.&lt;/li&gt;
&lt;li&gt;MTBF is actually reached by dividing the total time a population of samples is under observation by the number of failures. If you have 1000 drives running for 1000 hours each, and five of them fail (1000×1000&amp;#x2F;5 ), you’ve then derived a 200K-hour MTBF. Because MTBF is typically calculated during an HDD’s useful life, consider a graph of failure rate over time, starting when a population of HDDs rolls off of the manufacturing line.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;AFR Annualized Failure Rate &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Recently, Seagate began offering AFR specs on some drives in addition to conventional MTBF ratings. Although the two metrics are similar, AFR is a percentage estimate of the products that will likely fail due to a defect over a 1-year period. The subtle distinction lies in a switch from averages to percentages. MTBF is based on probabilities; AFR relies on HDD return numbers and analyses for its estimates. AFRs don’t include HDDs returned without issues, those subjected to excessive shock or HDDs that were mishandled. Seagate expects AFR to help facilitate better service plans and spare unit strategies.&lt;ul&gt;
&lt;li&gt;Remember: AFR, as with any reliability metric, makes specific assumptions about how many hours an HDD is running per year, endured motor start&amp;#x2F;stop cycles, and internal temperature, all of which affect reliability. But AFR doesn’t necessarily help you get to the bottom of which HDD is right for your application. Enter the annualized workload rate (WRL).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;WRL Workload Rate Limit&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Seagate specifies a WRL—that is, the maximum read&amp;#x2F;write workload (also in terabytes per year) a given HDD is designed to accommodate. Enterprise-class drives feature a WRL of 300TB to 550TB&amp;#x2F;year. Specialty-tuned drives, including NAS, archive, video and surveillance families, are rated for 180TB&amp;#x2F;year; Seagate’s client portfolio (desktop and laptop HDDs) has a workload rate limit of 55TB&amp;#x2F;year, which is still a formidable amount of data within the client market segment.   &lt;/li&gt;
&lt;li&gt;Consider environmental conditions in your reliability projections. An insufficiently-cooled storage device, even operating under its WRL, will experience a higher failure rate than those at or under manufacturer specifications. Similarly, using a desktop HDD in a highly active chassis with significant vibration levels can also take a toll on the performance and reliability of the drive.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://blocksandfiles.com/2021/01/04/incremental-storage-media-density-magic-meant-flash-chipped-away-at-disk-in-2020/&#34;&gt;areal density&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;LTO-9 tape has 12 Gb&amp;#x2F;in2 areal density. An 18TB disk drive has 1022 Gb&amp;#x2F;in2. That means LTO-9 tape can achieve the same 18TB capacity with only 1&amp;#x2F;85th of the areal density than that of an 18TB disk. No wonder tape’s area density has such a large development head room.&lt;/li&gt;
&lt;li&gt;Many ssd areal density is the xx Gb&amp;#x2F;mm2 , search “Gb&amp;#x2F;inch2 to Gb&amp;#x2F;mm2” in google.&lt;/li&gt;
&lt;li&gt;1 Gigabit&amp;#x2F;square inch &amp;#x3D; 0.00155 Gigabit&amp;#x2F;square millimeter&lt;/li&gt;
&lt;li&gt;20TB HDD (1200 Gb&amp;#x2F;in2 &amp;#x3D; 1.86 Gb&amp;#x2F;mm2), &lt;a href=&#34;https://www.anandtech.com/show/16491/flash-memory-at-isscc-2021&#34;&gt;In 2021, 3d TLC top Density &amp;#x3D; 8.5 Gb&amp;#x2F;mm2 , 3d QLC top density &amp;#x3D; 13.8 Gb&amp;#x2F;mm2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://www.seagate.com/support/kb/annualized-workload-rate-005902en/&#34;&gt;Annualized Workload Rate&lt;/a&gt; &amp;#x3D; (Lifetime Writes + Lifetime Reads) * (8760 &amp;#x2F; Lifetime Power On Hours)  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;8760 are the number of hours in a year.  The Workload Rate becomes an annualized average expressed as TB&amp;#x2F;year.   &lt;ul&gt;
&lt;li&gt;Enterprise                300~550TB&amp;#x2F;year   &lt;/li&gt;
&lt;li&gt;NAS&amp;#x2F;archive&amp;#x2F;surveillance  180TB&amp;#x2F;year  &lt;/li&gt;
&lt;li&gt;desktop&amp;#x2F;laptop            55TB&amp;#x2F;year&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;How-many-devices-can-you-connect&#34;&gt;&lt;a href=&#34;#How-many-devices-can-you-connect&#34; class=&#34;headerlink&#34; title=&#34;How many devices can you connect?&#34;&gt;&lt;/a&gt;&lt;a href=&#34;https://www.microsemi.com/document-portal/doc_download/136098-university-training-what-is-sas&#34;&gt;How many devices can you connect?&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Individual SAS RAID adapters can typically support up to 128 end devices with the use of SAS expanders, and can communicate with both SAS and SATA devices.&lt;/p&gt;
&lt;p&gt;Note: Although you can use both SAS and SATA disk drives in the same SAS domain (see page 93), we recommend that you not combine SAS and SATA disk drives within the same array or logical&lt;br&gt;drive. The difference in performance between the two types of disk drives may adversely affect the performance of the array.&lt;/p&gt;
&lt;p&gt;However, as you read in the previous section, with the use of fanout and edge expanders, a single SAS domain can comprise up to 16,384 SAS ports.&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2022/11/13/scsi/&t=SCSI"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2022
    John Doe
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
