<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Process statusIt is used for kernel threads which use the TASK_IDLE state when idling, instead of TASK_INTERRUPTIBLE; in previous versions of the kernel, such threads were reported as TASK_UNINTERRUPT">
<meta property="og:type" content="article">
<meta property="og:title" content="process">
<meta property="og:url" content="http://example.com/2018/12/02/process/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Process statusIt is used for kernel threads which use the TASK_IDLE state when idling, instead of TASK_INTERRUPTIBLE; in previous versions of the kernel, such threads were reported as TASK_UNINTERRUPT">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2018-12-02T05:28:02.000Z">
<meta property="article:modified_time" content="2020-10-11T10:12:36.000Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="process">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>process</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2018/12/11/bash/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2018/11/13/ext4/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2018/12/02/process/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2018/12/02/process/&text=process"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2018/12/02/process/&title=process"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2018/12/02/process/&is_video=false&description=process"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=process&body=Check out this article: http://example.com/2018/12/02/process/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2018/12/02/process/&title=process"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2018/12/02/process/&title=process"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2018/12/02/process/&title=process"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2018/12/02/process/&title=process"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2018/12/02/process/&name=process&description=&lt;h3 id=&#34;Process-status&#34;&gt;&lt;a href=&#34;#Process-status&#34; class=&#34;headerlink&#34; title=&#34;Process status&#34;&gt;&lt;/a&gt;&lt;a href=&#34;https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=06eb61844d841d0032a9950ce7f8e783ee49c0d0&#34;&gt;Process status&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;a href=&#34;https://unix.stackexchange.com/questions/412471/what-does-i-uppercase-i-mean-in-ps-aux&#34;&gt;It is used for kernel threads which use the TASK_IDLE state when idling, instead of TASK_INTERRUPTIBLE; in previous versions of the kernel, such threads were reported as TASK_UNINTERRUPTIBLE which was confusing.&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;diff --git a/fs/proc/array.c b/fs/proc/array.c&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;index 01196d3a..a120a45 100644&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;--- a/fs/proc/array.c&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+++ b/fs/proc/array.c&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;@@ -119,18 +119,23 @@ static inline void task_name(struct seq_file *m, struct task_struct *p)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  * simple bit tests.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; static const char * const task_state_array[] = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-	&lt;span class=&#34;string&#34;&gt;&amp;quot;R (running)&amp;quot;&lt;/span&gt;,		/*   0 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-	&lt;span class=&#34;string&#34;&gt;&amp;quot;S (sleeping)&amp;quot;&lt;/span&gt;,		/*   1 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-	&lt;span class=&#34;string&#34;&gt;&amp;quot;D (disk sleep)&amp;quot;&lt;/span&gt;,	/*   2 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-	&lt;span class=&#34;string&#34;&gt;&amp;quot;T (stopped)&amp;quot;&lt;/span&gt;,		/*   4 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-	&lt;span class=&#34;string&#34;&gt;&amp;quot;t (tracing stop)&amp;quot;&lt;/span&gt;,	/*   8 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-	&lt;span class=&#34;string&#34;&gt;&amp;quot;X (dead)&amp;quot;&lt;/span&gt;,		/*  16 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-	&lt;span class=&#34;string&#34;&gt;&amp;quot;Z (zombie)&amp;quot;&lt;/span&gt;,		/*  32 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	/* states &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; TASK_REPORT: */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	&lt;span class=&#34;string&#34;&gt;&amp;quot;R (running)&amp;quot;&lt;/span&gt;,		/* 0x00 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	&lt;span class=&#34;string&#34;&gt;&amp;quot;S (sleeping)&amp;quot;&lt;/span&gt;,		/* 0x01 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	&lt;span class=&#34;string&#34;&gt;&amp;quot;D (disk sleep)&amp;quot;&lt;/span&gt;,	/* 0x02 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	&lt;span class=&#34;string&#34;&gt;&amp;quot;T (stopped)&amp;quot;&lt;/span&gt;,		/* 0x04 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	&lt;span class=&#34;string&#34;&gt;&amp;quot;t (tracing stop)&amp;quot;&lt;/span&gt;,	/* 0x08 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	&lt;span class=&#34;string&#34;&gt;&amp;quot;X (dead)&amp;quot;&lt;/span&gt;,		/* 0x10 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	&lt;span class=&#34;string&#34;&gt;&amp;quot;Z (zombie)&amp;quot;&lt;/span&gt;,		/* 0x20 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	/* states beyond TASK_REPORT: */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	&lt;span class=&#34;string&#34;&gt;&amp;quot;I (idle)&amp;quot;&lt;/span&gt;,		/* 0x40 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2018/12/02/process/&t=process"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Process-status"><span class="toc-number">1.</span> <span class="toc-text">Process status</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Get-the-process-system-overhead"><span class="toc-number">2.</span> <span class="toc-text">Get the process system overhead</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Trace-D-state"><span class="toc-number">3.</span> <span class="toc-text">Trace D state</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        process
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">John Doe</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2018-12-02T05:28:02.000Z" itemprop="datePublished">2018-12-02</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/OS/">OS</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/process/" rel="tag">process</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h3 id="Process-status"><a href="#Process-status" class="headerlink" title="Process status"></a><a target="_blank" rel="noopener" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=06eb61844d841d0032a9950ce7f8e783ee49c0d0">Process status</a></h3><p><a target="_blank" rel="noopener" href="https://unix.stackexchange.com/questions/412471/what-does-i-uppercase-i-mean-in-ps-aux">It is used for kernel threads which use the TASK_IDLE state when idling, instead of TASK_INTERRUPTIBLE; in previous versions of the kernel, such threads were reported as TASK_UNINTERRUPTIBLE which was confusing.</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">diff --git a/fs/proc/array.c b/fs/proc/array.c</span><br><span class="line">index 01196d3a..a120a45 100644</span><br><span class="line">--- a/fs/proc/array.c</span><br><span class="line">+++ b/fs/proc/array.c</span><br><span class="line">@@ -119,18 +119,23 @@ static inline void task_name(struct seq_file *m, struct task_struct *p)</span><br><span class="line">  * simple bit tests.</span><br><span class="line">  */</span><br><span class="line"> static const char * const task_state_array[] = &#123;</span><br><span class="line">-	<span class="string">&quot;R (running)&quot;</span>,		/*   0 */</span><br><span class="line">-	<span class="string">&quot;S (sleeping)&quot;</span>,		/*   1 */</span><br><span class="line">-	<span class="string">&quot;D (disk sleep)&quot;</span>,	/*   2 */</span><br><span class="line">-	<span class="string">&quot;T (stopped)&quot;</span>,		/*   4 */</span><br><span class="line">-	<span class="string">&quot;t (tracing stop)&quot;</span>,	/*   8 */</span><br><span class="line">-	<span class="string">&quot;X (dead)&quot;</span>,		/*  16 */</span><br><span class="line">-	<span class="string">&quot;Z (zombie)&quot;</span>,		/*  32 */</span><br><span class="line">+</span><br><span class="line">+	/* states <span class="keyword">in</span> TASK_REPORT: */</span><br><span class="line">+	<span class="string">&quot;R (running)&quot;</span>,		/* 0x00 */</span><br><span class="line">+	<span class="string">&quot;S (sleeping)&quot;</span>,		/* 0x01 */</span><br><span class="line">+	<span class="string">&quot;D (disk sleep)&quot;</span>,	/* 0x02 */</span><br><span class="line">+	<span class="string">&quot;T (stopped)&quot;</span>,		/* 0x04 */</span><br><span class="line">+	<span class="string">&quot;t (tracing stop)&quot;</span>,	/* 0x08 */</span><br><span class="line">+	<span class="string">&quot;X (dead)&quot;</span>,		/* 0x10 */</span><br><span class="line">+	<span class="string">&quot;Z (zombie)&quot;</span>,		/* 0x20 */</span><br><span class="line">+</span><br><span class="line">+	/* states beyond TASK_REPORT: */</span><br><span class="line">+	<span class="string">&quot;I (idle)&quot;</span>,		/* 0x40 */</span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h3 id="Get-the-process-system-overhead"><a href="#Get-the-process-system-overhead" class="headerlink" title="Get the process system overhead"></a>Get the process system overhead</h3><p>(14) utime  %lu<br>Amount of time that this process has been scheduled in user mode, measured in clock ticks (divide by sysconf(_SC_CLK_TCK)).  This includes guest time, guest_time (time spent running a virtual CPU, see below), so that applications that are not aware of the guest time field do not lose that time from their calculations.</p>
<p>(15) stime  %lu<br>Amount of time that this process has been scheduled in kernel mode, measured in clock ticks (divide by sysconf(_SC_CLK_TCK)).</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat proc/pid/stat</span><br></pre></td></tr></table></figure>

<h3 id="Trace-D-state"><a href="#Trace-D-state" class="headerlink" title="Trace D state"></a>Trace D state</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line">$ ps aux | grep find</span><br><span class="line">root      3326  0.4  0.0 120136  1324 pts/1    D+   08:59   0:00 find /mnt -<span class="built_in">type</span> f</span><br><span class="line">root      3401  0.0  0.0 112712   980 pts/2    R+   09:00   0:00 grep --color=auto find</span><br><span class="line"></span><br><span class="line">$ top -cbp 3326</span><br><span class="line">top - 09:00:14 up 4 days, 18:41,  2 <span class="built_in">users</span>,  load average: 0.69, 0.23, 0.12</span><br><span class="line">Tasks:   1 total,   0 running,   1 sleeping,   0 stopped,   0 zombie</span><br><span class="line">%Cpu(s):  0.0 us,  0.0 sy,  0.0 ni,100.0 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">KiB Mem : 16233076 total, 15212880 free,   611076 used,   409120 buff/cache</span><br><span class="line">KiB Swap:  3145724 total,  3145724 free,        0 used. 15280092 avail Mem</span><br><span class="line"></span><br><span class="line">  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND</span><br><span class="line"> 3326 root      20   0  120136   1324    976 D   0.0  0.0   0:00.23 find /mnt -<span class="built_in">type</span> f</span><br><span class="line"></span><br><span class="line">$ pstack 3326</span><br><span class="line"><span class="comment">### pstack hang too</span></span><br><span class="line">Killed</span><br><span class="line"></span><br><span class="line">$ ps -flp  3326</span><br><span class="line">F S UID        PID  PPID  C PRI  NI ADDR SZ WCHAN  STIME TTY          TIME CMD</span><br><span class="line">0 D root      3326  3306  0  80   0 - 30034 rpc_wa 08:59 pts/1    00:00:00 find /mnt -<span class="built_in">type</span> f</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> /proc/3326/status</span><br><span class="line">Name:	find</span><br><span class="line">Umask:	0022</span><br><span class="line">State:	D (disk <span class="built_in">sleep</span>)</span><br><span class="line">Tgid:	3326</span><br><span class="line">Ngid:	0</span><br><span class="line">Pid:	3326</span><br><span class="line">PPid:	3306</span><br><span class="line">TracerPid:	3656</span><br><span class="line">Uid:	0	0	0	0</span><br><span class="line">Gid:	0	0	0	0</span><br><span class="line">FDSize:	256</span><br><span class="line">Groups:	0 </span><br><span class="line">VmPeak:	  120736 kB</span><br><span class="line">VmSize:	  120136 kB</span><br><span class="line">VmLck:	       0 kB</span><br><span class="line">VmPin:	       0 kB</span><br><span class="line">VmHWM:	    1820 kB</span><br><span class="line">VmRSS:	    1324 kB</span><br><span class="line">RssAnon:	     348 kB</span><br><span class="line">RssFile:	     976 kB</span><br><span class="line">RssShmem:	       0 kB</span><br><span class="line">VmData:	     280 kB</span><br><span class="line">VmStk:	     132 kB</span><br><span class="line">VmExe:	     184 kB</span><br><span class="line">VmLib:	    3592 kB</span><br><span class="line">VmPTE:	      68 kB</span><br><span class="line">VmSwap:	       0 kB</span><br><span class="line">Threads:	1</span><br><span class="line">SigQ:	0/63312</span><br><span class="line">SigPnd:	0000000000040000</span><br><span class="line">ShdPnd:	0000000000000000</span><br><span class="line">SigBlk:	0000000000000000</span><br><span class="line">SigIgn:	0000000000000000</span><br><span class="line">SigCgt:	0000000180000000</span><br><span class="line">CapInh:	0000000000000000</span><br><span class="line">CapPrm:	0000001fffffffff</span><br><span class="line">CapEff:	0000001fffffffff</span><br><span class="line">CapBnd:	0000001fffffffff</span><br><span class="line">CapAmb:	0000000000000000</span><br><span class="line">Seccomp:	0</span><br><span class="line">Speculation_Store_Bypass:	vulnerable</span><br><span class="line">Cpus_allowed:	ff</span><br><span class="line">Cpus_allowed_list:	0-7</span><br><span class="line">Mems_allowed:	00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000001</span><br><span class="line">Mems_allowed_list:	0</span><br><span class="line">voluntary_ctxt_switches:	3680</span><br><span class="line">nonvoluntary_ctxt_switches:	44</span><br><span class="line"></span><br><span class="line">-----------<span class="built_in">wait</span> some seconds</span><br><span class="line"><span class="built_in">cat</span> /proc/3326/status</span><br><span class="line">Name:	find</span><br><span class="line">Umask:	0022</span><br><span class="line">State:	D (disk <span class="built_in">sleep</span>)</span><br><span class="line">Tgid:	3326</span><br><span class="line">Ngid:	0</span><br><span class="line">Pid:	3326</span><br><span class="line">PPid:	3306</span><br><span class="line">TracerPid:	3656</span><br><span class="line">Uid:	0	0	0	0</span><br><span class="line">Gid:	0	0	0	0</span><br><span class="line">FDSize:	256</span><br><span class="line">Groups:	0 </span><br><span class="line">VmPeak:	  120736 kB</span><br><span class="line">VmSize:	  120136 kB</span><br><span class="line">VmLck:	       0 kB</span><br><span class="line">VmPin:	       0 kB</span><br><span class="line">VmHWM:	    1820 kB</span><br><span class="line">VmRSS:	    1324 kB</span><br><span class="line">RssAnon:	     348 kB</span><br><span class="line">RssFile:	     976 kB</span><br><span class="line">RssShmem:	       0 kB</span><br><span class="line">VmData:	     280 kB</span><br><span class="line">VmStk:	     132 kB</span><br><span class="line">VmExe:	     184 kB</span><br><span class="line">VmLib:	    3592 kB</span><br><span class="line">VmPTE:	      68 kB</span><br><span class="line">VmSwap:	       0 kB</span><br><span class="line">Threads:	1</span><br><span class="line">SigQ:	0/63312</span><br><span class="line">SigPnd:	0000000000040000</span><br><span class="line">ShdPnd:	0000000000000000</span><br><span class="line">SigBlk:	0000000000000000</span><br><span class="line">SigIgn:	0000000000000000</span><br><span class="line">SigCgt:	0000000180000000</span><br><span class="line">CapInh:	0000000000000000</span><br><span class="line">CapPrm:	0000001fffffffff</span><br><span class="line">CapEff:	0000001fffffffff</span><br><span class="line">CapBnd:	0000001fffffffff</span><br><span class="line">CapAmb:	0000000000000000</span><br><span class="line">Seccomp:	0</span><br><span class="line">Speculation_Store_Bypass:	vulnerable</span><br><span class="line">Cpus_allowed:	ff</span><br><span class="line">Cpus_allowed_list:	0-7</span><br><span class="line">Mems_allowed:	00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000001</span><br><span class="line">Mems_allowed_list:	0</span><br><span class="line">voluntary_ctxt_switches:	3735</span><br><span class="line">nonvoluntary_ctxt_switches:	44</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#### voluntary_ctxt_switches improved</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> /proc/3326/schedstat </span><br><span class="line">242008218 11032717 3814</span><br><span class="line">$ <span class="built_in">cat</span> /proc/3326/schedstat </span><br><span class="line">242053568 11047734 3816</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> /proc/3326/syscall </span><br><span class="line">257 0x6 0xeae7b8 0x30900 0x0 0x0 0x18 0x7fff7b5d4068 0x7fc71e63ae47</span><br><span class="line"></span><br><span class="line"><span class="comment">#### make sure install kernel-header</span></span><br><span class="line">$ grep 257 /usr/include/asm/unistd_64.h </span><br><span class="line"><span class="comment">#define __NR_openat 257</span></span><br></pre></td></tr></table></figure>

<p>(openat)[<a target="_blank" rel="noopener" href="https://manpages.debian.org/testing/manpages-dev/openat.2.en.html">https://manpages.debian.org/testing/manpages-dev/openat.2.en.html</a>)<br>The open() system call opens the file specified by pathname. If the specified file does not exist, it may optionally (if O_CREAT is specified in flags) be created by open(). the return value of open() is a file descriptor</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ cat /proc/3326/stack </span><br><span class="line">[&lt;ffffffffc05f6f04&gt;] rpc_wait_bit_killable+0x24/0xb0 [sunrpc]</span><br><span class="line">[&lt;ffffffffc05f86f4&gt;] __rpc_execute+0x154/0x420 [sunrpc]</span><br><span class="line">[&lt;ffffffffc05f9f78&gt;] rpc_execute+0x68/0xc0 [sunrpc]</span><br><span class="line">[&lt;ffffffffc05e9786&gt;] rpc_run_task+0xf6/0x150 [sunrpc]</span><br><span class="line">[&lt;ffffffffc141a6d3&gt;] nfs4_call_sync_sequence+0x63/0xa0 [nfsv4]</span><br><span class="line">[&lt;ffffffffc141b6bc&gt;] _nfs4_proc_getattr+0xcc/0xf0 [nfsv4]</span><br><span class="line">[&lt;ffffffffc14279d2&gt;] nfs4_proc_getattr+0x72/0xf0 [nfsv4]</span><br><span class="line">[&lt;ffffffffc13e4695&gt;] __nfs_revalidate_inode+0xc5/0x300 [nfs]</span><br><span class="line">[&lt;ffffffffc13dbbc8&gt;] nfs_lookup_verify_inode+0x38/0x80 [nfs]</span><br><span class="line">[&lt;ffffffffc13dea34&gt;] nfs_lookup_revalidate+0x304/0x640 [nfs]</span><br><span class="line">[&lt;ffffffffc13ded9b&gt;] nfs4_lookup_revalidate+0x2b/0x130 [nfs]</span><br><span class="line">[&lt;ffffffffa764d2ea&gt;] lookup_fast+0x1da/0x230</span><br><span class="line">[&lt;ffffffffa764f72e&gt;] do_last+0x3de/0x12a0</span><br><span class="line">[&lt;ffffffffa76523f7&gt;] path_openat+0xd7/0x640</span><br><span class="line">[&lt;ffffffffa7653dfd&gt;] do_filp_open+0x4d/0xb0</span><br><span class="line">[&lt;ffffffffa763ff27&gt;] do_sys_open+0x137/0x240</span><br><span class="line">[&lt;ffffffffa7640064&gt;] SyS_openat+0x14/0x20</span><br><span class="line">[&lt;ffffffffa7b74ddb&gt;] system_call_fastpath+0x22/0x27</span><br><span class="line">[&lt;ffffffffffffffff&gt;] 0xffffffffffffffff</span><br></pre></td></tr></table></figure>
<p>The pid&#x2F;stack not changed, because the process has hang</p>
<p>The system_call_fastpath in the bottom is a generic kernel system call handler function which has called the kernel code for that newfstatat syscall we issued (sys_newfstatat). And then, continuing to go upwards through the “child” functions we end up seeing a bunch of NFS functions in the stack!</p>
<p>check kworker stack</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ for i in `pgrep worker` ; do ps -fp $i ; cat /proc/$i/stack ; done </span><br></pre></td></tr></table></figure>

<p>stack profiling<br><a target="_blank" rel="noopener" href="https://github.com/tanelpoder/tpt-oracle/blob/5a2fb5e7c6bd548420bcb349266e1b31d7c4e15b/tools/unix/os_explain">os_explain</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">root     11683  6.0  0.0      0     0 ?        S    Feb09 654:14 [nfsd]</span><br><span class="line">pid=11683;export LC_ALL=C ; for i in &#123;1..100&#125; ; do cat /proc/$pid/syscall | awk &#x27;&#123; print $1 &#125;&#x27; ; cat /proc/$pid/stack | ./os_explain -k ; usleep 100000 ; done | sort -r | uniq -c</span><br><span class="line">      2 running</span><br><span class="line">      2 f9a5e97af7f58</span><br><span class="line">     98 -1</span><br><span class="line">    100    0xffffffffffffffff </span><br><span class="line">     97     ret_from_fork_nospec_begin </span><br><span class="line">     97      kthread </span><br><span class="line">     97       nfsd </span><br><span class="line">      6        svc_recv </span><br><span class="line">     91        svc_process </span><br><span class="line">     91         svc_process_common </span><br><span class="line">     91          nfsd_dispatch </span><br><span class="line">     91           nfsd4_proc_compound </span><br><span class="line">     91            nfsd4_write </span><br><span class="line">     91             nfsd_vfs_write </span><br><span class="line">     91              vfs_writev </span><br><span class="line">     91               do_readv_writev </span><br><span class="line">     91                do_sync_readv_writev </span><br><span class="line">     91                 ll_file_aio_write </span><br><span class="line">     91                  ll_file_io_generic </span><br><span class="line">     91                   cl_io_loop </span><br><span class="line">     91                    cl_io_start </span><br><span class="line">     91                     vvp_io_write_start </span><br><span class="line">     91                      __generic_file_write_iter </span><br><span class="line">     91                       __generic_file_aio_write </span><br><span class="line">     91                        generic_file_buffered_write </span><br><span class="line">     91                         ll_write_begin </span><br><span class="line">     72                          vvp_io_write_commit </span><br><span class="line">     19                          ll_page_sync_io </span><br><span class="line">     19                           cl_io_submit_sync </span><br><span class="line">     72                           cl_io_commit_async </span><br><span class="line">     72                            lov_io_commit_async </span><br><span class="line">     19                            cl_sync_io_wait </span><br><span class="line">     72                             cl_io_commit_async </span><br><span class="line">     72                              osc_io_commit_async </span><br><span class="line">     72                               osc_page_cache_add </span><br><span class="line">     72                                osc_queue_async_io </span><br><span class="line">     43                                 osc_extent_find </span><br><span class="line">     29                                 osc_enter_cache </span><br><span class="line">     43                                  osc_extent_wait </span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">0xffffffffffffffff </span><br><span class="line"> ret_from_fork_nospec_begin </span><br><span class="line">  kthread </span><br><span class="line">   nfsd </span><br><span class="line">    svc_process </span><br><span class="line">     svc_process_common </span><br><span class="line">      nfsd_dispatch </span><br><span class="line">       nfsd4_proc_compound </span><br><span class="line">        nfsd4_write </span><br><span class="line">         nfsd_vfs_write </span><br><span class="line">          vfs_writev </span><br><span class="line">           do_readv_writev </span><br><span class="line">            do_sync_readv_writev </span><br><span class="line">             ll_file_aio_write </span><br><span class="line">              ll_file_io_generic </span><br><span class="line">               cl_io_loop </span><br><span class="line">                cl_io_start </span><br><span class="line">                 vvp_io_write_start </span><br><span class="line">                  __generic_file_write_iter </span><br><span class="line">                   __generic_file_aio_write </span><br><span class="line">                    generic_file_buffered_write </span><br><span class="line">                     ll_write_begin </span><br><span class="line">                      ll_page_sync_io </span><br><span class="line">                       cl_io_submit_sync </span><br><span class="line">                        cl_sync_io_wait </span><br><span class="line"></span><br><span class="line">0xffffffffffffffff </span><br><span class="line"> ret_from_fork_nospec_begin </span><br><span class="line">  kthread </span><br><span class="line">   nfsd </span><br><span class="line">    svc_process </span><br><span class="line">     svc_process_common </span><br><span class="line">      nfsd_dispatch </span><br><span class="line">       nfsd4_proc_compound </span><br><span class="line">        nfsd4_setattr </span><br><span class="line">         nfsd_setattr </span><br><span class="line">          notify_change </span><br><span class="line">           ll_setattr </span><br><span class="line">            ll_setattr_raw </span><br><span class="line">             cl_setattr_ost </span><br><span class="line">              cl_io_loop </span><br><span class="line">               cl_io_end </span><br><span class="line">                lov_io_end </span><br><span class="line">                 lov_io_call.isra.4 </span><br><span class="line">                  lov_io_end_wrapper </span><br><span class="line">                   cl_io_end </span><br><span class="line">                    osc_io_setattr_end </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>kallsyms</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$grep -i f9a5e97af7f58 /proc/kallsyms</span><br></pre></td></tr></table></figure>
<p>This holds the kernel exported symbol definitions used by the modules(X) tools to dynamically link and bind loadable mod‐ules. </p>
<p>symbol address  type   symbol name<br>ffffffffc034f070 T sas_rphy_free	[scsi_transport_sas]</p>

  </div>
</article>


    <div class="blog-post-comments">
        <div id="utterances_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Process-status"><span class="toc-number">1.</span> <span class="toc-text">Process status</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Get-the-process-system-overhead"><span class="toc-number">2.</span> <span class="toc-text">Get the process system overhead</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Trace-D-state"><span class="toc-number">3.</span> <span class="toc-text">Trace D state</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2018/12/02/process/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2018/12/02/process/&text=process"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2018/12/02/process/&title=process"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2018/12/02/process/&is_video=false&description=process"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=process&body=Check out this article: http://example.com/2018/12/02/process/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2018/12/02/process/&title=process"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2018/12/02/process/&title=process"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2018/12/02/process/&title=process"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2018/12/02/process/&title=process"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2018/12/02/process/&name=process&description=&lt;h3 id=&#34;Process-status&#34;&gt;&lt;a href=&#34;#Process-status&#34; class=&#34;headerlink&#34; title=&#34;Process status&#34;&gt;&lt;/a&gt;&lt;a href=&#34;https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=06eb61844d841d0032a9950ce7f8e783ee49c0d0&#34;&gt;Process status&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;a href=&#34;https://unix.stackexchange.com/questions/412471/what-does-i-uppercase-i-mean-in-ps-aux&#34;&gt;It is used for kernel threads which use the TASK_IDLE state when idling, instead of TASK_INTERRUPTIBLE; in previous versions of the kernel, such threads were reported as TASK_UNINTERRUPTIBLE which was confusing.&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;diff --git a/fs/proc/array.c b/fs/proc/array.c&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;index 01196d3a..a120a45 100644&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;--- a/fs/proc/array.c&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+++ b/fs/proc/array.c&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;@@ -119,18 +119,23 @@ static inline void task_name(struct seq_file *m, struct task_struct *p)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  * simple bit tests.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; static const char * const task_state_array[] = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-	&lt;span class=&#34;string&#34;&gt;&amp;quot;R (running)&amp;quot;&lt;/span&gt;,		/*   0 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-	&lt;span class=&#34;string&#34;&gt;&amp;quot;S (sleeping)&amp;quot;&lt;/span&gt;,		/*   1 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-	&lt;span class=&#34;string&#34;&gt;&amp;quot;D (disk sleep)&amp;quot;&lt;/span&gt;,	/*   2 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-	&lt;span class=&#34;string&#34;&gt;&amp;quot;T (stopped)&amp;quot;&lt;/span&gt;,		/*   4 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-	&lt;span class=&#34;string&#34;&gt;&amp;quot;t (tracing stop)&amp;quot;&lt;/span&gt;,	/*   8 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-	&lt;span class=&#34;string&#34;&gt;&amp;quot;X (dead)&amp;quot;&lt;/span&gt;,		/*  16 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-	&lt;span class=&#34;string&#34;&gt;&amp;quot;Z (zombie)&amp;quot;&lt;/span&gt;,		/*  32 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	/* states &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; TASK_REPORT: */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	&lt;span class=&#34;string&#34;&gt;&amp;quot;R (running)&amp;quot;&lt;/span&gt;,		/* 0x00 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	&lt;span class=&#34;string&#34;&gt;&amp;quot;S (sleeping)&amp;quot;&lt;/span&gt;,		/* 0x01 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	&lt;span class=&#34;string&#34;&gt;&amp;quot;D (disk sleep)&amp;quot;&lt;/span&gt;,	/* 0x02 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	&lt;span class=&#34;string&#34;&gt;&amp;quot;T (stopped)&amp;quot;&lt;/span&gt;,		/* 0x04 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	&lt;span class=&#34;string&#34;&gt;&amp;quot;t (tracing stop)&amp;quot;&lt;/span&gt;,	/* 0x08 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	&lt;span class=&#34;string&#34;&gt;&amp;quot;X (dead)&amp;quot;&lt;/span&gt;,		/* 0x10 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	&lt;span class=&#34;string&#34;&gt;&amp;quot;Z (zombie)&amp;quot;&lt;/span&gt;,		/* 0x20 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	/* states beyond TASK_REPORT: */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+	&lt;span class=&#34;string&#34;&gt;&amp;quot;I (idle)&amp;quot;&lt;/span&gt;,		/* 0x40 */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2018/12/02/process/&t=process"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2022
    John Doe
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

    <script type="text/javascript">
      var utterances_repo = '67e8c052/67e8c052.github.io';
      var utterances_issue_term = 'pathname';
      var utterances_label = 'blog-comments';
      var utterances_theme = 'github-dark';

      (function(){
          var script = document.createElement('script');

          script.src = 'https://utteranc.es/client.js';
          script.setAttribute('repo', utterances_repo);
          script.setAttribute('issue-term', 'pathname');
          script.setAttribute('label', utterances_label);
          script.setAttribute('theme', utterances_theme);
          script.setAttribute('crossorigin', 'anonymous');
          script.async = true;
          (document.getElementById('utterances_thread')).appendChild(script);
      }());
  </script>

</body>
</html>
