<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="PCIE error handlingThe purpose of this feature is to monitor and report PCI Express errors. There are two mechanisms for error handling. First is base line which is mandatory for every PCIe device, bu">
<meta property="og:type" content="article">
<meta property="og:title" content="pcie debug">
<meta property="og:url" content="http://example.com/2018/07/29/pcie/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="PCIE error handlingThe purpose of this feature is to monitor and report PCI Express errors. There are two mechanisms for error handling. First is base line which is mandatory for every PCIe device, bu">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2018-07-29T08:56:28.000Z">
<meta property="article:modified_time" content="2022-11-15T02:14:19.245Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="pci">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>pcie debug</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2018/11/13/ext4/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2018/04/12/ansible/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2018/07/29/pcie/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2018/07/29/pcie/&text=pcie debug"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2018/07/29/pcie/&title=pcie debug"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2018/07/29/pcie/&is_video=false&description=pcie debug"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=pcie debug&body=Check out this article: http://example.com/2018/07/29/pcie/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2018/07/29/pcie/&title=pcie debug"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2018/07/29/pcie/&title=pcie debug"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2018/07/29/pcie/&title=pcie debug"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2018/07/29/pcie/&title=pcie debug"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2018/07/29/pcie/&name=pcie debug&description=&lt;h3 id=&#34;PCIE-error-handling&#34;&gt;&lt;a href=&#34;#PCIE-error-handling&#34; class=&#34;headerlink&#34; title=&#34;PCIE error handling&#34;&gt;&lt;/a&gt;&lt;a href=&#34;https://wiki.opnfv.org/display/fastpath/PCIe+Errors+High+Level+Design&#34;&gt;PCIE error handling&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The purpose of this feature is to monitor and report PCI Express errors. There are two mechanisms for error handling. First is base line which is mandatory for every PCIe device, but provides only limited information as there are only four error types. It resides in Device Status register of PCI Express capability. The second is extended capability with Advance Error Reporting. It can provide detailed information about errors set on device. Its occurrence is optional, and not every device provides this extended information.&lt;/p&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2018/07/29/pcie/&t=pcie debug"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#PCIE-error-handling"><span class="toc-number">1.</span> <span class="toc-text">PCIE error handling</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Advance-Error-Reporting-support"><span class="toc-number">2.</span> <span class="toc-text">Advance Error Reporting support</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#BIOS-setting"><span class="toc-number">2.1.</span> <span class="toc-text">BIOS setting</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Enable-in-82599"><span class="toc-number">2.2.</span> <span class="toc-text">Enable in 82599</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#example"><span class="toc-number">2.2.1.</span> <span class="toc-text">example</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#config-example"><span class="toc-number">2.3.</span> <span class="toc-text">config example</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        pcie debug
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">John Doe</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2018-07-29T08:56:28.000Z" itemprop="datePublished">2018-07-29</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/Hardware/">Hardware</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/pci/" rel="tag">pci</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h3 id="PCIE-error-handling"><a href="#PCIE-error-handling" class="headerlink" title="PCIE error handling"></a><a target="_blank" rel="noopener" href="https://wiki.opnfv.org/display/fastpath/PCIe+Errors+High+Level+Design">PCIE error handling</a></h3><p>The purpose of this feature is to monitor and report PCI Express errors. There are two mechanisms for error handling. First is base line which is mandatory for every PCIe device, but provides only limited information as there are only four error types. It resides in Device Status register of PCI Express capability. The second is extended capability with Advance Error Reporting. It can provide detailed information about errors set on device. Its occurrence is optional, and not every device provides this extended information.</p>
<span id="more"></span>

<h3 id="Advance-Error-Reporting-support"><a href="#Advance-Error-Reporting-support" class="headerlink" title="Advance Error Reporting support"></a>Advance Error Reporting support</h3><h4 id="BIOS-setting"><a href="#BIOS-setting" class="headerlink" title="BIOS setting"></a><a target="_blank" rel="noopener" href="https://docs.oracle.com/cd/E20815_01/html/E20818/gqkje.html">BIOS setting</a></h4><h4 id="Enable-in-82599"><a href="#Enable-in-82599" class="headerlink" title="Enable in 82599"></a><a target="_blank" rel="noopener" href="https://access.redhat.com/solutions/150063">Enable in 82599</a></h4><h5 id="example"><a href="#example" class="headerlink" title="example"></a><a target="_blank" rel="noopener" href="https://git.kernel.org/pub/scm/linux/kernel/git/gong.chen/aer-inject.git/tree/examples/">example</a></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Settings &gt; Chipset &gt; NorthBridge Configuration and change:</span><br><span class="line">PCIE-MMIO-64 Bits Support to Enabled</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ lspci -vvv -s 02:00.0 | grep -i advance</span><br><span class="line">	Capabilities: [100 v2] Advanced Error Reporting</span><br><span class="line"><span class="comment">#The example of Device Status and AER registers obtained with ‘lspci’:</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> aer</span><br><span class="line">AER</span><br><span class="line">BUS 2 DEV 0 FN 0</span><br><span class="line">COR_STATUS BAD_TLP</span><br><span class="line">HEADER_LOG 0 1 2 3</span><br><span class="line"></span><br><span class="line">$ yum install ras-utils</span><br><span class="line">$ modprobe aer-inject</span><br><span class="line">$ aer-inject aer</span><br><span class="line">[Sun Jul 29 17:20:44 2018] ixgbe 0000:02:00.0: invalid short VPD tag 06 at offset 4</span><br><span class="line">[Sun Jul 29 17:21:45 2018] pcieport 0000:00:02.0: AER: Corrected error received: <span class="built_in">id</span>=0200</span><br><span class="line">[Sun Jul 29 17:21:45 2018] ixgbe 0000:02:00.0: PCIe Bus Error: severity=Corrected, <span class="built_in">type</span>=Data Link Layer, <span class="built_in">id</span>=0200(Receiver ID)</span><br><span class="line">[Sun Jul 29 17:21:45 2018] ixgbe 0000:02:00.0:   device [8086:10fb] error status/mask=00000040/00002000</span><br><span class="line">[Sun Jul 29 17:21:45 2018] ixgbe 0000:02:00.0:    [ 6] Bad TLP</span><br></pre></td></tr></table></figure>
<h4 id="config-example"><a href="#config-example" class="headerlink" title="config example"></a><a target="_blank" rel="noopener" href="https://kernel.googlesource.com/pub/scm/linux/kernel/git/gong.chen/aer-inject/+/master/examples">config example</a></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> mixed-corr-nonfatal</span><br><span class="line"><span class="comment"># Simultaneously inject a correctable bad TLP and an</span></span><br><span class="line"><span class="comment"># uncorrectable/non-fatal completion abort error into the device with header</span></span><br><span class="line"><span class="comment"># log words 0 1 2 3.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Either specify the PCI id on the command-line option or uncomment and edit</span></span><br><span class="line"><span class="comment"># the PCI_ID line below using the correct PCI ID.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Note that system firmware/BIOS may mask certain errors, change their severity</span></span><br><span class="line"><span class="comment"># and/or not report header log words.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">AER</span><br><span class="line"><span class="comment"># PCI_ID [WWWW:]XX.YY.Z</span></span><br><span class="line">COR_STATUS BAD_TLP</span><br><span class="line">UNCOR_STATUS COMP_ABORT</span><br><span class="line">HEADER_LOG 0 1 2 3</span><br><span class="line"></span><br><span class="line">-------------------------------------------------------</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> fatal</span><br><span class="line"><span class="comment"># Inject an uncorrectable/fatal malformed TLP error into the device</span></span><br><span class="line"><span class="comment"># with header log words 0 1 2 3.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Either specify the PCI id on the command-line option or uncomment and edit</span></span><br><span class="line"><span class="comment"># the PCI_ID line below using the correct PCI ID.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Note that system firmware/BIOS may mask certain errors, change their severity</span></span><br><span class="line"><span class="comment"># and/or not report header log words.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">AER</span><br><span class="line"><span class="comment"># PCI_ID [WWWW:]XX.YY.Z</span></span><br><span class="line">UNCOR_STATUS MALF_TLP</span><br><span class="line">HEADER_LOG 0 1 2 3</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> correctable</span><br><span class="line"><span class="comment"># Inject a correctable bad TLP error into the device with header log</span></span><br><span class="line"><span class="comment"># words 0 1 2 3.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Either specify the PCI id on the command-line option or uncomment and edit</span></span><br><span class="line"><span class="comment"># the PCI_ID line below using the correct PCI ID.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Note that system firmware/BIOS may mask certain errors and/or not report</span></span><br><span class="line"><span class="comment"># header log words.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">AER</span><br><span class="line"><span class="comment"># PCI_ID [WWWW:]XX.YY.Z</span></span><br><span class="line">COR_STATUS BAD_TLP</span><br><span class="line">HEADER_LOG 0 1 2 3</span><br><span class="line"></span><br><span class="line">-------------------------------</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> multiple-corr-nonfatal</span><br><span class="line"><span class="comment"># Sequentially inject a correctable bad TLP and a</span></span><br><span class="line"><span class="comment"># uncorrectable/non-fatal completion abort error into the device with header</span></span><br><span class="line"><span class="comment"># various header log words.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Either specify the PCI id on the command-line option or uncomment and edit</span></span><br><span class="line"><span class="comment"># the PCI_ID line below using the correct PCI ID.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Note that system firmware/BIOS may mask certain errors, change their severity</span></span><br><span class="line"><span class="comment"># and/or not report header log words.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">AER</span><br><span class="line"><span class="comment"># PCI_ID [WWWW:]XX.YY.Z</span></span><br><span class="line">COR_STATUS BAD_TLP</span><br><span class="line">HEADER_LOG 0 1 2 3</span><br><span class="line"><span class="comment">#</span></span><br><span class="line">AER</span><br><span class="line"><span class="comment"># PCI_ID [WWWW:]XX.YY.Z</span></span><br><span class="line">UNCOR_STATUS COMP_ABORT</span><br><span class="line">HEADER_LOG 4 5 6 7</span><br><span class="line"></span><br><span class="line">---------------------------</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> syntax-variations</span><br><span class="line"><span class="comment"># Variations in syntax</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Either specify the PCI id on the command-line option or uncomment and edit</span></span><br><span class="line"><span class="comment"># the PCI_ID line below using the correct PCI ID.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># We can use lower-case:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">aer</span><br><span class="line"><span class="comment"># pci_id [WWWW:]XX.YY.Z</span></span><br><span class="line">cor_status rcvr</span><br><span class="line">header_log 0 1 2 3</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># We can use aliases for key words:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">AER</span><br><span class="line"><span class="comment"># ID [WWWW:]XX.YY.Z</span></span><br><span class="line">COR BAD_TLP</span><br><span class="line">HL 4 5 6 7</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># We can put multiple errors on the same line and use octal and hexadecimal</span></span><br><span class="line"><span class="comment"># numbers:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">AER</span><br><span class="line"><span class="comment"># PCI_ID [WWWW:]XX.YY.Z</span></span><br><span class="line">COR_STATUS BAD_DLLP REP_ROLL</span><br><span class="line">HEADER_LOG 010 0x9 0xa 0xB</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># We can use defaults:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">AER</span><br><span class="line"><span class="comment"># PCI_ID [WWWW:]XX.YY.Z</span></span><br><span class="line">COR_STATUS REP_TIMER</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Newlines are ignored and the PCI ID can be specified on the command-line.</span></span><br><span class="line"><span class="comment"># We can also use raw numbers for the error:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">AER COR_STATUS 0x2 HEADER_LOG 0 1 2 3</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pcie_ports=native</span><br><span class="line"></span><br><span class="line">pcie_ports=     [PCIE] PCIe ports handling:</span><br><span class="line">                auto    Ask the BIOS whether or not to use native PCIe services</span><br><span class="line">                        associated with PCIe ports (PME, hot-plug, AER).  Use</span><br><span class="line">                        them only <span class="keyword">if</span> that is allowed by the BIOS.</span><br><span class="line">                native  Use native PCIe services associated with PCIe ports</span><br><span class="line">                        unconditionally.</span><br><span class="line">                compat  Treat PCIe ports as PCI-to-PCI bridges, <span class="built_in">disable</span> the PCIe</span><br><span class="line">                        ports driver.</span><br></pre></td></tr></table></figure>

  </div>
</article>


    <div class="blog-post-comments">
        <div id="utterances_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#PCIE-error-handling"><span class="toc-number">1.</span> <span class="toc-text">PCIE error handling</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Advance-Error-Reporting-support"><span class="toc-number">2.</span> <span class="toc-text">Advance Error Reporting support</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#BIOS-setting"><span class="toc-number">2.1.</span> <span class="toc-text">BIOS setting</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Enable-in-82599"><span class="toc-number">2.2.</span> <span class="toc-text">Enable in 82599</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#example"><span class="toc-number">2.2.1.</span> <span class="toc-text">example</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#config-example"><span class="toc-number">2.3.</span> <span class="toc-text">config example</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2018/07/29/pcie/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2018/07/29/pcie/&text=pcie debug"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2018/07/29/pcie/&title=pcie debug"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2018/07/29/pcie/&is_video=false&description=pcie debug"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=pcie debug&body=Check out this article: http://example.com/2018/07/29/pcie/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2018/07/29/pcie/&title=pcie debug"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2018/07/29/pcie/&title=pcie debug"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2018/07/29/pcie/&title=pcie debug"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2018/07/29/pcie/&title=pcie debug"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2018/07/29/pcie/&name=pcie debug&description=&lt;h3 id=&#34;PCIE-error-handling&#34;&gt;&lt;a href=&#34;#PCIE-error-handling&#34; class=&#34;headerlink&#34; title=&#34;PCIE error handling&#34;&gt;&lt;/a&gt;&lt;a href=&#34;https://wiki.opnfv.org/display/fastpath/PCIe+Errors+High+Level+Design&#34;&gt;PCIE error handling&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;The purpose of this feature is to monitor and report PCI Express errors. There are two mechanisms for error handling. First is base line which is mandatory for every PCIe device, but provides only limited information as there are only four error types. It resides in Device Status register of PCI Express capability. The second is extended capability with Advance Error Reporting. It can provide detailed information about errors set on device. Its occurrence is optional, and not every device provides this extended information.&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2018/07/29/pcie/&t=pcie debug"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2023
    John Doe
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

    <script type="text/javascript">
      var utterances_repo = '67e8c052/67e8c052.github.io';
      var utterances_issue_term = 'pathname';
      var utterances_label = 'blog-comments';
      var utterances_theme = 'github-dark';

      (function(){
          var script = document.createElement('script');

          script.src = 'https://utteranc.es/client.js';
          script.setAttribute('repo', utterances_repo);
          script.setAttribute('issue-term', 'pathname');
          script.setAttribute('label', utterances_label);
          script.setAttribute('theme', utterances_theme);
          script.setAttribute('crossorigin', 'anonymous');
          script.async = true;
          (document.getElementById('utterances_thread')).appendChild(script);
      }());
  </script>

</body>
</html>
